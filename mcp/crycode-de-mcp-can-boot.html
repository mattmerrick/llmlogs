<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="MCP-CAN-Boot - MCP Directory">
    <meta property="og:description" content="">
    <meta property="og:url" content="https://llmlogs.com/mcp/crycode-de-mcp-can-boot.html">
    <meta property="og:type" content="article">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="MCP-CAN-Boot - MCP Directory">
    <meta name="twitter:description" content="">
    
    <title>MCP-CAN-Boot - MCP Directory - LLM Logs</title>
    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-P33Z79C6');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Inter Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Main CSS -->
    <link rel="stylesheet" href="../assets/css/style.css">
    
    <style>
        body {
            font-family: 'Inter', var(--bs-font-sans-serif);
        }
        pre, code {
            font-family: 'Fira Code', monospace;
            background-color: var(--bs-gray-100);
            padding: 0.2rem 0.4rem;
            border-radius: 0.2rem;
            font-size: 0.875em;
        }
        pre code {
            padding: 0;
            background-color: transparent;
        }
        .hero-section {
            background-color: var(--bs-primary);
            color: white;
            padding: 4rem 0;
            margin-bottom: 2rem;
        }
        .blog-meta {
            color: var(--bs-gray-600);
            font-size: 0.9rem;
        }
        .blog-content h2 {
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        .blog-content h3 {
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }
        .blog-content p {
            margin-bottom: 1.25rem;
            line-height: 1.7;
        }
        .blog-content ul, .blog-content ol {
            margin-bottom: 1.25rem;
        }
        .blog-content blockquote {
            border-left: 4px solid var(--bs-primary);
            padding-left: 1rem;
            margin-left: 0;
            color: var(--bs-gray-700);
        }
        /* Project-specific styles */
        .project-meta {
            background-color: var(--bs-gray-100);
            padding: 1.5rem;
            border-radius: 0.5rem;
            margin: 2rem 0;
        }
        .project-meta .meta-item {
            display: flex;
            align-items: center;
            margin-bottom: 0.75rem;
        }
        .project-meta .meta-item svg {
            width: 1.25rem;
            height: 1.25rem;
            margin-right: 0.75rem;
        }
        .topic-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        .topic-tag {
            background-color: var(--bs-gray-200);
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
        }
        .readme-content {
            margin-top: 2rem;
        }
        .readme-content pre {
            background-color: var(--bs-gray-100);
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            position: relative;
        }
        .readme-content img {
            max-width: 100%;
            height: auto;
        }
        /* Copy button styles */
        .copy-button {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            padding: 0.25rem 0.75rem;
            font-size: 0.875rem;
            border-radius: 0.25rem;
            background-color: var(--bs-light);
            border: 1px solid var(--bs-gray-300);
            color: var(--bs-gray-700);
            transition: all 0.2s;
        }
        .copy-button:hover {
            background-color: var(--bs-gray-200);
        }
        .copy-button.copied {
            background-color: var(--bs-success);
            color: white;
            border-color: var(--bs-success);
        }
        /* Share section styles */
        .share-section {
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid var(--bs-gray-200);
        }
        .share-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }
        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            padding: 0.75rem;
            border-radius: 50%;
            background-color: var(--bs-primary);
            color: white;
            border: none;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 1000;
        }
        .back-to-top:not(.hidden) {
            opacity: 1;
        }
    </style>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P33Z79C6"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
        <div class="container">
            <a class="navbar-brand fw-semibold" href="/">LLM Logs</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/start-here.html">Start Here</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/guides/llm-optimization">Guides</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/free-tools">Tools</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/blog">Blog</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://github.com/mattmerrick/llmseoguide" target="_blank" rel="noopener">GitHub</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="hero-section">
        <div class="container">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb mb-4">
                    <li class="breadcrumb-item"><a href="/" class="text-white">Home</a></li>
                    <li class="breadcrumb-item"><a href="/mcp" class="text-white">MCP Directory</a></li>
                    <li class="breadcrumb-item active text-white" aria-current="page">MCP-CAN-Boot</li>
                </ol>
            </nav>
            <h1 class="display-4 mb-3">MCP-CAN-Boot</h1>
        </div>
    </div>

    <!-- Main Content -->
    <main class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <article class="blog-content">
                    <!-- Project Meta -->
                    <div class="project-meta">
                        <div class="meta-item">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
                            </svg>
                            <span>Stars: 36</span>
                        </div>
                        <div class="meta-item">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zM7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zM4.285 9.567a.5.5 0 0 1 .683.183A3.498 3.498 0 0 0 8 11.5a3.498 3.498 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.498 4.498 0 0 1 8 12.5a4.498 4.498 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683zM10 8c-.552 0-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5S10.552 8 10 8z"/>
                            </svg>
                            <span>Language: C++</span>
                        </div>
                        <div class="topic-tags">
                            <span class="topic-tag">avr</span><span class="topic-tag"> bootloader</span><span class="topic-tag"> can-bus</span><span class="topic-tag"> mcp2515</span>
                        </div>
                        <a href="https://github.com/crycode-de/mcp-can-boot" class="btn btn-primary mt-3" target="_blank" rel="noopener">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16" class="me-2">
                                <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
                            </svg>
                            View on GitHub
                        </a>
                    </div>

                    <!-- README Content -->
                    <div class="readme-content">
                        <!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="" name="description"/>
<!-- Open Graph Meta Tags -->
<meta content="MCP-CAN-Boot - MCP Directory" property="og:title"/>
<meta content="" property="og:description"/>
<meta content="https://llmlogs.com/mcp/crycode-de-mcp-can-boot.html" property="og:url"/>
<meta content="article" property="og:type"/>
<!-- Twitter Card Meta Tags -->
<meta content="summary_large_image" name="twitter:card"/>
<meta content="MCP-CAN-Boot - MCP Directory" name="twitter:title"/>
<meta content="" name="twitter:description"/>
<title>MCP-CAN-Boot - MCP Directory - LLM Logs</title>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-P33Z79C6');</script>
<!-- End Google Tag Manager -->
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
<!-- Inter Font -->
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<!-- Main CSS -->
<link href="../assets/css/style.css" rel="stylesheet"/>
<style>
        body {
            font-family: 'Inter', var(--bs-font-sans-serif);
        }
        pre, code {
            font-family: 'Fira Code', monospace;
            background-color: var(--bs-gray-100);
            padding: 0.2rem 0.4rem;
            border-radius: 0.2rem;
            font-size: 0.875em;
        }
        pre code {
            padding: 0;
            background-color: transparent;
        }
        .hero-section {
            background-color: var(--bs-primary);
            color: white;
            padding: 4rem 0;
            margin-bottom: 2rem;
        }
        .blog-meta {
            color: var(--bs-gray-600);
            font-size: 0.9rem;
        }
        .blog-content h2 {
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        .blog-content h3 {
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }
        .blog-content p {
            margin-bottom: 1.25rem;
            line-height: 1.7;
        }
        .blog-content ul, .blog-content ol {
            margin-bottom: 1.25rem;
        }
        .blog-content blockquote {
            border-left: 4px solid var(--bs-primary);
            padding-left: 1rem;
            margin-left: 0;
            color: var(--bs-gray-700);
        }
        /* Project-specific styles */
        .project-meta {
            background-color: var(--bs-gray-100);
            padding: 1.5rem;
            border-radius: 0.5rem;
            margin: 2rem 0;
        }
        .project-meta .meta-item {
            display: flex;
            align-items: center;
            margin-bottom: 0.75rem;
        }
        .project-meta .meta-item svg {
            width: 1.25rem;
            height: 1.25rem;
            margin-right: 0.75rem;
        }
        .topic-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        .topic-tag {
            background-color: var(--bs-gray-200);
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
        }
        .readme-content {
            margin-top: 2rem;
        }
        .readme-content pre {
            background-color: var(--bs-gray-100);
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
        }
        .readme-content img {
            max-width: 100%;
            height: auto;
        }
        .github-link {
            display: inline-flex;
            align-items: center;
            padding: 0.75rem 1.5rem;
            background-color: var(--bs-blue);
            color: white;
            text-decoration: none;
            border-radius: 0.5rem;
            margin-top: 1rem;
        }
        .github-link:hover {
            background-color: var(--bs-blue-dark);
        }
        .github-link svg {
            margin-right: 0.75rem;
        }
    </style>
</head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-P33Z79C6" style="display:none;visibility:hidden" width="0"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
<div class="container">
<a class="navbar-brand fw-semibold" href="/">LLM Logs</a>
<button class="navbar-toggler" data-bs-target="#navbarNav" data-bs-toggle="collapse" type="button">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="navbarNav">
<ul class="navbar-nav ms-auto">
<li class="nav-item">
<a class="nav-link" href="/start-here.html">Start Here</a>
</li>
<li class="nav-item">
<a class="nav-link" href="/guides/llm-optimization">Guides</a>
</li>
<li class="nav-item">
<a class="nav-link" href="/free-tools">Tools</a>
</li>
<li class="nav-item">
<a class="nav-link" href="/blog">Blog</a>
</li>
<li class="nav-item">
<a class="nav-link" href="https://github.com/mattmerrick/llmseoguide" rel="noopener" target="_blank">GitHub</a>
</li>
</ul>
</div>
</div>
</nav>
<!-- Hero Section -->
<div class="hero-section">
<div class="container">
<nav aria-label="breadcrumb">
<ol class="breadcrumb mb-4">
<li class="breadcrumb-item"><a class="text-white" href="/">Home</a></li>
<li class="breadcrumb-item"><a class="text-white" href="/mcp">MCP Directory</a></li>
<li aria-current="page" class="breadcrumb-item active text-white">MCP-CAN-Boot</li>
</ol>
</nav>
<h1 class="display-4 mb-3">MCP-CAN-Boot</h1>
</div>
</div>
<!-- Main Content -->
<main class="container py-5">
<div class="row justify-content-center">
<div class="col-lg-8">
<article class="blog-content">
<!-- Project Meta -->
<div class="project-meta">
<div class="meta-item">
<svg fill="currentColor" viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
<path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
</svg>
<span>Stars: 36</span>
</div>
<div class="meta-item">
<svg fill="currentColor" viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
<path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zM7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zM4.285 9.567a.5.5 0 0 1 .683.183A3.498 3.498 0 0 0 8 11.5a3.498 3.498 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.498 4.498 0 0 1 8 12.5a4.498 4.498 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683zM10 8c-.552 0-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5S10.552 8 10 8z"></path>
</svg>
<span>Language: C++</span>
</div>
<div class="topic-tags">
<span class="topic-tag">avr</span><span class="topic-tag"> bootloader</span><span class="topic-tag"> can-bus</span><span class="topic-tag"> mcp2515</span>
</div>
<a class="github-link" href="https://github.com/crycode-de/mcp-can-boot" rel="noopener" target="_blank">
<svg fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
<path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
</svg>
                            View on GitHub
                        </a>
</div>
<!-- README Content -->
<div class="readme-content">
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<meta content="" name="description">
<!-- Open Graph Meta Tags -->
<meta content="MCP-CAN-Boot - MCP Directory" property="og:title">
<meta content="" property="og:description">
<meta content="https://llmlogs.com/mcp/crycode-de-mcp-can-boot.html" property="og:url">
<meta content="article" property="og:type">
<!-- Twitter Card Meta Tags -->
<meta content="summary_large_image" name="twitter:card">
<meta content="MCP-CAN-Boot - MCP Directory" name="twitter:title">
<meta content="" name="twitter:description">
<title>MCP-CAN-Boot - MCP Directory - LLM Logs</title>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-P33Z79C6');</script>
<!-- End Google Tag Manager -->
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<!-- Inter Font -->
<link href="https://fonts.googleapis.com" rel="preconnect">
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
<!-- Main CSS -->
<link href="../assets/css/style.css" rel="stylesheet">
<style>
        /* Project-specific styles */
        .project-meta {
            @apply bg-gray-50 p-6 rounded-lg my-8;
        }
        .project-meta .meta-item {
            @apply flex items-center mb-3;
        }
        .project-meta .meta-item svg {
            @apply w-5 h-5 mr-3;
        }
        .topic-tags {
            @apply flex flex-wrap gap-2 mt-4;
        }
        .topic-tag {
            @apply bg-gray-100 px-3 py-1 rounded-full text-sm;
        }
        .readme-content {
            @apply mt-8;
        }
        .readme-content pre {
            @apply bg-gray-50 p-4 rounded-lg overflow-x-auto;
        }
        .readme-content img {
            @apply max-w-full h-auto;
        }
        .github-link {
            @apply inline-flex items-center px-6 py-3 bg-blue-600 text-white no-underline rounded-lg mt-4 hover:bg-blue-700;
        }
        .github-link svg {
            @apply mr-3;
        }
        .heading {
            @apply mt-6 mb-4 font-semibold;
        }
        hr {
            @apply my-8 border-0 border-t border-gray-200;
        }
    </style>
</link></link></link></link></link></meta></meta></meta></meta></meta></meta></meta></meta></meta></meta></head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-P33Z79C6" style="display:none;visibility:hidden" width="0"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<!-- Standard Header -->
<header class="site-header">
<div class="nav-container">
<button aria-label="Toggle navigation menu" class="mobile-menu-toggle">
<span class="hamburger"></span>
</button>
<a class="site-logo" href="/">LLM Logs</a>
<nav class="nav-links">
<a class="start-here-link" href="/start-here.html">Start Here</a>
<a href="/guides/llm-optimization">Guides</a>
<a href="/free-tools">Tools</a>
<a href="/blog">Blog</a>
<a href="https://github.com/mattmerrick/llmseoguide" rel="noopener" target="_blank">GitHub</a>
</nav>
</div>
</header>
<main class="content">
<!-- Breadcrumbs -->
<div class="breadcrumbs">
<a href="/">Home</a> Â» 
            <a href="/mcp">MCP Directory</a> Â» 
            <span>MCP-CAN-Boot</span>
</div>
<!-- Article Content -->
<article class="blog-post">
<!-- Project Meta -->
<div class="project-meta">
<div class="meta-item">
<svg fill="currentColor" viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
<path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
</svg>
<span>Stars: 36</span>
</div>
<div class="meta-item">
<svg fill="currentColor" viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
<path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zM7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zM4.285 9.567a.5.5 0 0 1 .683.183A3.498 3.498 0 0 0 8 11.5a3.498 3.498 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.498 4.498 0 0 1 8 12.5a4.498 4.498 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683zM10 8c-.552 0-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5S10.552 8 10 8z"></path>
</svg>
<span>Language: C++</span>
</div>
<div class="topic-tags">
<span class="topic-tag">avr</span><span class="topic-tag"> bootloader</span><span class="topic-tag"> can-bus</span><span class="topic-tag"> mcp2515</span>
</div>
<a class="github-link" href="https://github.com/crycode-de/mcp-can-boot" rel="noopener" target="_blank">
<svg fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
<path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
</svg>
                    View on GitHub
                </a>
</div>
<!-- README Content -->
<div class="readme-content">
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="" name="description"/>
<!-- Open Graph Meta Tags -->
<meta content="MCP-CAN-Boot - MCP Directory" property="og:title"/>
<meta content="" property="og:description"/>
<meta content="https://llmlogs.com/mcp/crycode-de-mcp-can-boot.html" property="og:url"/>
<meta content="article" property="og:type"/>
<!-- Twitter Card Meta Tags -->
<meta content="summary_large_image" name="twitter:card"/>
<meta content="MCP-CAN-Boot - MCP Directory" name="twitter:title"/>
<meta content="" name="twitter:description"/>
<title>MCP-CAN-Boot - MCP Directory - LLM Logs</title>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-P33Z79C6');</script>
<!-- End Google Tag Manager -->
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<link href="/assets/css/style.css" rel="stylesheet"/>
<style>
        /* Project-specific styles */
        .project-meta {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 0.5rem;
            margin: 2rem 0;
        }
        .project-meta .meta-item {
            display: flex;
            align-items: center;
            margin-bottom: 0.75rem;
        }
        .project-meta .meta-item svg {
            width: 20px;
            height: 20px;
            margin-right: 0.75rem;
        }
        .topic-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        .topic-tag {
            background: #e9ecef;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.875rem;
        }
        .readme-content {
            margin-top: 2rem;
        }
        .readme-content pre {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
        }
        .readme-content img {
            max-width: 100%;
            height: auto;
        }
        .github-link {
            display: inline-flex;
            align-items: center;
            padding: 0.75rem 1.5rem;
            background: #0d6efd;
            color: white;
            text-decoration: none;
            border-radius: 0.5rem;
            margin-top: 1rem;
        }
        .github-link:hover {
            background: #0b5ed7;
            color: white;
        }
        .github-link svg {
            margin-right: 0.75rem;
        }
        .heading {
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }
        hr {
            margin: 2rem 0;
            border: 0;
            border-top: 1px solid #dee2e6;
        }
    </style>
</head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-P33Z79C6" style="display:none;visibility:hidden" width="0"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<!-- Standard Header -->
<header class="site-header">
<div class="nav-container">
<button aria-label="Toggle navigation menu" class="mobile-menu-toggle">
<span class="hamburger"></span>
</button>
<a class="site-logo" href="/">LLM Logs</a>
<nav class="nav-links">
<a class="start-here-link" href="/start-here.html">Start Here</a>
<a href="/guides/llm-optimization">Guides</a>
<a href="/free-tools">Tools</a>
<a href="/blog">Blog</a>
<a href="https://github.com/mattmerrick/llmseoguide" rel="noopener" target="_blank">GitHub</a>
</nav>
</div>
</header>
<main class="content">
<!-- Breadcrumbs -->
<div class="breadcrumbs">
<a href="/">Home</a> Â» 
            <a href="/mcp">MCP Directory</a> Â» 
            <span>MCP-CAN-Boot</span>
</div>
<!-- Article Content -->
<article class="blog-post">
<!-- Project Meta -->
<div class="project-meta">
<div class="meta-item">
<svg fill="currentColor" viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
<path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
</svg>
<span>Stars: 36</span>
</div>
<div class="meta-item">
<svg fill="currentColor" viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
<path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zM7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zM4.285 9.567a.5.5 0 0 1 .683.183A3.498 3.498 0 0 0 8 11.5a3.498 3.498 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.498 4.498 0 0 1 8 12.5a4.498 4.498 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683zM10 8c-.552 0-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5S10.552 8 10 8z"></path>
</svg>
<span>Language: C++</span>
</div>
<div class="topic-tags">
<span class="topic-tag">avr</span><span class="topic-tag"> bootloader</span><span class="topic-tag"> can-bus</span><span class="topic-tag"> mcp2515</span>
</div>
<a class="github-link" href="https://github.com/crycode-de/mcp-can-boot" rel="noopener" target="_blank">
<svg fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
<path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
</svg>
                    View on GitHub
                </a>
</div>
<!-- README Content -->
<div class="readme-content">
<h1 class="heading">
 MCP-CAN-Boot
</h1>
<p>
<img alt="MCP-CAN-Boot logo" src="./doc/mcp-can-boot-256.png"/>
</p>
<p>
 CAN bus bootloader for
 <strong>
  AVR microcontrollers
 </strong>
 attached to an
 <strong>
  MCP2515
 </strong>
 CAN controller.
</p>
<p>
<strong>
  Tests:
 </strong>
<img alt="Test and Release" src="https://github.com/crycode-de/mcp-can-boot/workflows/PlatformIO%20CI/badge.svg"/>
</p>
<h2 class="heading">
 Supported features
</h2>
<ul>
<li>
  Flash the main application into a MCU (microcontroller unit)
 </li>
<li>
  Verify after flashing
 </li>
<li>
  Read the whole flash (excluding the bootloader area)
 </li>
<li>
  Erase the whole flash (excluding the bootloader area)
 </li>
<li>
  Unique 16bit IDs to identify the MCU to flash
 </li>
<li>
  Correctly handled disabling of the watchdog at startup to prevent bootloader loops when using the watchdog in the main application
 </li>
<li>
  Use Extended Frame Format (EFF, default) or Standard Frame Format (SFF) CAN-IDs
 </li>
<li>
  Very low impact on active CAN systems which enables to flash MCUs in active networks
 </li>
<li>
  Optional automatic detection of the used bitrate on the CAN bus
 </li>
</ul>
<h2 class="heading">
 Used frameworks and libraries
</h2>
<p>
<em>
  MCP-CAN-Boot
 </em>
 is made as a
 <a href="https://platformio.org/">
  PlatformIO
 </a>
 project.
 <br/>
 It uses parts of the
 <a href="https://www.arduino.cc/">
  Arduino
 </a>
 framework.
</p>
<p>
 For controlling the MCP2515 a modified version of the
 <a href="https://github.com/autowp/arduino-mcp2515">
  Arduino MCP2515 CAN interface library
 </a>
 is used.
</p>
<h2 class="heading">
 Currently supported AVR controllers
</h2>
<ul>
<li>
<a href="http://ww1.microchip.com/downloads/en/devicedoc/doc2503.pdf">
   ATmega32
  </a>
</li>
<li>
<a href="http://ww1.microchip.com/downloads/en/DeviceDoc/Atmel-7810-Automotive-Microcontrollers-ATmega328P_Datasheet.pdf">
   ATmega328P
  </a>
</li>
<li>
<a href="https://ww1.microchip.com/downloads/en/DeviceDoc/40001906A.pdf">
   ATmega328PB
  </a>
</li>
<li>
<a href="https://ww1.microchip.com/downloads/en/DeviceDoc/Atmel-7766-8-bit-AVR-ATmega16U4-32U4_Datasheet.pdf">
   ATmega32U4
  </a>
</li>
<li>
<a href="http://ww1.microchip.com/downloads/en/DeviceDoc/atmel-2490-8-bit-avr-microcontroller-atmega64-l_datasheet.pdf">
   ATmega64
  </a>
</li>
<li>
<a href="https://ww1.microchip.com/downloads/en/DeviceDoc/Atmel-42744-ATmega644P_Datasheet.pdf">
   ATmega644P
  </a>
</li>
<li>
<a href="http://ww1.microchip.com/downloads/en/DeviceDoc/doc2467.pdf">
   ATmega128
  </a>
</li>
<li>
<a href="https://ww1.microchip.com/downloads/en/DeviceDoc/doc8059.pdf">
   ATmega1284P
  </a>
</li>
<li>
<a href="https://ww1.microchip.com/downloads/en/devicedoc/atmel-2549-8-bit-avr-microcontroller-atmega640-1280-1281-2560-2561_datasheet.pdf">
   ATmega2560
  </a>
</li>
</ul>
<h2 class="heading">
 Bootloader size
</h2>
<p>
 This bootloader will fit into a 2048 words (4096 bytes) bootloader section.
</p>
<p>
 The fuse bits of the MCU have to be set correctly to a boot flash section size of 2048 words and the boot reset vector must be enabled (BOOTRST=0).
</p>
<h2 class="heading">
 Flashing the bootloader
</h2>
<p>
 To flash the
 <em>
  MCP-CAN-Boot
 </em>
 bootloader you need to use an ISP programmer.
</p>
<p>
 To upload the bootloader run
 <code class="code">
  pio run --target upload --environment ATmega1284P
 </code>
 for example.
</p>
<p>
 Make sure to set the fuse bits correctly for a 2048 words bootloader and boot resest vector enabled. Otherwise the bootloader will not work.
</p>
<h3 class="heading">
 Set the fuse bits
</h3>
<p>
 Examples for each supported controller are in
 <code class="code">
  platformio.ini
 </code>
 (commented out by default).
</p>
<p>
 To set the fuse bits, enable the lines starting with
 <code class="code">
  board_fuses.*
 </code>
 for your controller.
 <em>
  Always check/edit the fuses values to fit your needs!
 </em>
<br/>
 If you set the correct values, you may run
 <code class="code">
  pio run --target fuses --environment ATmega1284P
 </code>
 to program the fuses on your controller.
</p>
<h2 class="heading">
 CAN bus communication
</h2>
<p>
 The whole communication via the CAN bus uses only two CAN-IDs.
</p>
<p>
<em>
  Defaults:
 </em>
</p>
<ul>
<li>
<code class="code">
   0x1FFFFF01
  </code>
  for messages from MCU to remote
 </li>
<li>
<code class="code">
   0x1FFFFF02
  </code>
  for messages from remote to MCU
 </li>
</ul>
<p>
 Using this two IDs nearly at the end of CAN-ID range with the lowest priority there will be almost none interference flashing an MCU in a active CAN system.
</p>
<p>
 Each CAN message consists of eight data bytes.
 <br/>
 The first four bytes are used for MCU identification, commands, data lengths and data identification. The other four bytes contain the data to read or write.
</p>
<h2 class="heading">
 Flash-App
</h2>
<p>
 The official remote application for flashing the MCU using the CAN bus is written in
 <a href="https://nodejs.org/">
  Node.js
 </a>
 and located in the
 <a href="https://github.com/crycode-de/mcp-can-boot-flash-app">
  mcp-can-boot-flash-app repository
 </a>
 .
</p>
<p>
 The flash-app is also available on
 <em>
  npm
 </em>
 as
 <code class="code">
  mcp-can-boot-flash-app
 </code>
 .
</p>
<p>
 No need to install: Just run the flash-app using
 <code class="code">
  npx
 </code>
 (this will take a moment):
</p>
<pre class="pre"><code class="code">npx mcp-can-boot-flash-app [...]
</code></pre>
<p>
 Or install it globally and run it if you need it more often:
</p>
<pre class="pre"><code class="code">npm install -g mcp-can-boot-flash-app
mcp-can-boot-flash-app [...]
</code></pre>
<h3 class="heading">
 Flash-App parameters
</h3>
<pre class="pre"><code class="code">--file, -f       Hex file to flash                         [string] [required]
--iface, -i      CAN interface to use               [string] [default: "can0"]
--partno, -p     Specific AVR device like in avrdude       [string] [required]
--mcuid, -m      ID of the MCU bootloader                  [string] [required]
-e               Erase whole flash before flashing new data          [boolean]
-V               Do not verify                                       [boolean]
-r               Read flash and save to given file (no flashing!), optional
                 with maximum address to read until                   [string]
-F               Force flashing, even if the bootloader version missmatched
                                                                     [boolean]
--reset, -R      CAN message to send on startup to reset the MCU
                 (&lt;can_id&gt;#{hex_data})                                [string]
--can-id-mcu     CAN-ID for messages from MCU to remote
                                                [string] [default: 0x1FFFFF01]
--can-id-remote  CAN-ID for messages from remote to MCU
                                                [string] [default: 0x1FFFFF02]
--sff            Use Standad Frame Format (SFF) instead of the default
                 Extended Frame Format (EFF) for the CAN-IDs         [boolean]
--ping           Send a ping in the given interval (ms) to keep the bus active
                 (should be used if the bootloader uses bitrate detection)
                                                                      [number]
--help, -h       Show help                                           [boolean]
</code></pre>
<p>
 Example:
</p>
<pre class="pre"><code class="code">npx mcp-can-boot-flash-app -f firmware.hex -p m1284p -m 0x0042
</code></pre>
<h3 class="heading">
 Inofficial (thirdparty) flash applications
</h3>
<ul>
<li>
<a href="https://github.com/Nerdiyde/AVR_CAN_flasher">
   AVR CAN flasher
  </a>
  - ESP32 port of the Flash-App
 </li>
</ul>
<h2 class="heading">
 How to reset the MCU by your main application
</h2>
<p>
 You can use the watchdog to reset the MCU by your main application.
</p>
<p>
 To do so, you have to disable all interrupts, setup the watchdog for a very short time and enter an infinite loop like this:
</p>
<pre class="pre"><code class="language-c code">#include &lt;avr/wdt.h&gt;   // include watchdog functions

cli();                 // disable interrupts
wdt_enable(WDTO_15MS); // watchdog timeout 15ms
while(1);              // wait for watchdog to reset mcu
</code></pre>
<p>
 This will reset your mcu and enter the bootloader.
</p>
<p>
 In the flash-app you may use the -R or --reset argument to send a CAN message which triggers the code above to do reset.
</p>
<h2 class="heading">
 How to read the reset cause (MCUSR/MCUCSR) by your main application
</h2>
<p>
<em>
  MCP-CAN-Boot
 </em>
 clears the MCUSR/MCUCSR register on startup. This is needed for propper watchdog handling.
 <br/>
 The original MCUSR/MCUCSR value is stored in the R2 register by the bootloader which allows you to get it in your main application.
</p>
<p>
 To get the original value of the MCUSR/MCUCSR register by you main application, you have to read from the R2 register.
</p>
<h3 class="heading">
 Read MCUSR/MCUCSR from R2 into a global variable
</h3>
<p>
 To add a globale variable
 <code class="code">
  mcusr
 </code>
 containing the original value of the MCUSR/MCUCSR register just add the following
code on top of your main application:
</p>
<pre class="pre"><code class="language-cpp code">uint8_t mcusr __attribute__ ((section (".noinit")));
void getMCUSR(void) __attribute__((naked)) __attribute__((section(".init0")));
void getMCUSR(void) {
  __asm__ __volatile__ ( "mov %0, r2 \n" : "=r" (mcusr) : );
}
</code></pre>
<p>
 After this, the
 <strong>
  global
 </strong>
 variable
 <code class="code">
  mcusr
 </code>
 is available and contains the value of the original MCUSR/MCUCSR register.
 <br/>
 You don't have to call
 <code class="code">
  getMCUSR
 </code>
 manually! This done automatically by the
 <code class="code">
  init0
 </code>
 section.
</p>
<h3 class="heading">
 Read MCUSR/MCUCSR from R2 into a local variable
</h3>
<p>
 To read the value into a local variable (e.g. inside your
 <code class="code">
  main
 </code>
 function) just add the following code in your function:
</p>
<pre class="pre"><code class="language-cpp code">uint8_t mcusr;
__asm__ __volatile__ ( "mov %0, r2 \n" : "=r" (mcusr) : );
</code></pre>
<p>
 After this, the
 <strong>
  local
 </strong>
 variable
 <code class="code">
  mcusr
 </code>
 is available and contains the value of the original MCUSR/MCUCSR register.
</p>
<h2 class="heading">
 Detailed description of the CAN messages
</h2>
<p>
 Each CAN message has a fixed length of 8 byte. Unneeded bytes will be set to
 <code class="code">
  0x00
 </code>
 and simply ignored.
</p>
<p>
<img alt="Bytes of a CAN message" src="./doc/can-msg-bytes.png"/>
</p>
<h3 class="heading">
 Control bytes
</h3>
<p>
 The lower four bytes (0 to 3) are used as control bytes.
</p>
<h4 class="heading">
 Control byte 0 and 1
</h4>
<p>
 These two bytes always contain the ID of the MCU (
 <code class="code">
  MCU_ID
 </code>
 in
 <code class="code">
  config.h
 </code>
 ) to make sure the correct MCU will be flashed.
The ID is written in big-endian format, so byte 0 is the MSB and byte 1 the LSB.
</p>
<h4 class="heading">
 Control byte 2
</h4>
<p>
 The command which is used to identify the type of message.
The commands are described below.
</p>
<h4 class="heading">
 Control byte 3
</h4>
<p>
 Used to store the amount of the data bytes of the message and a part of the current flash address for verification.
Therefor the three bits 5 to 7 of this byte represent the data length (zero to four bytes) and the bits 0 to 4 are the lower five bits of the current flash address.
This byte will only be used in some commands and otherwise it will be set to
 <code class="code">
  0x00
 </code>
 .
</p>
<p>
<img alt="Bits of byte 3" src="./doc/bits-of-byte-3.png"/>
</p>
<h3 class="heading">
 Data bytes
</h3>
<p>
 The four data bytes 4 to 7 are set depending on the command.
If they contain flash data the byte 3 of the CAN message will be set accordingly.
</p>
<h3 class="heading">
 Commands
</h3>
<table>
<thead>
<tr>
<th>
    Command
   </th>
<th>
    Binary
   </th>
<th>
    Direction
   </th>
</tr>
</thead>
<tbody>
<tr>
<td>
    Bootloader start
   </td>
<td>
<code class="code">
     0b00000010
    </code>
</td>
<td>
    MCU to Remote
   </td>
</tr>
<tr>
<td>
    Flash init
   </td>
<td>
<code class="code">
     0b00000110
    </code>
</td>
<td>
    Remote to MCU
   </td>
</tr>
<tr>
<td>
    Flash ready
   </td>
<td>
<code class="code">
     0b00000100
    </code>
</td>
<td>
    MCU to Remote
   </td>
</tr>
<tr>
<td>
    Flash set address
   </td>
<td>
<code class="code">
     0b00001010
    </code>
</td>
<td>
    Remote to MCU
   </td>
</tr>
<tr>
<td>
    Flash address error
   </td>
<td>
<code class="code">
     0b00001011
    </code>
</td>
<td>
    MCU to Remote
   </td>
</tr>
<tr>
<td>
    Flash data
   </td>
<td>
<code class="code">
     0b00001000
    </code>
</td>
<td>
    Remote to MCU
   </td>
</tr>
<tr>
<td>
    Flash data error
   </td>
<td>
<code class="code">
     0b00001101
    </code>
</td>
<td>
    MCU to Remote
   </td>
</tr>
<tr>
<td>
    Flash done
   </td>
<td>
<code class="code">
     0b00010000
    </code>
</td>
<td>
    Remote to MCU
   </td>
</tr>
<tr>
<td>
    Flash done verify
   </td>
<td>
<code class="code">
     0b01010000
    </code>
</td>
<td>
    Remote to MCU and MCU to Remote
   </td>
</tr>
<tr>
<td>
    Flash erase
   </td>
<td>
<code class="code">
     0b00100000
    </code>
</td>
<td>
    Remote to MCU
   </td>
</tr>
<tr>
<td>
    Flash read
   </td>
<td>
<code class="code">
     0b01000000
    </code>
</td>
<td>
    Remote to MCU
   </td>
</tr>
<tr>
<td>
    Flash read data
   </td>
<td>
<code class="code">
     0b01001000
    </code>
</td>
<td>
    MCU to Remote
   </td>
</tr>
<tr>
<td>
    Flash read address error
   </td>
<td>
<code class="code">
     0b01001011
    </code>
</td>
<td>
    MCU to Remote
   </td>
</tr>
<tr>
<td>
    Start app
   </td>
<td>
<code class="code">
     0b10000000
    </code>
</td>
<td>
    Remote to MCU and MCU to Remote
   </td>
</tr>
<tr>
<td>
    Ping
   </td>
<td>
<code class="code">
     0b00000000
    </code>
</td>
<td>
    Remote to MCU
   </td>
</tr>
</tbody>
</table>
<p>
<em>
  Hint:
 </em>
 All flash addresses will always be the uint32_t byte address with the bytes ordered in big-endian format.
</p>
<h4 class="heading">
 Bootloader start
</h4>
<p>
 The
 <em>
  bootloader start
 </em>
 command will be send by the MCU when the bootloader is started up to notify a possibly waiting flash application.
</p>
<p>
 The data bytes 4, 5 and 6 are set to the device signature 0, 1 and 2 of the AVR. This enables the remote flash application to identify the type of the MCU.
</p>
<p>
 Data byte 7 is set to the command set version of the bootloader to make sure bootloader and flash application are speaking the same language.
</p>
<p>
 After this message is send by the MCU the bootloader waits a limited amount of time (default 250ms, configurable via
 <code class="code">
  TIMEOUT
 </code>
 in
 <code class="code">
  config.h
 </code>
 ) for the
 <em>
  flash init
 </em>
 command.
It no
 <em>
  flash init
 </em>
 is received the bootloader will start main application.
</p>
<h4 class="heading">
 Flash init
</h4>
<p>
<em>
  Flash init
 </em>
 have to be send by the flash application to the MCU after
 <em>
  bootloader start
 </em>
 and before the bootloader starts the main application.
This will enter the flashing mode of the bootloader and is the one and only command which must be timed correctly.
</p>
<p>
 The data bytes 4, 5 and 6 must be set to the correct device signature like in
 <em>
  bootloader start
 </em>
 .
</p>
<p>
 After the bootloader entered the flash mode the next flash address will be set to
 <code class="code">
  0x0000
 </code>
 and a
 <em>
  flash ready
 </em>
 command will be send.
</p>
<h4 class="heading">
 Flash ready
</h4>
<p>
 The
 <em>
  flash ready
 </em>
 command is send by the MCU when ever it is ready to receive the next flash data.
</p>
<p>
 The four data bytes will be set to the flash address  where the next received flash data will be stored.
If this is not the address where the data should be stored, the flash application may send a
 <em>
  flash set address
 </em>
 command.
</p>
<h4 class="heading">
 Flash set address
</h4>
<p>
<em>
  Flash set address
 </em>
 may be used by the flash application to tell the bootloader where the next flash data should be stored.
</p>
<p>
 If the address is set the MUC responds with a
 <em>
  flash ready
 </em>
 command.
If the requested address is out range of the flash area the MCU responds with a
 <em>
  flash address error
 </em>
 command.
</p>
<h4 class="heading">
 Flash address error
</h4>
<p>
 The bootloader responds with
 <em>
  flash address error
 </em>
 if some command from the flash application requested a flash address which is out of range of the flash area of the MCU.
</p>
<p>
 The triggering command will be discarded by the MCU.
</p>
<p>
 The four data bytes will be set to the flash end address which is maximum supported flash address by this MCU (without the bootloader section).
</p>
<p>
 It's up to the flash application to handle this error and let the bootloader know what to do next.
</p>
<h4 class="heading">
 Flash data
</h4>
<p>
<em>
  Flash data
 </em>
 is send from the flash application to the bootloader to transmit the content to flash.
</p>
<p>
 It can contain one to four data bytes.
The number of data bytes must be set in bit 5 to 7 of the byte 3 (length and address part) of the CAN message.
</p>
<p>
 To verify the correct flash address between flash application and bootloader the bits 0 to 4 of the byte 3 must be set to the LSB five bits of the flash address where the data belongs to.
</p>
<p>
 If the data is accepted by the bootloader the flash address will be increased by the received data length and a
 <em>
  flash ready
 </em>
 command will be send. The flash application may directly send the next
 <em>
  flash data
 </em>
 after receiving the
 <em>
  flash ready
 </em>
 command.
</p>
<p>
 If the address part from byte 3 mismatches the expected flash address by the bootloader a
 <em>
  flash data error
 </em>
 command will be send with the four data bytes set to the expected flash address.
</p>
<p>
 The bootloader will respond with a
 <em>
  flash address error
 </em>
 if the data length will exceed the flash end address.
</p>
<h4 class="heading">
 Flash data error
</h4>
<p>
 If the address part in byte 3 of a
 <em>
  flash data
 </em>
 command mismatches the expected flash address by the bootloader it will respond with a
 <em>
  flash data error
 </em>
 . The four data bytes will be set to the expected flash address.
</p>
<p>
 It's up to the flash application to handle this error and let the bootloader know what to do next.
</p>
<h4 class="heading">
 Flash done
</h4>
<p>
 A
 <em>
  flash done
 </em>
 can be send by the flash application if all flash data is transmitted.
The bootloader will write the remaining internal buffer to the flash and then start the main application.
</p>
<h4 class="heading">
 Flash done verify
</h4>
<p>
 A
 <em>
  flash done verify
 </em>
 has to be send by the flash application if all flash data is transmit and the flash application wants to verify (read) the flash.
The bootloader will write the remaining internal buffer to the flash, send a
 <em>
  flash done verify
 </em>
 back to the flash application and wait for
 <em>
  flash read
 </em>
 commands.
</p>
<h4 class="heading">
 Flash read
</h4>
<p>
 Using the
 <em>
  flash read
 </em>
 command the flash application may read the current flash data from the MCU.
</p>
<p>
 In each
 <em>
  flash read
 </em>
 command the four data bytes must be set to the flash address to read from.
If the flash address is behind the flash end address (without bootloader area) a
 <em>
  flash read address error
 </em>
 will be send back to flash application.
</p>
<p>
 There will always be four bytes read from the flash. In case of this exceeds the flash end address, the remaining bytes will be set to
 <code class="code">
  0x00
 </code>
 .
</p>
<p>
 The bootloader will respond with a
 <em>
  flash read data
 </em>
 message.
</p>
<h4 class="heading">
 Flash read data
</h4>
<p>
 The bootloader sends a
 <em>
  flash read data
 </em>
 command in response to a
 <em>
  flash read
 </em>
 .
</p>
<p>
 The data bytes will be set to flash data read from the MCU flash at the requested address.
</p>
<p>
 In byte 3 of the CAN message there will be set the length of the read flash data (bit 5 to 7) and the LSB address part of the read flash address (bit 0 to 5).
</p>
<p>
 Directly after receiving the
 <em>
  flash read data
 </em>
 the flash application may send the next
 <em>
  flash read
 </em>
 commend.
</p>
<p>
 If all needed flash data is read by the flash application it have to send a
 <em>
  start app
 </em>
 command to let the bootloader exit the flashing mode and start the main application.
</p>
<p>
 Additionally the flash application may continue to flash data using
 <em>
  flash set address
 </em>
 and
 <em>
  flash data
 </em>
 commands.
</p>
<h4 class="heading">
 Flash read address error
</h4>
<p>
 A
 <em>
  flash address read error
 </em>
 will be send by the bootloader if a
 <em>
  flash read
 </em>
 tried to read data behind the flash end address (without bootloader section).
</p>
<p>
 It's up to the flash application to handle this error and let the bootloader know what to do next.
</p>
<h4 class="heading">
 Flash erase
</h4>
<p>
 The
 <em>
  flash erase
 </em>
 command my be send by the flash application to let the bootloader erase the whole flash (without the bootloader section).
</p>
<p>
 When the erase is done the bootloader will set the next flash address to
 <code class="code">
  0x0000
 </code>
 and respond with a
 <em>
  flash ready
 </em>
 command.
</p>
<p>
 The flash application may use
 <em>
  flash erase
 </em>
 before the first
 <em>
  flash data
 </em>
 command to ensure a clean MCU flash before flashing a new application.
</p>
<h4 class="heading">
 Start app
</h4>
<p>
 The
 <em>
  start app
 </em>
 command will be send by the bootloader to the flash application if the bootloader is starting the main application from flashing mode.
</p>
<p>
 If the bootloader is starting the main application without entering flashing mode (normal MCU startup) no
 <em>
  start app
 </em>
 will be send.
</p>
<p>
 Additionally a
 <em>
  start app
 </em>
 command may be send at any time by the flash application to the bootloader while the bootloader is in flashing mode. This will stop the flashing process without writing anything else to the flash and start the main application.
</p>
<h3 class="heading">
 Communication example
</h3>
<p>
<img alt="Communication example" src="./doc/flash-sequence.svg"/>
</p>
<h2 class="heading">
 Changelog
</h2>
<h2 class="heading">
 1.4.1 (2024-08-12)
</h2>
<ul>
<li>
  Added support for
  <em>
   ATmega328PB
  </em>
</li>
</ul>
<h2 class="heading">
 1.4.0 (2023-06-12)
</h2>
<ul>
<li>
  Added support for
  <em>
   ATmega32U4
  </em>
</li>
<li>
  Optimized bootloader size (724 to 770 bytes smaller dending on used MCU)
  <br/>
  Thanks to
  <a href="https://github.com/hankedan000">
   Dan Hankewycz (hankedan000)
  </a>
  !
 </li>
<li>
  Added bitrate detect feature (merged from it's own branch since it now fits into 2048 words bootloader section)
 </li>
</ul>
<h2 class="heading">
 1.3.1 (2021-09-30)
</h2>
<ul>
<li>
  Fixed variable overflow while flashing addresses bigger than 0xFFFF (Tanks to Cosmin-Andrei Popovici for reporting this issue!)
 </li>
<li>
  Updated readme and fixed some spelling issues
 </li>
</ul>
<h2 class="heading">
 1.3.0 (2021-06-18)
</h2>
<ul>
<li>
  Added config option to use SFF CAN-IDs instead of the default EFF CAN-IDs
 </li>
<li>
  Added some basic checks for the defined CAN-IDs at compile time
 </li>
</ul>
<h2 class="heading">
 1.2.0 (2021-06-17)
</h2>
<ul>
<li>
  Added storing MCUSR into R2 on bootup
  <br/>
  This makes it possible to find the MCU reset caused in run code.
 </li>
</ul>
<h2 class="heading">
 License
</h2>
<p>
<strong>
  CC BY-NC-SA 4.0
 </strong>
</p>
<p>
<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
  Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International
 </a>
</p>
<p>
 Copyright (C) 2020-2024 Peter MÃ¼ller
 <a href="mailto:peter@crycode.de">
  peter@crycode.de
 </a>
<a href="https://crycode.de">
  https://crycode.de
 </a>
</p>
</div>
<!-- Share Section -->
<div class="share-section">
<h3>Share this Project</h3>
<div class="share-buttons">
<button class="share-button" data-url="https://llmlogs.com/mcp/crycode-de-mcp-can-boot.html">Copy Link</button>
</div>
</div>
</article>
</main>
<!-- Standard Footer -->
<footer class="site-footer">
<div class="footer-content">
<div class="footer-links">
<a href="/">Home</a>
<a href="/guides">Guides</a>
<a href="/free-tools">Tools</a>
<a href="/blog">Blog</a>
<a href="https://github.com/mattmerrick/llmseoguide" rel="noopener" target="_blank">GitHub</a>
</div>
<div class="footer-bottom">
<p>Â© 2025 LLM Logs. All rights reserved.</p>
</div>
</div>
</footer>
<!-- Required Scripts -->
<script src="/assets/js/main.js"></script>
</body>
</html>
</div>
<!-- Share Section -->
<div class="share-section">
<h3>Share this Project</h3>
<div class="share-buttons">
<button class="share-button" data-url="https://llmlogs.com/mcp/crycode-de-mcp-can-boot.html">Copy Link</button>
</div>
</div>
</article>
</main>
<!-- Standard Footer -->
<footer class="site-footer">
<div class="footer-content">
<div class="footer-links">
<a href="/">Home</a>
<a href="/guides">Guides</a>
<a href="/free-tools">Tools</a>
<a href="/blog">Blog</a>
<a href="https://github.com/mattmerrick/llmseoguide" rel="noopener" target="_blank">GitHub</a>
</div>
<div class="footer-bottom">
<p>Â© 2025 LLM Logs. All rights reserved.</p>
</div>
</div>
</footer>
<!-- Required Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="../assets/js/main.js"></script>
</body>
</html>
</div>
<!-- Share Section -->
<div class="share-section">
<h3>Share this Project</h3>
<div class="share-buttons">
<button class="share-button" data-url="https://llmlogs.com/mcp/crycode-de-mcp-can-boot.html">Copy Link</button>
</div>
</div>
</article>
</div>
</div>
</main>
<footer class="bg-white py-5 mt-5">
<div class="container">
<div class="row justify-content-center text-center">
<div class="col-md-8">
<div class="d-flex flex-column flex-md-row justify-content-center gap-4 mb-4">
<a class="text-muted text-decoration-none" href="/">Home</a>
<a class="text-muted text-decoration-none" href="/guides">Guides</a>
<a class="text-muted text-decoration-none" href="/tool-reviews">Tool Reviews</a>
<a class="text-muted text-decoration-none" href="/blog">Blog</a>
<a class="text-muted text-decoration-none" href="https://github.com/mattmerrick/llmseoguide" rel="noopener" target="_blank">GitHub</a>
</div>
<p class="text-muted small mb-0">Â© 2025 LLM Logs. All rights reserved.</p>
</div>
</div>
</div>
</footer>
<!-- Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="../assets/js/main.js"></script>
</body>
</html>
                    </div>

                    <!-- Share Section -->
                    <div class="share-section">
                        <h3>Share this Project</h3>
                        <div class="share-buttons">
                            <button class="btn btn-outline-primary share-button" data-url="https://llmlogs.com/mcp/crycode-de-mcp-can-boot.html">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link-45deg me-2" viewBox="0 0 16 16">
                                    <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"/>
                                    <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"/>
                                </svg>
                                Copy Link
                            </button>
                        </div>
                    </div>
                </article>
            </div>
        </div>
    </main>

    <button class="btn btn-primary back-to-top hidden" aria-label="Back to top">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z"/>
        </svg>
    </button>

    <footer class="bg-white py-5 mt-5">
        <div class="container">
            <div class="row justify-content-center text-center">
                <div class="col-md-8">
                    <div class="d-flex flex-column flex-md-row justify-content-center gap-4 mb-4">
                        <a href="/" class="text-muted text-decoration-none">Home</a>
                        <a href="/guides" class="text-muted text-decoration-none">Guides</a>
                        <a href="/tools" class="text-muted text-decoration-none">Tools</a>
                        <a href="/blog" class="text-muted text-decoration-none">Blog</a>
                        <a href="https://github.com/mattmerrick/llmseoguide" target="_blank" rel="noopener" class="text-muted text-decoration-none">GitHub</a>
                    </div>
                    <p class="text-muted small mb-0">&copy; 2025 LLM Logs. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/js/main.js"></script>
</body>
</html>
