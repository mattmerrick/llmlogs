<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="å¼€å‘ SSE ç±»åž‹çš„ MCP æœåŠ¡ - MCP Directory">
    <meta property="og:description" content="">
    <meta property="og:url" content="https://llmlogs.com/mcp/cnych-mcp-sse-demo.html">
    <meta property="og:type" content="article">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="å¼€å‘ SSE ç±»åž‹çš„ MCP æœåŠ¡ - MCP Directory">
    <meta name="twitter:description" content="">
    
    <title>å¼€å‘ SSE ç±»åž‹çš„ MCP æœåŠ¡ - MCP Directory - LLM Logs</title>
    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-P33Z79C6');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Inter Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Main CSS -->
    <link rel="stylesheet" href="../assets/css/style.css">
    
    <style>
        body {
            font-family: 'Inter', var(--bs-font-sans-serif);
        }
        pre, code {
            font-family: 'Fira Code', monospace;
            background-color: var(--bs-gray-100);
            padding: 0.2rem 0.4rem;
            border-radius: 0.2rem;
            font-size: 0.875em;
        }
        pre code {
            padding: 0;
            background-color: transparent;
        }
        .hero-section {
            background-color: var(--bs-primary);
            color: white;
            padding: 4rem 0;
            margin-bottom: 2rem;
        }
        .blog-meta {
            color: var(--bs-gray-600);
            font-size: 0.9rem;
        }
        .blog-content h2 {
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        .blog-content h3 {
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }
        .blog-content p {
            margin-bottom: 1.25rem;
            line-height: 1.7;
        }
        .blog-content ul, .blog-content ol {
            margin-bottom: 1.25rem;
        }
        .blog-content blockquote {
            border-left: 4px solid var(--bs-primary);
            padding-left: 1rem;
            margin-left: 0;
            color: var(--bs-gray-700);
        }
        /* Project-specific styles */
        .project-meta {
            background-color: var(--bs-gray-100);
            padding: 1.5rem;
            border-radius: 0.5rem;
            margin: 2rem 0;
        }
        .project-meta .meta-item {
            display: flex;
            align-items: center;
            margin-bottom: 0.75rem;
        }
        .project-meta .meta-item svg {
            width: 1.25rem;
            height: 1.25rem;
            margin-right: 0.75rem;
        }
        .topic-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        .topic-tag {
            background-color: var(--bs-gray-200);
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
        }
        .readme-content {
            margin-top: 2rem;
        }
        .readme-content pre {
            background-color: var(--bs-gray-100);
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            position: relative;
        }
        .readme-content img {
            max-width: 100%;
            height: auto;
        }
        /* Copy button styles */
        .copy-button {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            padding: 0.25rem 0.75rem;
            font-size: 0.875rem;
            border-radius: 0.25rem;
            background-color: var(--bs-light);
            border: 1px solid var(--bs-gray-300);
            color: var(--bs-gray-700);
            transition: all 0.2s;
        }
        .copy-button:hover {
            background-color: var(--bs-gray-200);
        }
        .copy-button.copied {
            background-color: var(--bs-success);
            color: white;
            border-color: var(--bs-success);
        }
        /* Share section styles */
        .share-section {
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid var(--bs-gray-200);
        }
        .share-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }
        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            padding: 0.75rem;
            border-radius: 50%;
            background-color: var(--bs-primary);
            color: white;
            border: none;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 1000;
        }
        .back-to-top:not(.hidden) {
            opacity: 1;
        }
    </style>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P33Z79C6"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
        <div class="container">
            <a class="navbar-brand fw-semibold" href="/">LLM Logs</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/start-here.html">Start Here</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/guides/llm-optimization">Guides</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/free-tools">Tools</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/blog">Blog</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://github.com/mattmerrick/llmseoguide" target="_blank" rel="noopener">GitHub</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="hero-section">
        <div class="container">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb mb-4">
                    <li class="breadcrumb-item"><a href="/" class="text-white">Home</a></li>
                    <li class="breadcrumb-item"><a href="/mcp" class="text-white">MCP Directory</a></li>
                    <li class="breadcrumb-item active text-white" aria-current="page">å¼€å‘ SSE ç±»åž‹çš„ MCP æœåŠ¡</li>
                </ol>
            </nav>
            <h1 class="display-4 mb-3">å¼€å‘ SSE ç±»åž‹çš„ MCP æœåŠ¡</h1>
        </div>
    </div>

    <!-- Main Content -->
    <main class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <article class="blog-content">
                    <!-- Project Meta -->
                    <div class="project-meta">
                        <div class="meta-item">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
                            </svg>
                            <span>Stars: 66</span>
                        </div>
                        <div class="meta-item">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zM7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zM4.285 9.567a.5.5 0 0 1 .683.183A3.498 3.498 0 0 0 8 11.5a3.498 3.498 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.498 4.498 0 0 1 8 12.5a4.498 4.498 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683zM10 8c-.552 0-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5S10.552 8 10 8z"/>
                            </svg>
                            <span>Language: TypeScript</span>
                        </div>
                        <div class="topic-tags">
                            
                        </div>
                        <a href="https://github.com/cnych/mcp-sse-demo" class="btn btn-primary mt-3" target="_blank" rel="noopener">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16" class="me-2">
                                <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
                            </svg>
                            View on GitHub
                        </a>
                    </div>

                    <!-- README Content -->
                    <div class="readme-content">
                        <!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="" name="description"/>
<!-- Open Graph Meta Tags -->
<meta content="å¼€å‘ SSE ç±»åž‹çš„ MCP æœåŠ¡ - MCP Directory" property="og:title"/>
<meta content="" property="og:description"/>
<meta content="https://llmlogs.com/mcp/cnych-mcp-sse-demo.html" property="og:url"/>
<meta content="article" property="og:type"/>
<!-- Twitter Card Meta Tags -->
<meta content="summary_large_image" name="twitter:card"/>
<meta content="å¼€å‘ SSE ç±»åž‹çš„ MCP æœåŠ¡ - MCP Directory" name="twitter:title"/>
<meta content="" name="twitter:description"/>
<title>å¼€å‘ SSE ç±»åž‹çš„ MCP æœåŠ¡ - MCP Directory - LLM Logs</title>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-P33Z79C6');</script>
<!-- End Google Tag Manager -->
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
<!-- Inter Font -->
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<!-- Main CSS -->
<link href="../assets/css/style.css" rel="stylesheet"/>
<style>
        body {
            font-family: 'Inter', var(--bs-font-sans-serif);
        }
        pre, code {
            font-family: 'Fira Code', monospace;
            background-color: var(--bs-gray-100);
            padding: 0.2rem 0.4rem;
            border-radius: 0.2rem;
            font-size: 0.875em;
        }
        pre code {
            padding: 0;
            background-color: transparent;
        }
        .hero-section {
            background-color: var(--bs-primary);
            color: white;
            padding: 4rem 0;
            margin-bottom: 2rem;
        }
        .blog-meta {
            color: var(--bs-gray-600);
            font-size: 0.9rem;
        }
        .blog-content h2 {
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        .blog-content h3 {
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }
        .blog-content p {
            margin-bottom: 1.25rem;
            line-height: 1.7;
        }
        .blog-content ul, .blog-content ol {
            margin-bottom: 1.25rem;
        }
        .blog-content blockquote {
            border-left: 4px solid var(--bs-primary);
            padding-left: 1rem;
            margin-left: 0;
            color: var(--bs-gray-700);
        }
        /* Project-specific styles */
        .project-meta {
            background-color: var(--bs-gray-100);
            padding: 1.5rem;
            border-radius: 0.5rem;
            margin: 2rem 0;
        }
        .project-meta .meta-item {
            display: flex;
            align-items: center;
            margin-bottom: 0.75rem;
        }
        .project-meta .meta-item svg {
            width: 1.25rem;
            height: 1.25rem;
            margin-right: 0.75rem;
        }
        .topic-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        .topic-tag {
            background-color: var(--bs-gray-200);
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
        }
        .readme-content {
            margin-top: 2rem;
        }
        .readme-content pre {
            background-color: var(--bs-gray-100);
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
        }
        .readme-content img {
            max-width: 100%;
            height: auto;
        }
        .github-link {
            display: inline-flex;
            align-items: center;
            padding: 0.75rem 1.5rem;
            background-color: var(--bs-blue);
            color: white;
            text-decoration: none;
            border-radius: 0.5rem;
            margin-top: 1rem;
        }
        .github-link:hover {
            background-color: var(--bs-blue-dark);
        }
        .github-link svg {
            margin-right: 0.75rem;
        }
    </style>
</head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-P33Z79C6" style="display:none;visibility:hidden" width="0"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
<div class="container">
<a class="navbar-brand fw-semibold" href="/">LLM Logs</a>
<button class="navbar-toggler" data-bs-target="#navbarNav" data-bs-toggle="collapse" type="button">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="navbarNav">
<ul class="navbar-nav ms-auto">
<li class="nav-item">
<a class="nav-link" href="/start-here.html">Start Here</a>
</li>
<li class="nav-item">
<a class="nav-link" href="/guides/llm-optimization">Guides</a>
</li>
<li class="nav-item">
<a class="nav-link" href="/free-tools">Tools</a>
</li>
<li class="nav-item">
<a class="nav-link" href="/blog">Blog</a>
</li>
<li class="nav-item">
<a class="nav-link" href="https://github.com/mattmerrick/llmseoguide" rel="noopener" target="_blank">GitHub</a>
</li>
</ul>
</div>
</div>
</nav>
<!-- Hero Section -->
<div class="hero-section">
<div class="container">
<nav aria-label="breadcrumb">
<ol class="breadcrumb mb-4">
<li class="breadcrumb-item"><a class="text-white" href="/">Home</a></li>
<li class="breadcrumb-item"><a class="text-white" href="/mcp">MCP Directory</a></li>
<li aria-current="page" class="breadcrumb-item active text-white">å¼€å‘ SSE ç±»åž‹çš„ MCP æœåŠ¡</li>
</ol>
</nav>
<h1 class="display-4 mb-3">å¼€å‘ SSE ç±»åž‹çš„ MCP æœåŠ¡</h1>
</div>
</div>
<!-- Main Content -->
<main class="container py-5">
<div class="row justify-content-center">
<div class="col-lg-8">
<article class="blog-content">
<!-- Project Meta -->
<div class="project-meta">
<div class="meta-item">
<svg fill="currentColor" viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
<path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
</svg>
<span>Stars: 66</span>
</div>
<div class="meta-item">
<svg fill="currentColor" viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
<path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zM7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zM4.285 9.567a.5.5 0 0 1 .683.183A3.498 3.498 0 0 0 8 11.5a3.498 3.498 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.498 4.498 0 0 1 8 12.5a4.498 4.498 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683zM10 8c-.552 0-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5S10.552 8 10 8z"></path>
</svg>
<span>Language: TypeScript</span>
</div>
<div class="topic-tags">
</div>
<a class="github-link" href="https://github.com/cnych/mcp-sse-demo" rel="noopener" target="_blank">
<svg fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
<path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
</svg>
                            View on GitHub
                        </a>
</div>
<!-- README Content -->
<div class="readme-content">
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<meta content="" name="description">
<!-- Open Graph Meta Tags -->
<meta content="å¼€å‘ SSE ç±»åž‹çš„ MCP æœåŠ¡ - MCP Directory" property="og:title">
<meta content="" property="og:description">
<meta content="https://llmlogs.com/mcp/cnych-mcp-sse-demo.html" property="og:url">
<meta content="article" property="og:type">
<!-- Twitter Card Meta Tags -->
<meta content="summary_large_image" name="twitter:card">
<meta content="å¼€å‘ SSE ç±»åž‹çš„ MCP æœåŠ¡ - MCP Directory" name="twitter:title">
<meta content="" name="twitter:description">
<title>å¼€å‘ SSE ç±»åž‹çš„ MCP æœåŠ¡ - MCP Directory - LLM Logs</title>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-P33Z79C6');</script>
<!-- End Google Tag Manager -->
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<!-- Inter Font -->
<link href="https://fonts.googleapis.com" rel="preconnect">
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
<!-- Main CSS -->
<link href="../assets/css/style.css" rel="stylesheet">
<style>
        /* Project-specific styles */
        .project-meta {
            @apply bg-gray-50 p-6 rounded-lg my-8;
        }
        .project-meta .meta-item {
            @apply flex items-center mb-3;
        }
        .project-meta .meta-item svg {
            @apply w-5 h-5 mr-3;
        }
        .topic-tags {
            @apply flex flex-wrap gap-2 mt-4;
        }
        .topic-tag {
            @apply bg-gray-100 px-3 py-1 rounded-full text-sm;
        }
        .readme-content {
            @apply mt-8;
        }
        .readme-content pre {
            @apply bg-gray-50 p-4 rounded-lg overflow-x-auto;
        }
        .readme-content img {
            @apply max-w-full h-auto;
        }
        .github-link {
            @apply inline-flex items-center px-6 py-3 bg-blue-600 text-white no-underline rounded-lg mt-4 hover:bg-blue-700;
        }
        .github-link svg {
            @apply mr-3;
        }
        .heading {
            @apply mt-6 mb-4 font-semibold;
        }
        hr {
            @apply my-8 border-0 border-t border-gray-200;
        }
    </style>
</link></link></link></link></link></meta></meta></meta></meta></meta></meta></meta></meta></meta></meta></head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-P33Z79C6" style="display:none;visibility:hidden" width="0"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<!-- Standard Header -->
<header class="site-header">
<div class="nav-container">
<button aria-label="Toggle navigation menu" class="mobile-menu-toggle">
<span class="hamburger"></span>
</button>
<a class="site-logo" href="/">LLM Logs</a>
<nav class="nav-links">
<a class="start-here-link" href="/start-here.html">Start Here</a>
<a href="/guides/llm-optimization">Guides</a>
<a href="/free-tools">Tools</a>
<a href="/blog">Blog</a>
<a href="https://github.com/mattmerrick/llmseoguide" rel="noopener" target="_blank">GitHub</a>
</nav>
</div>
</header>
<main class="content">
<!-- Breadcrumbs -->
<div class="breadcrumbs">
<a href="/">Home</a> Â» 
            <a href="/mcp">MCP Directory</a> Â» 
            <span>å¼€å‘ SSE ç±»åž‹çš„ MCP æœåŠ¡</span>
</div>
<!-- Article Content -->
<article class="blog-post">
<!-- Project Meta -->
<div class="project-meta">
<div class="meta-item">
<svg fill="currentColor" viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
<path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
</svg>
<span>Stars: 66</span>
</div>
<div class="meta-item">
<svg fill="currentColor" viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
<path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zM7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zM4.285 9.567a.5.5 0 0 1 .683.183A3.498 3.498 0 0 0 8 11.5a3.498 3.498 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.498 4.498 0 0 1 8 12.5a4.498 4.498 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683zM10 8c-.552 0-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5S10.552 8 10 8z"></path>
</svg>
<span>Language: TypeScript</span>
</div>
<div class="topic-tags">
</div>
<a class="github-link" href="https://github.com/cnych/mcp-sse-demo" rel="noopener" target="_blank">
<svg fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
<path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
</svg>
                    View on GitHub
                </a>
</div>
<!-- README Content -->
<div class="readme-content">
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="" name="description"/>
<!-- Open Graph Meta Tags -->
<meta content="å¼€å‘ SSE ç±»åž‹çš„ MCP æœåŠ¡ - MCP Directory" property="og:title"/>
<meta content="" property="og:description"/>
<meta content="https://llmlogs.com/mcp/cnych-mcp-sse-demo.html" property="og:url"/>
<meta content="article" property="og:type"/>
<!-- Twitter Card Meta Tags -->
<meta content="summary_large_image" name="twitter:card"/>
<meta content="å¼€å‘ SSE ç±»åž‹çš„ MCP æœåŠ¡ - MCP Directory" name="twitter:title"/>
<meta content="" name="twitter:description"/>
<title>å¼€å‘ SSE ç±»åž‹çš„ MCP æœåŠ¡ - MCP Directory - LLM Logs</title>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-P33Z79C6');</script>
<!-- End Google Tag Manager -->
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<link href="/assets/css/style.css" rel="stylesheet"/>
<style>
        /* Project-specific styles */
        .project-meta {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 0.5rem;
            margin: 2rem 0;
        }
        .project-meta .meta-item {
            display: flex;
            align-items: center;
            margin-bottom: 0.75rem;
        }
        .project-meta .meta-item svg {
            width: 20px;
            height: 20px;
            margin-right: 0.75rem;
        }
        .topic-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        .topic-tag {
            background: #e9ecef;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.875rem;
        }
        .readme-content {
            margin-top: 2rem;
        }
        .readme-content pre {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
        }
        .readme-content img {
            max-width: 100%;
            height: auto;
        }
        .github-link {
            display: inline-flex;
            align-items: center;
            padding: 0.75rem 1.5rem;
            background: #0d6efd;
            color: white;
            text-decoration: none;
            border-radius: 0.5rem;
            margin-top: 1rem;
        }
        .github-link:hover {
            background: #0b5ed7;
            color: white;
        }
        .github-link svg {
            margin-right: 0.75rem;
        }
        .heading {
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }
        hr {
            margin: 2rem 0;
            border: 0;
            border-top: 1px solid #dee2e6;
        }
    </style>
</head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-P33Z79C6" style="display:none;visibility:hidden" width="0"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<!-- Standard Header -->
<header class="site-header">
<div class="nav-container">
<button aria-label="Toggle navigation menu" class="mobile-menu-toggle">
<span class="hamburger"></span>
</button>
<a class="site-logo" href="/">LLM Logs</a>
<nav class="nav-links">
<a class="start-here-link" href="/start-here.html">Start Here</a>
<a href="/guides/llm-optimization">Guides</a>
<a href="/free-tools">Tools</a>
<a href="/blog">Blog</a>
<a href="https://github.com/mattmerrick/llmseoguide" rel="noopener" target="_blank">GitHub</a>
</nav>
</div>
</header>
<main class="content">
<!-- Breadcrumbs -->
<div class="breadcrumbs">
<a href="/">Home</a> Â» 
            <a href="/mcp">MCP Directory</a> Â» 
            <span>å¼€å‘ SSE ç±»åž‹çš„ MCP æœåŠ¡</span>
</div>
<!-- Article Content -->
<article class="blog-post">
<!-- Project Meta -->
<div class="project-meta">
<div class="meta-item">
<svg fill="currentColor" viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
<path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
</svg>
<span>Stars: 66</span>
</div>
<div class="meta-item">
<svg fill="currentColor" viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
<path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zM7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zM4.285 9.567a.5.5 0 0 1 .683.183A3.498 3.498 0 0 0 8 11.5a3.498 3.498 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.498 4.498 0 0 1 8 12.5a4.498 4.498 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683zM10 8c-.552 0-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5S10.552 8 10 8z"></path>
</svg>
<span>Language: TypeScript</span>
</div>
<div class="topic-tags">
</div>
<a class="github-link" href="https://github.com/cnych/mcp-sse-demo" rel="noopener" target="_blank">
<svg fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
<path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
</svg>
                    View on GitHub
                </a>
</div>
<!-- README Content -->
<div class="readme-content">
<p>
<a href="https://mseep.ai/app/cnych-mcp-sse-demo">
<img alt="MseeP.ai Security Assessment Badge" src="https://mseep.net/pr/cnych-mcp-sse-demo-badge.png"/>
</a>
</p>
<h1 class="heading">
 å¼€å‘ SSE ç±»åž‹çš„ MCP æœåŠ¡
</h1>
<p>
<a href="https://www.claudemcp.com/">
  MCP
 </a>
 æ”¯æŒä¸¤ç§é€šä¿¡ä¼ è¾“æ–¹æ³•ï¼š
 <code class="code">
  STDIO
 </code>
 ï¼ˆæ ‡å‡†è¾“å…¥/è¾“å‡ºï¼‰æˆ–
 <code class="code">
  SSE
 </code>
 ï¼ˆæœåŠ¡å™¨æŽ¨é€äº‹ä»¶ï¼‰ï¼Œä¸¤è€…éƒ½ä½¿ç”¨
 <code class="code">
  JSON-RPC 2.0
 </code>
 è¿›è¡Œæ¶ˆæ¯æ ¼å¼åŒ–ã€‚
 <code class="code">
  STDIO
 </code>
 ç”¨äºŽæœ¬åœ°é›†æˆï¼Œè€Œ
 <code class="code">
  SSE
 </code>
 ç”¨äºŽåŸºäºŽç½‘ç»œçš„é€šä¿¡ã€‚
</p>
<p>
 æ¯”å¦‚æˆ‘ä»¬æƒ³ç›´æŽ¥åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ MCP æœåŠ¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨
 <code class="code">
  STDIO
 </code>
 ä¼ è¾“æ–¹æ³•ï¼Œå¦‚æžœæˆ‘ä»¬è¦åœ¨ Web é¡µé¢ä¸­ä½¿ç”¨ MCP æœåŠ¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨
 <code class="code">
  SSE
 </code>
 ä¼ è¾“æ–¹æ³•ã€‚
</p>
<p>
 æŽ¥ä¸‹æ¥æˆ‘ä»¬å°†ä¸ºå¤§å®¶å¼€å‘ä¸€ä¸ªåŸºäºŽ MCP çš„æ™ºèƒ½å•†åŸŽæœåŠ¡åŠ©æ‰‹ï¼Œä½¿ç”¨ SSE ç±»åž‹çš„ MCP æœåŠ¡ï¼Œå…·å¤‡ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š
</p>
<ul>
<li>
  å®žæ—¶è®¿é—®äº§å“ä¿¡æ¯å’Œåº“å­˜æ°´å¹³ï¼Œæ”¯æŒå®šåˆ¶è®¢å•ã€‚
 </li>
<li>
  æ ¹æ®å®¢æˆ·åå¥½å’Œå¯ç”¨åº“å­˜æŽ¨èäº§å“ã€‚
 </li>
<li>
  ä½¿ç”¨ MCP å·¥å…·æœåŠ¡å™¨ä¸Žå¾®æœåŠ¡è¿›è¡Œå®žæ—¶äº¤äº’ã€‚
 </li>
<li>
  åœ¨å›žç­”äº§å“è¯¢é—®æ—¶æ£€æŸ¥å®žæ—¶åº“å­˜æ°´å¹³ã€‚
 </li>
<li>
  ä½¿ç”¨äº§å“ ID å’Œæ•°é‡ä¿ƒè¿›äº§å“è´­ä¹°ã€‚
 </li>
<li>
  å®žæ—¶æ›´æ–°åº“å­˜æ°´å¹³ã€‚
 </li>
<li>
  é€šè¿‡è‡ªç„¶è¯­è¨€æŸ¥è¯¢æä¾›è®¢å•äº¤æ˜“çš„ä¸´æ—¶åˆ†æžã€‚
 </li>
</ul>
<p>
<img alt="" src="https://picdn.youdianzhishi.com/images/1743578609885.png"/>
</p>
<blockquote>
<p>
  è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ Anthropic Claude 3.5 Sonnet æ¨¡åž‹ä½œä¸º MCP æœåŠ¡çš„ AI åŠ©æ‰‹ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€‰æ‹©å…¶ä»–æ”¯æŒå·¥å…·è°ƒç”¨çš„æ¨¡åž‹ã€‚
 </p>
</blockquote>
<p>
 é¦–å…ˆéœ€è¦ä¸€ä¸ªäº§å“å¾®æœåŠ¡ï¼Œç”¨äºŽæš´éœ²ä¸€ä¸ªäº§å“åˆ—è¡¨çš„ API æŽ¥å£ã€‚ç„¶åŽå†æä¾›ä¸€ä¸ªè®¢å•å¾®æœåŠ¡ï¼Œç”¨äºŽæš´éœ²ä¸€ä¸ªè®¢å•åˆ›å»ºã€åº“å­˜ä¿¡æ¯ç­‰ API æŽ¥å£ã€‚
</p>
<p>
 æŽ¥ä¸‹æ¥çš„æ ¸å¿ƒå°±æ˜¯æ ¸å¿ƒçš„ MCP SSE æœåŠ¡å™¨ï¼Œç”¨äºŽå‘ LLM æš´éœ²äº§å“å¾®æœåŠ¡å’Œè®¢å•å¾®æœåŠ¡æ•°æ®ï¼Œä½œä¸ºä½¿ç”¨ SSE åè®®çš„å·¥å…·ã€‚
</p>
<p>
 æœ€åŽå°±æ˜¯ä½¿ç”¨ MCP å®¢æˆ·ç«¯ï¼Œé€šè¿‡ SSE åè®®è¿žæŽ¥åˆ° MCP SSE æœåŠ¡å™¨ï¼Œå¹¶ä½¿ç”¨ LLM è¿›è¡Œäº¤äº’ã€‚
</p>
<h2 class="heading">
 å¾®æœåŠ¡
</h2>
<p>
 æŽ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹å¼€å‘äº§å“å¾®æœåŠ¡å’Œè®¢å•å¾®æœåŠ¡ï¼Œå¹¶æš´éœ² API æŽ¥å£ã€‚
</p>
<p>
 é¦–å…ˆå®šä¹‰äº§å“ã€åº“å­˜å’Œè®¢å•çš„ç±»åž‹ã€‚
</p>
<pre class="pre"><code class="language-typescript code">// types/index.ts
export interface Product {
  id: number;
  name: string;
  price: number;
  description: string;
}

export interface Inventory {
  productId: number;
  quantity: number;
  product?: Product;
}

export interface Order {
  id: number;
  customerName: string;
  items: Array&lt;{ productId: number; quantity: number }&gt;;
  totalAmount: number;
  orderDate: string;
}
</code></pre>
<p>
 ç„¶åŽæˆ‘ä»¬å¯ä»¥ç”¨ Express æ¥æš´éœ²äº§å“å¾®æœåŠ¡å’Œè®¢å•å¾®æœåŠ¡ï¼Œå¹¶æä¾› API æŽ¥å£ã€‚ç”±äºŽæ˜¯æ¨¡æ‹Ÿæ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œç”¨æ›´ç®€å•çš„å†…å­˜æ•°æ®æ¥æ¨¡æ‹Ÿï¼Œç›´æŽ¥æŠŠæ•°æ®é€šè¿‡ä¸‹é¢çš„è¿™äº›å‡½æ•°æš´éœ²å‡ºåŽ»ã€‚ï¼ˆç”Ÿäº§çŽ¯å¢ƒä¸­ï¼Œè¿˜æ˜¯éœ€è¦ä½¿ç”¨å¾®æœåŠ¡åŠ æ•°æ®åº“çš„æ–¹å¼æ¥å®žçŽ°ï¼‰
</p>
<pre class="pre"><code class="language-typescript code">// services/product-service.ts
import { Product, Inventory, Order } from "../types/index.js";

// æ¨¡æ‹Ÿæ•°æ®å­˜å‚¨
let products: Product[] = [
  {
    id: 1,
    name: "æ™ºèƒ½æ‰‹è¡¨Galaxy",
    price: 1299,
    description: "å¥åº·ç›‘æµ‹ï¼Œè¿åŠ¨è¿½è¸ªï¼Œæ”¯æŒå¤šç§åº”ç”¨",
  },
  {
    id: 2,
    name: "æ— çº¿è“ç‰™è€³æœºPro",
    price: 899,
    description: "ä¸»åŠ¨é™å™ªï¼Œ30å°æ—¶ç»­èˆªï¼ŒIPX7é˜²æ°´",
  },
  {
    id: 3,
    name: "ä¾¿æºå¼ç§»åŠ¨ç”µæº",
    price: 299,
    description: "20000mAhå¤§å®¹é‡ï¼Œæ”¯æŒå¿«å……ï¼Œè½»è–„è®¾è®¡",
  },
  {
    id: 4,
    name: "åŽä¸ºMateBook X Pro",
    price: 1599,
    description: "14.2è‹±å¯¸å…¨é¢å±ï¼Œ3:2æ¯”ä¾‹ï¼Œ100% sRGBè‰²åŸŸ",
  },
];

// æ¨¡æ‹Ÿåº“å­˜æ•°æ®
let inventory: Inventory[] = [
  { productId: 1, quantity: 100 },
  { productId: 2, quantity: 50 },
  { productId: 3, quantity: 200 },
  { productId: 4, quantity: 150 },
];

let orders: Order[] = [];

export async function getProducts(): Promise&lt;Product[]&gt; {
  return products;
}

export async function getInventory(): Promise&lt;Inventory[]&gt; {
  return inventory.map((item) =&gt; {
    const product = products.find((p) =&gt; p.id === item.productId);
    return {
      ...item,
      product,
    };
  });
}

export async function getOrders(): Promise&lt;Order[]&gt; {
  return [...orders].sort(
    (a, b) =&gt; new Date(b.orderDate).getTime() - new Date(a.orderDate).getTime()
  );
}

export async function createPurchase(
  customerName: string,
  items: { productId: number; quantity: number }[]
): Promise&lt;Order&gt; {
  if (!customerName || !items || items.length === 0) {
    throw new Error("è¯·æ±‚æ— æ•ˆï¼šç¼ºå°‘å®¢æˆ·åç§°æˆ–å•†å“");
  }

  let totalAmount = 0;

  // éªŒè¯åº“å­˜å¹¶è®¡ç®—æ€»ä»·
  for (const item of items) {
    const inventoryItem = inventory.find((i) =&gt; i.productId === item.productId);
    const product = products.find((p) =&gt; p.id === item.productId);

    if (!inventoryItem || !product) {
      throw new Error(`å•†å“ID ${item.productId} ä¸å­˜åœ¨`);
    }

    if (inventoryItem.quantity &lt; item.quantity) {
      throw new Error(
        `å•†å“ ${product.name} åº“å­˜ä¸è¶³. å¯ç”¨: ${inventoryItem.quantity}`
      );
    }

    totalAmount += product.price * item.quantity;
  }

  // åˆ›å»ºè®¢å•
  const order: Order = {
    id: orders.length + 1,
    customerName,
    items,
    totalAmount,
    orderDate: new Date().toISOString(),
  };

  // æ›´æ–°åº“å­˜
  items.forEach((item) =&gt; {
    const inventoryItem = inventory.find(
      (i) =&gt; i.productId === item.productId
    )!;
    inventoryItem.quantity -= item.quantity;
  });

  orders.push(order);
  return order;
}
</code></pre>
<p>
 ç„¶åŽæˆ‘ä»¬å¯ä»¥é€šè¿‡ MCP çš„å·¥å…·æ¥å°†è¿™äº› API æŽ¥å£æš´éœ²å‡ºåŽ»ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
</p>
<pre class="pre"><code class="language-typescript code">// mcp-server.ts
import { McpServer } from "@modelcontextprotocol/sdk/server/mcp.js";
import { z } from "zod";
import {
  getProducts,
  getInventory,
  getOrders,
  createPurchase,
} from "./services/product-service.js";

export const server = new McpServer({
  name: "mcp-sse-demo",
  version: "1.0.0",
  description: "æä¾›å•†å“æŸ¥è¯¢ã€åº“å­˜ç®¡ç†å’Œè®¢å•å¤„ç†çš„MCPå·¥å…·",
});

// èŽ·å–äº§å“åˆ—è¡¨å·¥å…·
server.tool("getProducts", "èŽ·å–æ‰€æœ‰äº§å“ä¿¡æ¯", {}, async () =&gt; {
  console.log("èŽ·å–äº§å“åˆ—è¡¨");
  const products = await getProducts();
  return {
    content: [
      {
        type: "text",
        text: JSON.stringify(products),
      },
    ],
  };
});

// èŽ·å–åº“å­˜ä¿¡æ¯å·¥å…·
server.tool("getInventory", "èŽ·å–æ‰€æœ‰äº§å“çš„åº“å­˜ä¿¡æ¯", {}, async () =&gt; {
  console.log("èŽ·å–åº“å­˜ä¿¡æ¯");
  const inventory = await getInventory();
  return {
    content: [
      {
        type: "text",
        text: JSON.stringify(inventory),
      },
    ],
  };
});

// èŽ·å–è®¢å•åˆ—è¡¨å·¥å…·
server.tool("getOrders", "èŽ·å–æ‰€æœ‰è®¢å•ä¿¡æ¯", {}, async () =&gt; {
  console.log("èŽ·å–è®¢å•åˆ—è¡¨");
  const orders = await getOrders();
  return {
    content: [
      {
        type: "text",
        text: JSON.stringify(orders),
      },
    ],
  };
});

// è´­ä¹°å•†å“å·¥å…·
server.tool(
  "purchase",
  "è´­ä¹°å•†å“",
  {
    items: z
      .array(
        z.object({
          productId: z.number().describe("å•†å“ID"),
          quantity: z.number().describe("è´­ä¹°æ•°é‡"),
        })
      )
      .describe("è¦è´­ä¹°çš„å•†å“åˆ—è¡¨"),
    customerName: z.string().describe("å®¢æˆ·å§“å"),
  },
  async ({ items, customerName }) =&gt; {
    console.log("å¤„ç†è´­ä¹°è¯·æ±‚", { items, customerName });
    try {
      const order = await createPurchase(customerName, items);
      return {
        content: [
          {
            type: "text",
            text: JSON.stringify(order),
          },
        ],
      };
    } catch (error: any) {
      return {
        content: [
          {
            type: "text",
            text: JSON.stringify({ error: error.message }),
          },
        ],
      };
    }
  }
);
</code></pre>
<p>
 è¿™é‡Œæˆ‘ä»¬ä¸€å…±å®šä¹‰äº† 4 ä¸ªå·¥å…·ï¼Œåˆ†åˆ«æ˜¯ï¼š
</p>
<ul>
<li>
<code class="code">
   getProducts
  </code>
  ï¼šèŽ·å–æ‰€æœ‰äº§å“ä¿¡æ¯
 </li>
<li>
<code class="code">
   getInventory
  </code>
  ï¼šèŽ·å–æ‰€æœ‰äº§å“çš„åº“å­˜ä¿¡æ¯
 </li>
<li>
<code class="code">
   getOrders
  </code>
  ï¼šèŽ·å–æ‰€æœ‰è®¢å•ä¿¡æ¯
 </li>
<li>
<code class="code">
   purchase
  </code>
  ï¼šè´­ä¹°å•†å“
 </li>
</ul>
<p>
 å¦‚æžœæ˜¯ Stdio ç±»åž‹çš„ MCP æœåŠ¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç›´æŽ¥åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨è¿™äº›å·¥å…·äº†ï¼Œä½†æ˜¯æˆ‘ä»¬çŽ°åœ¨éœ€è¦ä½¿ç”¨ SSE ç±»åž‹çš„ MCP æœåŠ¡ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ª MCP SSE æœåŠ¡å™¨æ¥æš´éœ²è¿™äº›å·¥å…·ã€‚
</p>
<h2 class="heading">
 MCP SSE æœåŠ¡å™¨
</h2>
<p>
 æŽ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹å¼€å‘ MCP SSE æœåŠ¡å™¨ï¼Œç”¨äºŽæš´éœ²äº§å“å¾®æœåŠ¡å’Œè®¢å•å¾®æœåŠ¡æ•°æ®ï¼Œä½œä¸ºä½¿ç”¨ SSE åè®®çš„å·¥å…·ã€‚
</p>
<pre class="pre"><code class="language-typescript code">// mcp-sse-server.ts
import express, { Request, Response, NextFunction } from "express";
import cors from "cors";
import { SSEServerTransport } from "@modelcontextprotocol/sdk/server/sse.js";
import { server as mcpServer } from "./mcp-server.js"; // é‡å‘½åä»¥é¿å…å‘½åå†²çª

const app = express();
app.use(
  cors({
    origin: process.env.ALLOWED_ORIGINS?.split(",") || "*",
    methods: ["GET", "POST"],
    allowedHeaders: ["Content-Type", "Authorization"],
  })
);

// å­˜å‚¨æ´»è·ƒè¿žæŽ¥
const connections = new Map();

// å¥åº·æ£€æŸ¥ç«¯ç‚¹
app.get("/health", (req, res) =&gt; {
  res.status(200).json({
    status: "ok",
    version: "1.0.0",
    uptime: process.uptime(),
    timestamp: new Date().toISOString(),
    connections: connections.size,
  });
});

// SSE è¿žæŽ¥å»ºç«‹ç«¯ç‚¹
app.get("/sse", async (req, res) =&gt; {
  // å®žä¾‹åŒ–SSEä¼ è¾“å¯¹è±¡
  const transport = new SSEServerTransport("/messages", res);
  // èŽ·å–sessionId
  const sessionId = transport.sessionId;
  console.log(`[${new Date().toISOString()}] æ–°çš„SSEè¿žæŽ¥å»ºç«‹: ${sessionId}`);

  // æ³¨å†Œè¿žæŽ¥
  connections.set(sessionId, transport);

  // è¿žæŽ¥ä¸­æ–­å¤„ç†
  req.on("close", () =&gt; {
    console.log(`[${new Date().toISOString()}] SSEè¿žæŽ¥å…³é—­: ${sessionId}`);
    connections.delete(sessionId);
  });

  // å°†ä¼ è¾“å¯¹è±¡ä¸ŽMCPæœåŠ¡å™¨è¿žæŽ¥
  await mcpServer.connect(transport);
  console.log(`[${new Date().toISOString()}] MCPæœåŠ¡å™¨è¿žæŽ¥æˆåŠŸ: ${sessionId}`);
});

// æŽ¥æ”¶å®¢æˆ·ç«¯æ¶ˆæ¯çš„ç«¯ç‚¹
app.post("/messages", async (req: Request, res: Response) =&gt; {
  try {
    console.log(`[${new Date().toISOString()}] æ”¶åˆ°å®¢æˆ·ç«¯æ¶ˆæ¯:`, req.query);
    const sessionId = req.query.sessionId as string;

    // æŸ¥æ‰¾å¯¹åº”çš„SSEè¿žæŽ¥å¹¶å¤„ç†æ¶ˆæ¯
    if (connections.size &gt; 0) {
      const transport: SSEServerTransport = connections.get(
        sessionId
      ) as SSEServerTransport;
      // ä½¿ç”¨transportå¤„ç†æ¶ˆæ¯
      if (transport) {
        await transport.handlePostMessage(req, res);
      } else {
        throw new Error("æ²¡æœ‰æ´»è·ƒçš„SSEè¿žæŽ¥");
      }
    } else {
      throw new Error("æ²¡æœ‰æ´»è·ƒçš„SSEè¿žæŽ¥");
    }
  } catch (error: any) {
    console.error(`[${new Date().toISOString()}] å¤„ç†å®¢æˆ·ç«¯æ¶ˆæ¯å¤±è´¥:`, error);
    res.status(500).json({ error: "å¤„ç†æ¶ˆæ¯å¤±è´¥", message: error.message });
  }
});

// ä¼˜é›…å…³é—­æ‰€æœ‰è¿žæŽ¥
async function closeAllConnections() {
  console.log(
    `[${new Date().toISOString()}] å…³é—­æ‰€æœ‰è¿žæŽ¥ (${connections.size}ä¸ª)`
  );
  for (const [id, transport] of connections.entries()) {
    try {
      // å‘é€å…³é—­äº‹ä»¶
      transport.res.write(
        'event: server_shutdown\ndata: {"reason": "Server is shutting down"}\n\n'
      );
      transport.res.end();
      console.log(`[${new Date().toISOString()}] å·²å…³é—­è¿žæŽ¥: ${id}`);
    } catch (error) {
      console.error(`[${new Date().toISOString()}] å…³é—­è¿žæŽ¥å¤±è´¥: ${id}`, error);
    }
  }
  connections.clear();
}

// é”™è¯¯å¤„ç†
app.use((err: Error, req: Request, res: Response, next: NextFunction) =&gt; {
  console.error(`[${new Date().toISOString()}] æœªå¤„ç†çš„å¼‚å¸¸:`, err);
  res.status(500).json({ error: "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯" });
});

// ä¼˜é›…å…³é—­
process.on("SIGTERM", async () =&gt; {
  console.log(`[${new Date().toISOString()}] æŽ¥æ”¶åˆ°SIGTERMä¿¡å·ï¼Œå‡†å¤‡å…³é—­`);
  await closeAllConnections();
  server.close(() =&gt; {
    console.log(`[${new Date().toISOString()}] æœåŠ¡å™¨å·²å…³é—­`);
    process.exit(0);
  });
});

process.on("SIGINT", async () =&gt; {
  console.log(`[${new Date().toISOString()}] æŽ¥æ”¶åˆ°SIGINTä¿¡å·ï¼Œå‡†å¤‡å…³é—­`);
  await closeAllConnections();
  process.exit(0);
});

// å¯åŠ¨æœåŠ¡å™¨
const port = process.env.PORT || 8083;
const server = app.listen(port, () =&gt; {
  console.log(
    `[${new Date().toISOString()}] æ™ºèƒ½å•†åŸŽ MCP SSE æœåŠ¡å™¨å·²å¯åŠ¨ï¼Œåœ°å€: http://localhost:${port}`
  );
  console.log(`- SSE è¿žæŽ¥ç«¯ç‚¹: http://localhost:${port}/sse`);
  console.log(`- æ¶ˆæ¯å¤„ç†ç«¯ç‚¹: http://localhost:${port}/messages`);
  console.log(`- å¥åº·æ£€æŸ¥ç«¯ç‚¹: http://localhost:${port}/health`);
});
</code></pre>
<p>
 è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ Express æ¥æš´éœ²ä¸€ä¸ª SSE è¿žæŽ¥ç«¯ç‚¹
 <code class="code">
  /sse
 </code>
 ï¼Œç”¨äºŽæŽ¥æ”¶å®¢æˆ·ç«¯æ¶ˆæ¯ã€‚ä½¿ç”¨
 <code class="code">
  SSEServerTransport
 </code>
 æ¥åˆ›å»ºä¸€ä¸ª SSE ä¼ è¾“å¯¹è±¡ï¼Œå¹¶æŒ‡å®šæ¶ˆæ¯å¤„ç†ç«¯ç‚¹ä¸º
 <code class="code">
  /messages
 </code>
 ã€‚
</p>
<pre class="pre"><code class="language-typescript code">const transport = new SSEServerTransport("/messages", res);
</code></pre>
<p>
 ä¼ è¾“å¯¹è±¡åˆ›å»ºåŽï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†ä¼ è¾“å¯¹è±¡ä¸Ž MCP æœåŠ¡å™¨è¿žæŽ¥èµ·æ¥ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
</p>
<pre class="pre"><code class="language-typescript code">// å°†ä¼ è¾“å¯¹è±¡ä¸ŽMCPæœåŠ¡å™¨è¿žæŽ¥
await mcpServer.connect(transport);
</code></pre>
<p>
 è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ SSE è¿žæŽ¥ç«¯ç‚¹
 <code class="code">
  /sse
 </code>
 æ¥æŽ¥æ”¶å®¢æˆ·ç«¯æ¶ˆæ¯ï¼Œå¹¶ä½¿ç”¨æ¶ˆæ¯å¤„ç†ç«¯ç‚¹
 <code class="code">
  /messages
 </code>
 æ¥å¤„ç†å®¢æˆ·ç«¯æ¶ˆæ¯ï¼Œå½“æŽ¥æ”¶åˆ°å®¢æˆ·ç«¯æ¶ˆæ¯åŽï¼Œåœ¨
 <code class="code">
  /messages
 </code>
 ç«¯ç‚¹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨
 <code class="code">
  transport
 </code>
 å¯¹è±¡æ¥å¤„ç†å®¢æˆ·ç«¯æ¶ˆæ¯ï¼š
</p>
<pre class="pre"><code class="language-typescript code">// ä½¿ç”¨transportå¤„ç†æ¶ˆæ¯
await transport.handlePostMessage(req, res);
</code></pre>
<p>
 ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„åˆ—å‡ºå·¥å…·ã€è°ƒç”¨å·¥å…·ç­‰æ“ä½œã€‚
</p>
<h2 class="heading">
 MCP å®¢æˆ·ç«¯
</h2>
<p>
 æŽ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹å¼€å‘ MCP å®¢æˆ·ç«¯ï¼Œç”¨äºŽè¿žæŽ¥åˆ° MCP SSE æœåŠ¡å™¨ï¼Œå¹¶ä½¿ç”¨ LLM è¿›è¡Œäº¤äº’ã€‚å®¢æˆ·ç«¯æˆ‘ä»¬å¯ä»¥å¼€å‘ä¸€ä¸ªå‘½ä»¤è¡Œå®¢æˆ·ç«¯ï¼Œä¹Ÿå¯ä»¥å¼€å‘ä¸€ä¸ª Web å®¢æˆ·ç«¯ã€‚
</p>
<p>
 å¯¹äºŽå‘½ä»¤è¡Œå®¢æˆ·ç«¯å‰é¢æˆ‘ä»¬å·²ç»ä»‹ç»è¿‡äº†ï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯çŽ°åœ¨æˆ‘ä»¬éœ€è¦ä½¿ç”¨ SSE åè®®æ¥è¿žæŽ¥åˆ° MCP SSE æœåŠ¡å™¨ã€‚
</p>
<pre class="pre"><code class="language-typescript code">// åˆ›å»ºMCPå®¢æˆ·ç«¯
const mcpClient = new McpClient({
  name: "mcp-sse-demo",
  version: "1.0.0",
});

// åˆ›å»ºSSEä¼ è¾“å¯¹è±¡
const transport = new SSEClientTransport(new URL(config.mcp.serverUrl));

// è¿žæŽ¥åˆ°MCPæœåŠ¡å™¨
await mcpClient.connect(transport);
</code></pre>
<p>
 ç„¶åŽå…¶ä»–æ“ä½œå’Œå‰é¢ä»‹ç»çš„å‘½ä»¤è¡Œå®¢æˆ·ç«¯æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿå°±æ˜¯åˆ—å‡ºæ‰€æœ‰å·¥å…·ï¼Œç„¶åŽå°†ç”¨æˆ·çš„é—®é¢˜å’Œå·¥å…·ä¸€èµ·å‘ç»™ LLM è¿›è¡Œå¤„ç†ã€‚LLM è¿”å›žç»“æžœåŽï¼Œæˆ‘ä»¬å†æ ¹æ®ç»“æžœæ¥è°ƒç”¨å·¥å…·ï¼Œå°†è°ƒç”¨å·¥å…·ç»“æžœå’ŒåŽ†å²æ¶ˆæ¯ä¸€èµ·å‘ç»™ LLM è¿›è¡Œå¤„ç†ï¼Œå¾—åˆ°æœ€ç»ˆç»“æžœã€‚
</p>
<p>
 å¯¹äºŽ Web å®¢æˆ·ç«¯çš„è¯ï¼Œå’Œå‘½ä»¤è¡Œå®¢æˆ·ç«¯ä¹ŸåŸºæœ¬ä¸€è‡´ï¼Œåªæ˜¯çŽ°åœ¨æˆ‘ä»¬å°†è¿™äº›å¤„ç†è¿‡ç¨‹æ”¾åˆ°ä¸€äº›æŽ¥å£é‡Œé¢åŽ»å®žçŽ°ï¼Œç„¶åŽé€šè¿‡ Web é¡µé¢æ¥è°ƒç”¨è¿™äº›æŽ¥å£å³å¯ã€‚
</p>
<p>
 æˆ‘ä»¬é¦–å…ˆè¦åˆå§‹åŒ– MCP å®¢æˆ·ç«¯ï¼Œç„¶åŽèŽ·å–æ‰€æœ‰å·¥å…·ï¼Œå¹¶è½¬æ¢å·¥å…·æ ¼å¼ä¸º Anthropic æ‰€éœ€çš„æ•°ç»„å½¢å¼ï¼Œç„¶åŽåˆ›å»º Anthropic å®¢æˆ·ç«¯ã€‚
</p>
<pre class="pre"><code class="language-typescript code">// åˆå§‹åŒ–MCPå®¢æˆ·ç«¯
async function initMcpClient() {
  if (mcpClient) return;

  try {
    console.log("æ­£åœ¨è¿žæŽ¥åˆ°MCPæœåŠ¡å™¨...");
    mcpClient = new McpClient({
      name: "mcp-client",
      version: "1.0.0",
    });

    const transport = new SSEClientTransport(new URL(config.mcp.serverUrl));

    await mcpClient.connect(transport);
    const { tools } = await mcpClient.listTools();
    // è½¬æ¢å·¥å…·æ ¼å¼ä¸ºAnthropicæ‰€éœ€çš„æ•°ç»„å½¢å¼
    anthropicTools = tools.map((tool: any) =&gt; {
      return {
        name: tool.name,
        description: tool.description,
        input_schema: tool.inputSchema,
      };
    });
    // åˆ›å»ºAnthropicå®¢æˆ·ç«¯
    aiClient = createAnthropicClient(config);

    console.log("MCPå®¢æˆ·ç«¯å’Œå·¥å…·å·²åˆå§‹åŒ–å®Œæˆ");
  } catch (error) {
    console.error("åˆå§‹åŒ–MCPå®¢æˆ·ç«¯å¤±è´¥:", error);
    throw error;
  }
}
</code></pre>
<p>
 æŽ¥ç€å°±æ ¹æ®æˆ‘ä»¬è‡ªèº«çš„éœ€æ±‚ä¿©å¼€å‘ API æŽ¥å£ï¼Œæ¯”å¦‚æˆ‘ä»¬è¿™é‡Œå¼€å‘ä¸€ä¸ªèŠå¤©æŽ¥å£ï¼Œç”¨äºŽæŽ¥æ”¶ç”¨æˆ·çš„é—®é¢˜ï¼Œç„¶åŽè°ƒç”¨ MCP å®¢æˆ·ç«¯çš„å·¥å…·ï¼Œå°†å·¥å…·è°ƒç”¨ç»“æžœå’ŒåŽ†å²æ¶ˆæ¯ä¸€èµ·å‘ç»™ LLM è¿›è¡Œå¤„ç†ï¼Œå¾—åˆ°æœ€ç»ˆç»“æžœï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š
</p>
<pre class="pre"><code class="language-typescript code">// API: èŠå¤©è¯·æ±‚
apiRouter.post("/chat", async (req, res) =&gt; {
  try {
    const { message, history = [] } = req.body;

    if (!message) {
      console.warn("è¯·æ±‚ä¸­æ¶ˆæ¯ä¸ºç©º");
      return res.status(400).json({ error: "æ¶ˆæ¯ä¸èƒ½ä¸ºç©º" });
    }

    // æž„å»ºæ¶ˆæ¯åŽ†å²
    const messages = [...history, { role: "user", content: message }];

    // è°ƒç”¨AI
    const response = await aiClient.messages.create({
      model: config.ai.defaultModel,
      messages,
      tools: anthropicTools,
      max_tokens: 1000,
    });

    // å¤„ç†å·¥å…·è°ƒç”¨
    const hasToolUse = response.content.some(
      (item) =&gt; item.type === "tool_use"
    );

    if (hasToolUse) {
      // å¤„ç†æ‰€æœ‰å·¥å…·è°ƒç”¨
      const toolResults = [];

      for (const content of response.content) {
        if (content.type === "tool_use") {
          const name = content.name;
          const toolInput = content.input as
            | { [x: string]: unknown }
            | undefined;

          try {
            // è°ƒç”¨MCPå·¥å…·
            if (!mcpClient) {
              console.error("MCPå®¢æˆ·ç«¯æœªåˆå§‹åŒ–");
              throw new Error("MCPå®¢æˆ·ç«¯æœªåˆå§‹åŒ–");
            }
            console.log(`å¼€å§‹è°ƒç”¨MCPå·¥å…·: ${name}`);
            const toolResult = await mcpClient.callTool({
              name,
              arguments: toolInput,
            });

            toolResults.push({
              name,
              result: toolResult,
            });
          } catch (error: any) {
            console.error(`å·¥å…·è°ƒç”¨å¤±è´¥: ${name}`, error);
            toolResults.push({
              name,
              error: error.message,
            });
          }
        }
      }

      // å°†å·¥å…·ç»“æžœå‘é€å›žAIèŽ·å–æœ€ç»ˆå›žå¤
      const finalResponse = await aiClient.messages.create({
        model: config.ai.defaultModel,
        messages: [
          ...messages,
          {
            role: "user",
            content: JSON.stringify(toolResults),
          },
        ],
        max_tokens: 1000,
      });

      const textResponse = finalResponse.content
        .filter((c) =&gt; c.type === "text")
        .map((c) =&gt; c.text)
        .join("\n");

      res.json({
        response: textResponse,
        toolCalls: toolResults,
      });
    } else {
      // ç›´æŽ¥è¿”å›žAIå›žå¤
      const textResponse = response.content
        .filter((c) =&gt; c.type === "text")
        .map((c) =&gt; c.text)
        .join("\n");

      res.json({
        response: textResponse,
        toolCalls: [],
      });
    }
  } catch (error: any) {
    console.error("èŠå¤©è¯·æ±‚å¤„ç†å¤±è´¥:", error);
    res.status(500).json({ error: error.message });
  }
});
</code></pre>
<p>
 è¿™é‡Œçš„æ ¸å¿ƒå®žçŽ°ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå’Œå‘½ä»¤è¡Œå®¢æˆ·ç«¯åŸºæœ¬ä¸€è‡´ï¼Œåªæ˜¯çŽ°åœ¨æˆ‘ä»¬å°†è¿™äº›å¤„ç†è¿‡ç¨‹æ”¾åˆ°ä¸€äº›æŽ¥å£é‡Œé¢åŽ»å®žçŽ°äº†è€Œå·²ã€‚
</p>
<h2 class="heading">
 ä½¿ç”¨
</h2>
<p>
 ä¸‹é¢æ˜¯å‘½ä»¤è¡Œå®¢æˆ·ç«¯çš„ä½¿ç”¨ç¤ºä¾‹ï¼š
</p>
<p>
<img alt="" src="https://picdn.youdianzhishi.com/images/1743580511504.png"/>
</p>
<p>
 å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ Cursor ä¸­æ¥ä½¿ç”¨ï¼Œåˆ›å»º
 <code class="code">
  .cursor/mcp.json
 </code>
 æ–‡ä»¶ï¼Œç„¶åŽæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š
</p>
<pre class="pre"><code class="language-json code">{
  "mcpServers": {
    "products-sse": {
      "url": "http://localhost:8083/sse"
    }
  }
}
</code></pre>
<p>
 ç„¶åŽåœ¨ Cursor çš„è®¾ç½®é¡µé¢æˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°è¿™ä¸ª MCP æœåŠ¡ï¼Œç„¶åŽå°±å¯ä»¥åœ¨ Cursor ä¸­æ¥ä½¿ç”¨è¿™ä¸ª MCP æœåŠ¡äº†ã€‚
</p>
<p>
<img alt="" src="https://picdn.youdianzhishi.com/images/1743580805254.png"/>
</p>
<p>
 ä¸‹é¢æ˜¯æˆ‘ä»¬å¼€å‘çš„ Web å®¢æˆ·ç«¯çš„ä½¿ç”¨ç¤ºä¾‹ï¼š
</p>
<p>
<img alt="" src="https://picdn.youdianzhishi.com/images/1743580945607.png"/>
</p>
<p>
<img alt="" src="https://picdn.youdianzhishi.com/images/1743581042949.png"/>
</p>
<h2 class="heading">
 è°ƒè¯•
</h2>
<p>
 åŒæ ·æˆ‘ä»¬å¯ä»¥ä½¿ç”¨
 <code class="code">
  npx @modelcontextprotocol/inspector
 </code>
 å‘½ä»¤æ¥è°ƒè¯•æˆ‘ä»¬çš„ SSE æœåŠ¡ï¼š
</p>
<pre class="pre"><code class="language-bash code">$ npx @modelcontextprotocol/inspector   
Starting MCP inspector...
âš™ï¸ Proxy server listening on port 6277
ðŸ” MCP Inspector is up and running at http://127.0.0.1:6274 ðŸš€
</code></pre>
<p>
 ç„¶åŽåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ä¸Šé¢åœ°å€å³å¯ï¼Œé€‰æ‹© SSEï¼Œé…ç½®ä¸Šæˆ‘ä»¬çš„ SSE åœ°å€å³å¯æµ‹è¯•ï¼š
</p>
<p>
<img alt="" src="https://picdn.youdianzhishi.com/images/1743675135602.png"/>
</p>
<h2 class="heading">
 æ€»ç»“
</h2>
<p>
 å½“ LLM å†³å®šè§¦å‘å¯¹ç”¨æˆ·å·¥å…·çš„è°ƒç”¨æ—¶ï¼Œå·¥å…·æè¿°çš„è´¨é‡è‡³å…³é‡è¦ï¼š
</p>
<ul>
<li>
<strong>
   ç²¾ç¡®æè¿°
  </strong>
  ï¼šç¡®ä¿æ¯ä¸ªå·¥å…·çš„æè¿°æ¸…æ™°æ˜Žç¡®ï¼ŒåŒ…å«å…³é”®è¯ä»¥ä¾¿ LLM æ­£ç¡®è¯†åˆ«ä½•æ—¶ä½¿ç”¨è¯¥å·¥å…·
 </li>
<li>
<strong>
   é¿å…å†²çª
  </strong>
  ï¼šä¸è¦æä¾›å¤šä¸ªåŠŸèƒ½ç›¸ä¼¼çš„å·¥å…·ï¼Œè¿™å¯èƒ½å¯¼è‡´ LLM é€‰æ‹©é”™è¯¯
 </li>
<li>
<strong>
   æµ‹è¯•éªŒè¯
  </strong>
  ï¼šåœ¨éƒ¨ç½²å‰ä½¿ç”¨å„ç§ç”¨æˆ·æŸ¥è¯¢åœºæ™¯æµ‹è¯•å·¥å…·è°ƒç”¨çš„å‡†ç¡®æ€§
 </li>
</ul>
<p>
 MCP æœåŠ¡å™¨å¯ä»¥ä½¿ç”¨å¤šç§æŠ€æœ¯å®žçŽ°ï¼š
</p>
<ul>
<li>
  Python SDK
 </li>
<li>
  TypeScript/JavaScript
 </li>
<li>
  å…¶ä»–ç¼–ç¨‹è¯­è¨€
 </li>
</ul>
<p>
 é€‰æ‹©åº”åŸºäºŽå›¢é˜Ÿç†Ÿæ‚‰åº¦å’ŒçŽ°æœ‰æŠ€æœ¯æ ˆã€‚
</p>
<p>
 å¦å¤–å°† AI åŠ©æ‰‹ä¸Ž MCP æœåŠ¡å™¨é›†æˆåˆ°çŽ°æœ‰å¾®æœåŠ¡æž¶æž„ä¸­å…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š
</p>
<ol>
<li>
<strong>
   å®žæ—¶æ•°æ®
  </strong>
  ï¼šé€šè¿‡ SSEï¼ˆæœåŠ¡å™¨å‘é€äº‹ä»¶ï¼‰æä¾›å®žæ—¶æˆ–è¿‘å®žæ—¶æ›´æ–°ï¼Œå¯¹åº“å­˜ä¿¡æ¯ã€è®¢å•çŠ¶æ€ç­‰åŠ¨æ€æ•°æ®å°¤ä¸ºé‡è¦
 </li>
<li>
<strong>
   å¯æ‰©å±•æ€§
  </strong>
  ï¼šç³»ç»Ÿå„éƒ¨åˆ†å¯ç‹¬ç«‹æ‰©å±•ï¼Œä¾‹å¦‚é¢‘ç¹ä½¿ç”¨çš„åº“å­˜æ£€æŸ¥æœåŠ¡å¯å•ç‹¬æ‰©å®¹
 </li>
<li>
<strong>
   éŸ§æ€§
  </strong>
  ï¼šå•ä¸ªå¾®æœåŠ¡å¤±è´¥ä¸ä¼šå½±å“æ•´ä¸ªç³»ç»Ÿè¿è¡Œï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šæ€§
 </li>
<li>
<strong>
   çµæ´»æ€§
  </strong>
  ï¼šä¸åŒå›¢é˜Ÿå¯ç‹¬ç«‹å¤„ç†ç³»ç»Ÿå„éƒ¨åˆ†ï¼Œå¿…è¦æ—¶ä½¿ç”¨ä¸åŒæŠ€æœ¯æ ˆ
 </li>
<li>
<strong>
   é«˜æ•ˆé€šä¿¡
  </strong>
  ï¼šSSE æ¯”æŒç»­è½®è¯¢æ›´é«˜æ•ˆï¼Œåªåœ¨æ•°æ®å˜åŒ–æ—¶å‘é€æ›´æ–°
 </li>
<li>
<strong>
   ç”¨æˆ·ä½“éªŒæå‡
  </strong>
  ï¼šå®žæ—¶æ›´æ–°å’Œå¿«é€Ÿå“åº”æé«˜å®¢æˆ·æ»¡æ„åº¦
 </li>
<li>
<strong>
   ç®€åŒ–å®¢æˆ·ç«¯
  </strong>
  ï¼šå®¢æˆ·ç«¯ä»£ç æ›´ç®€æ´ï¼Œæ— éœ€å¤æ‚è½®è¯¢æœºåˆ¶ï¼Œåªéœ€ç›‘å¬æœåŠ¡å™¨äº‹ä»¶
 </li>
</ol>
<p>
 å½“ç„¶å¦‚æžœæƒ³è¦åœ¨ç”Ÿäº§çŽ¯å¢ƒä¸­åŽ»ä½¿ç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿˜éœ€è¦è€ƒè™‘ä»¥ä¸‹å‡ ç‚¹ï¼š
</p>
<ul>
<li>
  è¿›è¡Œå…¨é¢æµ‹è¯•ä»¥è¯†åˆ«æ½œåœ¨é”™è¯¯
 </li>
<li>
  è®¾è®¡æ•…éšœæ¢å¤æœºåˆ¶
 </li>
<li>
  å®žçŽ°ç›‘æŽ§ç³»ç»Ÿè·Ÿè¸ªå·¥å…·è°ƒç”¨æ€§èƒ½å’Œå‡†ç¡®æ€§
 </li>
<li>
  è€ƒè™‘æ·»åŠ ç¼“å­˜å±‚å‡è½»åŽç«¯æœåŠ¡è´Ÿæ‹…
 </li>
</ul>
<p>
 é€šè¿‡ä»¥ä¸Šå®žè·µï¼Œæˆ‘ä»¬å¯ä»¥æž„å»ºä¸€ä¸ªé«˜æ•ˆã€å¯é çš„åŸºäºŽ MCP çš„æ™ºèƒ½å•†åŸŽæœåŠ¡åŠ©æ‰‹ï¼Œä¸ºç”¨æˆ·æä¾›å®žæ—¶ã€ä¸ªæ€§åŒ–çš„è´­ç‰©ä½“éªŒã€‚
</p>
<hr/>
<p>
 2025.05.28. Updateï¼Œåœ¨å®¢æˆ·ç«¯ä¸­ä½¿ç”¨ OpenAI LLMã€‚å‚è€ƒ
 <a href="https://www.claudemcp.com/zh/docs/mcp-py-sdk-basic">
  ä½¿ç”¨ MCP Python SDK å¼€å‘ MCP æœåŠ¡å™¨ä¸Žå®¢æˆ·ç«¯
 </a>
 ã€‚
</p>
<p>
 å‰é¢æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ TypeScript + Claude + MCP + SSE çš„ç»„åˆï¼Œæœ‰ä¸€äº› issue æåˆ°å¦‚ä½•æ›¿æ¢æˆ OpenAI å¤§æ¨¡åž‹ï¼Œä¸‹é¢æˆ‘ä»¬ç”¨ MCP Python SDK æ¥å®žçŽ°ä¸€ä¸ªç®€å•çš„åŸºäºŽ OpenAI çš„ MCP å®¢æˆ·ç«¯ã€‚
</p>
<p>
 MCP Python SDK æä¾›äº†ä¸€ä¸ªé«˜çº§å®¢æˆ·ç«¯æŽ¥å£ï¼Œç”¨äºŽä½¿ç”¨å„ç§æ–¹å¼è¿žæŽ¥åˆ° MCP æœåŠ¡å™¨ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š
</p>
<pre class="pre"><code class="language-python code">from mcp import ClientSession, StdioServerParameters, types
from mcp.client.stdio import stdio_client

# åˆ›å»º stdio ç±»åž‹çš„ MCP æœåŠ¡å™¨å‚æ•°
server_params = StdioServerParameters(
    command="python",  # å¯æ‰§è¡Œæ–‡ä»¶
    args=["example_server.py"],  # å¯é€‰çš„å‘½ä»¤è¡Œå‚æ•°
    env=None,  # å¯é€‰çš„çŽ¯å¢ƒå˜é‡
)

async def run():
    async with stdio_client(server_params) as (read, write):  # åˆ›å»ºä¸€ä¸ª stdio ç±»åž‹çš„å®¢æˆ·ç«¯
        async with ClientSession(read, write) as session:  # åˆ›å»ºä¸€ä¸ªå®¢æˆ·ç«¯ä¼šè¯
            # åˆå§‹åŒ–è¿žæŽ¥
            await session.initialize()

            # åˆ—å‡ºå¯ç”¨çš„æç¤ºè¯
            prompts = await session.list_prompts()

            # èŽ·å–ä¸€ä¸ªæç¤ºè¯
            prompt = await session.get_prompt(
                "example-prompt", arguments={"arg1": "value"}
            )

            # åˆ—å‡ºå¯ç”¨çš„èµ„æº
            resources = await session.list_resources()

            # åˆ—å‡ºå¯ç”¨çš„å·¥å…·
            tools = await session.list_tools()

            # è¯»å–ä¸€ä¸ªèµ„æº
            content, mime_type = await session.read_resource("file://some/path")

            # è°ƒç”¨ä¸€ä¸ªå·¥å…·
            result = await session.call_tool("tool-name", arguments={"arg1": "value"})


if __name__ == "__main__":
    import asyncio

    asyncio.run(run())
</code></pre>
<p>
 ä¸Šé¢ä»£ç ä¸­æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª stdio ç±»åž‹çš„ MCP å®¢æˆ·ç«¯ï¼Œå¹¶ä½¿ç”¨
 <code class="code">
  stdio_client
 </code>
 å‡½æ•°åˆ›å»ºäº†ä¸€ä¸ªå®¢æˆ·ç«¯ä¼šè¯ï¼Œç„¶åŽé€šè¿‡
 <code class="code">
  ClientSession
 </code>
 ç±»åˆ›å»ºäº†ä¸€ä¸ªå®¢æˆ·ç«¯ä¼šè¯ï¼Œç„¶åŽé€šè¿‡
 <code class="code">
  session.initialize()
 </code>
 æ–¹æ³•åˆå§‹åŒ–è¿žæŽ¥ï¼Œç„¶åŽé€šè¿‡
 <code class="code">
  session.list_prompts()
 </code>
 æ–¹æ³•åˆ—å‡ºå¯ç”¨çš„æç¤ºè¯ï¼Œç„¶åŽé€šè¿‡
 <code class="code">
  session.get_prompt()
 </code>
 æ–¹æ³•èŽ·å–ä¸€ä¸ªæç¤ºè¯ï¼Œç„¶åŽé€šè¿‡
 <code class="code">
  session.list_resources()
 </code>
 æ–¹æ³•åˆ—å‡ºå¯ç”¨çš„èµ„æºï¼Œç„¶åŽé€šè¿‡
 <code class="code">
  session.list_tools()
 </code>
 æ–¹æ³•åˆ—å‡ºå¯ç”¨çš„å·¥å…·ï¼Œç„¶åŽé€šè¿‡
 <code class="code">
  session.read_resource()
 </code>
 æ–¹æ³•è¯»å–ä¸€ä¸ªèµ„æºï¼Œç„¶åŽé€šè¿‡
 <code class="code">
  session.call_tool()
 </code>
 æ–¹æ³•è°ƒç”¨ä¸€ä¸ªå·¥å…·ï¼Œè¿™äº›éƒ½æ˜¯ MCP å®¢æˆ·ç«¯çš„å¸¸ç”¨æ–¹æ³•ã€‚
</p>
<p>
 ä½†æ˜¯åœ¨å®žé™…çš„ MCP å®¢æˆ·ç«¯æˆ–è€…ä¸»æœºä¸­æˆ‘ä»¬ä¸€èˆ¬ä¼šç»“åˆ LLM æ¥å®žçŽ°æ›´åŠ æ™ºèƒ½çš„äº¤äº’ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦å®žçŽ°ä¸€ä¸ªåŸºäºŽ OpenAI çš„ MCP å®¢æˆ·ç«¯ï¼Œé‚£è¦æ€Žä¹ˆå®žçŽ°å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥å‚è€ƒ Cursor çš„æ–¹å¼ï¼š
</p>
<ul>
<li>
  é¦–å…ˆé€šè¿‡ä¸€ä¸ª JSON é…ç½®æ–‡ä»¶æ¥é…ç½® MCP æœåŠ¡å™¨
 </li>
<li>
  è¯»å–è¯¥é…ç½®æ–‡ä»¶ï¼ŒåŠ è½½ MCP æœåŠ¡å™¨åˆ—è¡¨
 </li>
<li>
  èŽ·å– MCP æœåŠ¡å™¨æä¾›çš„å¯ç”¨å·¥å…·åˆ—è¡¨
 </li>
<li>
  ç„¶åŽæ ¹æ®ç”¨æˆ·çš„è¾“å…¥ï¼Œä»¥åŠ Tools åˆ—è¡¨ä¼ é€’ç»™ LLMï¼ˆå¦‚æžœ LLM ä¸æ”¯æŒå·¥å…·è°ƒç”¨ï¼Œé‚£ä¹ˆå°±éœ€è¦åœ¨ System æç¤ºè¯ä¸­å‘Šè¯‰ LLM å¦‚ä½•è°ƒç”¨è¿™äº›å·¥å…·ï¼‰
 </li>
<li>
  æ ¹æ® LLM çš„è¿”å›žç»“æžœï¼Œå¾ªçŽ¯è°ƒç”¨æ‰€æœ‰çš„ MCP æœåŠ¡å™¨æä¾›çš„å·¥å…·
 </li>
<li>
  å¾—åˆ° MCP å·¥å…·çš„è¿”å›žç»“æžœåŽï¼Œå¯ä»¥å°†è¿”å›žç»“æžœå‘é€ç»™ LLM å¾—åˆ°æ›´ç¬¦åˆç”¨æˆ·æ„å›¾çš„å›žç­”
 </li>
</ul>
<p>
 è¿™ä¸ªæµç¨‹æ›´ç¬¦åˆæˆ‘ä»¬å®žé™…æƒ…å†µçš„äº¤äº’æµç¨‹ï¼Œä¸‹é¢æˆ‘ä»¬å®žçŽ°ä¸€ä¸ªåŸºäºŽ OpenAI æ¥å®žçŽ°ä¸€ä¸ªç®€å•çš„ MCP å®¢æˆ·ç«¯ã€‚
</p>
<p>
 é¦–å…ˆä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤åˆå§‹åŒ–ä¸€ä¸ª uv ç®¡ç†çš„é¡¹ç›®ï¼š
</p>
<pre class="pre"><code class="language-bash code">uv init mymcp --python 3.13
cd mymcp
</code></pre>
<p>
 ç„¶åŽå®‰è£… MCP Python SDK ä¾èµ–ï¼š
</p>
<pre class="pre"><code class="language-bash code">uv add "mcp[cli]"
uv add openai
uv add rich
</code></pre>
<p>
 å®Œæ•´ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š
</p>
<pre class="pre"><code class="language-python code">#!/usr/bin/env python
"""
MyMCP å®¢æˆ·ç«¯ - ä½¿ç”¨ OpenAI åŽŸç”Ÿ tools è°ƒç”¨
"""

import asyncio
import json
import os
import sys
from typing import Dict, List, Any, Optional
from dataclasses import dataclass

from openai import AsyncOpenAI
from mcp import StdioServerParameters
from mcp.client.stdio import stdio_client
from mcp.client.session import ClientSession
from mcp.types import Tool, TextContent
from rich.console import Console
from rich.prompt import Prompt
from rich.panel import Panel
from rich.markdown import Markdown
from rich.table import Table
from rich.spinner import Spinner
from rich.live import Live
from dotenv import load_dotenv

# åŠ è½½çŽ¯å¢ƒå˜é‡
load_dotenv()

# åˆå§‹åŒ– Rich console
console = Console()


@dataclass
class MCPServerConfig:
    """MCP æœåŠ¡å™¨é…ç½®"""
    name: str
    command: str
    args: List[str]
    description: str
    env: Optional[Dict[str, str]] = None


class MyMCPClient:
    """MyMCP å®¢æˆ·ç«¯"""

    def __init__(self, config_path: str = "mcp.json"):
        self.config_path = config_path
        self.servers: Dict[str, MCPServerConfig] = {}
        self.all_tools: List[tuple[str, Any]] = []  # (server_name, tool)
        self.openai_client = AsyncOpenAI(
            api_key=os.getenv("OPENAI_API_KEY")
        )

    def load_config(self):
        """ä»Žé…ç½®æ–‡ä»¶åŠ è½½ MCP æœåŠ¡å™¨é…ç½®"""
        try:
            with open(self.config_path, 'r', encoding='utf-8') as f:
                config = json.load(f)

            for name, server_config in config.get("mcpServers", {}).items():
                env_dict = server_config.get("env", {})
                self.servers[name] = MCPServerConfig(
                    name=name,
                    command=server_config["command"],
                    args=server_config.get("args", []),
                    description=server_config.get("description", ""),
                    env=env_dict if env_dict else None
                )

            console.print(f"[green]âœ“ å·²åŠ è½½ {len(self.servers)} ä¸ª MCP æœåŠ¡å™¨é…ç½®[/green]")
        except Exception as e:
            console.print(f"[red]âœ— åŠ è½½é…ç½®æ–‡ä»¶å¤±è´¥: {e}[/red]")
            sys.exit(1)

    async def get_tools_from_server(self, name: str, config: MCPServerConfig) -&gt; List[Tool]:
        """ä»Žå•ä¸ªæœåŠ¡å™¨èŽ·å–å·¥å…·åˆ—è¡¨"""
        try:
            console.print(f"[blue]â†’ æ­£åœ¨è¿žæŽ¥æœåŠ¡å™¨: {name}[/blue]")

            # å‡†å¤‡çŽ¯å¢ƒå˜é‡
            env = os.environ.copy()
            if config.env:
                env.update(config.env)

            # åˆ›å»ºæœåŠ¡å™¨å‚æ•°
            server_params = StdioServerParameters(
                command=config.command,
                args=config.args,
                env=env
            )

            # ä½¿ç”¨ async with ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼ˆåŒå±‚åµŒå¥—ï¼‰
            async with stdio_client(server_params) as (read, write):
                async with ClientSession(read, write) as session:
                    await session.initialize()

                    # èŽ·å–å·¥å…·åˆ—è¡¨
                    tools_result = await session.list_tools()
                    tools = tools_result.tools

                    console.print(f"[green]âœ“ {name}: {len(tools)} ä¸ªå·¥å…·[/green]")
                    return tools

        except Exception as e:
            console.print(f"[red]âœ— è¿žæŽ¥æœåŠ¡å™¨ {name} å¤±è´¥: {e}[/red]")
            console.print(f"[red]  é”™è¯¯ç±»åž‹: {type(e).__name__}[/red]")
            import traceback
            console.print(f"[red]  è¯¦ç»†é”™è¯¯: {traceback.format_exc()}[/red]")
            return []

    async def load_all_tools(self):
        """åŠ è½½æ‰€æœ‰æœåŠ¡å™¨çš„å·¥å…·"""
        console.print("\n[blue]â†’ æ­£åœ¨èŽ·å–å¯ç”¨å·¥å…·åˆ—è¡¨...[/blue]")

        for name, config in self.servers.items():
            tools = await self.get_tools_from_server(name, config)
            for tool in tools:
                self.all_tools.append((name, tool))

    def display_tools(self):
        """æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨å·¥å…·"""
        table = Table(title="å¯ç”¨ MCP å·¥å…·", show_header=True)
        table.add_column("æœåŠ¡å™¨", style="cyan")
        table.add_column("å·¥å…·åç§°", style="green")
        table.add_column("æè¿°", style="white")

        # æŒ‰æœåŠ¡å™¨åˆ†ç»„
        current_server = None
        for server_name, tool in self.all_tools:
            # åªåœ¨æœåŠ¡å™¨åç§°å˜åŒ–æ—¶æ˜¾ç¤ºæœåŠ¡å™¨åç§°
            display_server = server_name if server_name != current_server else ""
            current_server = server_name

            table.add_row(
                display_server,
                tool.name,
                tool.description or "æ— æè¿°"
            )
        console.print(table)

    def build_openai_tools(self) -&gt; List[Dict[str, Any]]:
        """æž„å»º OpenAI tools æ ¼å¼çš„å·¥å…·å®šä¹‰"""
        openai_tools = []

        for server_name, tool in self.all_tools:
            # æž„å»º OpenAI function æ ¼å¼
            function_def = {
                "type": "function",
                "function": {
                    "name": f"{server_name}_{tool.name}",  # æ·»åŠ æœåŠ¡å™¨å‰ç¼€é¿å…å†²çª
                    "description": f"[{server_name}] {tool.description or 'æ— æè¿°'}",
                    "parameters": tool.inputSchema or {"type": "object", "properties": {}}
                }
            }
            openai_tools.append(function_def)

        return openai_tools

    def parse_tool_name(self, function_name: str) -&gt; tuple[str, str]:
        """è§£æžå·¥å…·åç§°ï¼Œæå–æœåŠ¡å™¨åç§°å’Œå·¥å…·åç§°"""
        # æ ¼å¼: server_name_tool_name
        parts = function_name.split('_', 1)
        if len(parts) == 2:
            return parts[0], parts[1]
        else:
            # å¦‚æžœæ²¡æœ‰ä¸‹åˆ’çº¿ï¼Œå‡è®¾æ˜¯ç¬¬ä¸€ä¸ªæœåŠ¡å™¨çš„å·¥å…·
            if self.all_tools:
                return self.all_tools[0][0], function_name
            return "unknown", function_name

    async def call_tool(self, server_name: str, tool_name: str, arguments: Dict[str, Any]) -&gt; Any:
        """è°ƒç”¨æŒ‡å®šçš„å·¥å…·"""
        config = self.servers.get(server_name)
        if not config:
            raise ValueError(f"æœåŠ¡å™¨ {server_name} ä¸å­˜åœ¨")

        try:
            # å‡†å¤‡çŽ¯å¢ƒå˜é‡
            env = os.environ.copy()
            if config.env:
                env.update(config.env)

            # åˆ›å»ºæœåŠ¡å™¨å‚æ•°
            server_params = StdioServerParameters(
                command=config.command,
                args=config.args,
                env=env
            )

            # ä½¿ç”¨ async with ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼ˆåŒå±‚åµŒå¥—ï¼‰
            async with stdio_client(server_params) as (read, write):
                async with ClientSession(read, write) as session:
                    await session.initialize()

                    # è°ƒç”¨å·¥å…·
                    result = await session.call_tool(tool_name, arguments)
                    return result

        except Exception as e:
            console.print(f"[red]âœ— è°ƒç”¨å·¥å…· {tool_name} å¤±è´¥: {e}[/red]")
            raise

    def extract_text_content(self, content_list: List[Any]) -&gt; str:
        """ä»Ž MCP å“åº”ä¸­æå–æ–‡æœ¬å†…å®¹"""
        text_parts: List[str] = []
        for content in content_list:
            if isinstance(content, TextContent):
                text_parts.append(content.text)
            elif hasattr(content, 'text'):
                text_parts.append(str(content.text))
            else:
                # å¤„ç†å…¶ä»–ç±»åž‹çš„å†…å®¹
                text_parts.append(str(content))
        return "\n".join(text_parts) if text_parts else "âœ… æ“ä½œå®Œæˆï¼Œä½†æ²¡æœ‰è¿”å›žæ–‡æœ¬å†…å®¹"

    async def process_user_input(self, user_input: str) -&gt; str:
        """å¤„ç†ç”¨æˆ·è¾“å…¥å¹¶è¿”å›žæœ€ç»ˆå“åº”"""

        # æž„å»ºå·¥å…·å®šä¹‰
        openai_tools = self.build_openai_tools()

        try:
            # ç¬¬ä¸€æ¬¡è°ƒç”¨ - è®© LLM å†³å®šæ˜¯å¦éœ€è¦ä½¿ç”¨å·¥å…·
            messages = [
                {"role": "system", "content": "ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥ä½¿ç”¨å„ç§ MCP å·¥å…·æ¥å¸®åŠ©ç”¨æˆ·å®Œæˆä»»åŠ¡ã€‚å¦‚æžœä¸éœ€è¦ä½¿ç”¨å·¥å…·ï¼Œç›´æŽ¥è¿”å›žå›žç­”ã€‚"},
                {"role": "user", "content": user_input}
            ]

            # è°ƒç”¨ OpenAI API
            kwargs = {
                "model": "deepseek-chat",
                "messages": messages,
                "temperature": 0.7
            }

            # åªæœ‰å½“æœ‰å·¥å…·æ—¶æ‰æ·»åŠ  tools å‚æ•°
            if openai_tools:
                kwargs["tools"] = openai_tools
                kwargs["tool_choice"] = "auto"

            # ä½¿ç”¨ loading ç‰¹æ•ˆ
            with Live(Spinner("dots", text="[blue]æ­£åœ¨æ€è€ƒ...[/blue]"), console=console, refresh_per_second=10):
                response = await self.openai_client.chat.completions.create(**kwargs)  # type: ignore
            message = response.choices[0].message

            # æ£€æŸ¥æ˜¯å¦æœ‰å·¥å…·è°ƒç”¨
            if hasattr(message, 'tool_calls') and message.tool_calls:  # type: ignore
                # æ·»åŠ åŠ©æ‰‹æ¶ˆæ¯åˆ°åŽ†å²
                messages.append({  # type: ignore
                    "role": "assistant",
                    "content": message.content,
                    "tool_calls": [
                        {
                            "id": tc.id,
                            "type": "function",
                            "function": {
                                "name": tc.function.name,
                                "arguments": tc.function.arguments
                            }
                        } for tc in message.tool_calls  # type: ignore
                    ]
                })

                # æ‰§è¡Œæ¯ä¸ªå·¥å…·è°ƒç”¨
                for tool_call in message.tool_calls:
                    function_name = tool_call.function.name  # type: ignore
                    arguments = json.loads(tool_call.function.arguments)  # type: ignore

                    # è§£æžæœåŠ¡å™¨åç§°å’Œå·¥å…·åç§°
                    server_name, tool_name = self.parse_tool_name(function_name)  # type: ignore

                    try:
                        # ä½¿ç”¨ loading ç‰¹æ•ˆè°ƒç”¨å·¥å…·
                        with Live(Spinner("dots", text=f"[cyan]æ­£åœ¨è°ƒç”¨ {server_name}.{tool_name}...[/cyan]"), console=console, refresh_per_second=10):
                            result = await self.call_tool(server_name, tool_name, arguments)

                        # ä»Ž MCP å“åº”ä¸­æå–æ–‡æœ¬å†…å®¹
                        result_content = self.extract_text_content(result.content)
                        # æ·»åŠ å·¥å…·è°ƒç”¨ç»“æžœ
                        messages.append({
                            "role": "tool",
                            "tool_call_id": tool_call.id,
                            "content": result_content
                        })
                        console.print(f"[green]âœ“ {server_name}.{tool_name} è°ƒç”¨æˆåŠŸ[/green]")

                    except Exception as e:
                        # æ·»åŠ é”™è¯¯ä¿¡æ¯
                        messages.append({
                            "role": "tool",
                            "tool_call_id": tool_call.id,
                            "content": f"é”™è¯¯: {str(e)}"
                        })
                        console.print(f"[red]âœ— {server_name}.{tool_name} è°ƒç”¨å¤±è´¥: {e}[/red]")

                # èŽ·å–æœ€ç»ˆå“åº”
                with Live(Spinner("dots", text="[blue]æ­£åœ¨ç”Ÿæˆæœ€ç»ˆå“åº”...[/blue]"), console=console, refresh_per_second=10):
                    final_response = await self.openai_client.chat.completions.create(
                        model="deepseek-chat",
                        messages=messages,  # type: ignore
                        temperature=0.7
                    )

                final_content = final_response.choices[0].message.content
                return final_content or "æŠ±æ­‰ï¼Œæˆ‘æ— æ³•ç”Ÿæˆæœ€ç»ˆå›žç­”ã€‚"

            else:
                # æ²¡æœ‰å·¥å…·è°ƒç”¨ï¼Œç›´æŽ¥è¿”å›žå“åº”
                return message.content or "æŠ±æ­‰ï¼Œæˆ‘æ— æ³•ç”Ÿæˆå›žç­”ã€‚"

        except Exception as e:
            console.print(f"[red]âœ— å¤„ç†è¯·æ±‚æ—¶å‡ºé”™: {e}[/red]")
            return f"æŠ±æ­‰ï¼Œå¤„ç†æ‚¨çš„è¯·æ±‚æ—¶å‡ºçŽ°é”™è¯¯: {str(e)}"

    async def interactive_loop(self):
        """äº¤äº’å¼å¾ªçŽ¯"""
        console.print(Panel.fit(
            "[bold cyan]MyMCP å®¢æˆ·ç«¯å·²å¯åŠ¨[/bold cyan]\n"
            "è¾“å…¥æ‚¨çš„é—®é¢˜ï¼Œæˆ‘ä¼šä½¿ç”¨å¯ç”¨çš„ MCP å·¥å…·æ¥å¸®åŠ©æ‚¨ã€‚\n"
            "è¾“å…¥ 'tools' æŸ¥çœ‹å¯ç”¨å·¥å…·\n"
            "è¾“å…¥ 'exit' æˆ– 'quit' é€€å‡ºã€‚",
            title="æ¬¢è¿Žä½¿ç”¨ MCP å®¢æˆ·ç«¯"
        ))

        while True:
            try:
                # èŽ·å–ç”¨æˆ·è¾“å…¥
                user_input = Prompt.ask("\n[bold green]æ‚¨[/bold green]")

                if user_input.lower() in ['exit', 'quit', 'q']:
                    console.print("\n[yellow]å†è§ï¼[/yellow]")
                    break

                if user_input.lower() == 'tools':
                    self.display_tools()
                    continue

                # å¤„ç†ç”¨æˆ·è¾“å…¥
                response = await self.process_user_input(user_input)

                # æ˜¾ç¤ºå“åº”
                console.print("\n[bold blue]åŠ©æ‰‹[/bold blue]:")
                console.print(Panel(Markdown(response), border_style="blue"))

            except KeyboardInterrupt:
                console.print("\n[yellow]å·²ä¸­æ–­[/yellow]")
                break
            except Exception as e:
                console.print(f"\n[red]é”™è¯¯: {e}[/red]")

    async def run(self):
        """è¿è¡Œå®¢æˆ·ç«¯"""
        # åŠ è½½é…ç½®
        self.load_config()

        if not self.servers:
            console.print("[red]âœ— æ²¡æœ‰é…ç½®çš„æœåŠ¡å™¨[/red]")
            return

        # èŽ·å–æ‰€æœ‰å·¥å…·
        await self.load_all_tools()

        if not self.all_tools:
            console.print("[red]âœ— æ²¡æœ‰å¯ç”¨çš„å·¥å…·[/red]")
            return

        # æ˜¾ç¤ºå¯ç”¨å·¥å…·
        self.display_tools()

        # è¿›å…¥äº¤äº’å¾ªçŽ¯
        await self.interactive_loop()


async def main():
    """ä¸»å‡½æ•°"""
    # æ£€æŸ¥ OpenAI API Key
    if not os.getenv("OPENAI_API_KEY"):
        console.print("[red]âœ— è¯·è®¾ç½®çŽ¯å¢ƒå˜é‡ OPENAI_API_KEY[/red]")
        console.print("æç¤º: åˆ›å»º .env æ–‡ä»¶å¹¶æ·»åŠ : OPENAI_API_KEY=your-api-key")
        sys.exit(1)

    # åˆ›å»ºå¹¶è¿è¡Œå®¢æˆ·ç«¯
    client = MyMCPClient()
    await client.run()


if __name__ == "__main__":
    try:
        asyncio.run(main())
    except KeyboardInterrupt:
        console.print("\n[yellow]ç¨‹åºå·²é€€å‡º[/yellow]")
    except Exception as e:
        console.print(f"\n[red]ç¨‹åºé”™è¯¯: {e}[/red]")
        sys.exit(1)
</code></pre>
<p>
 ä¸Šé¢ä»£ç ä¸­æˆ‘ä»¬é¦–å…ˆåŠ è½½
 <code class="code">
  mcp.json
 </code>
 æ–‡ä»¶ï¼Œé…ç½®æ ¼å¼å’Œ Cursor çš„ä¸€è‡´ï¼Œæ¥èŽ·å–æ‰€æœ‰æˆ‘ä»¬è‡ªå·±é…ç½®çš„ MCP æœåŠ¡å™¨ï¼Œæ¯”å¦‚æˆ‘ä»¬é…ç½®å¦‚ä¸‹æ‰€ç¤ºçš„
 <code class="code">
  mcp.json
 </code>
 æ–‡ä»¶ï¼š
</p>
<pre class="pre"><code class="language-json code">{
  "mcpServers": {
    "weather": {
      "command": "uv",
      "args": ["--directory", ".", "run", "main.py"],
      "description": "å¤©æ°”ä¿¡æ¯æœåŠ¡å™¨ - èŽ·å–å½“å‰å¤©æ°”å’Œå¤©æ°”é¢„æŠ¥",
      "env": {
        "OPENWEATHER_API_KEY": "xxxx"
      }
    },
    "filesystem": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-filesystem", "/tmp"],
      "description": "æ–‡ä»¶ç³»ç»Ÿæ“ä½œæœåŠ¡å™¨ - æ–‡ä»¶è¯»å†™å’Œç›®å½•ç®¡ç†"
    }
  }
}
</code></pre>
<p>
 ç„¶åŽåœ¨
 <code class="code">
  run
 </code>
 æ–¹æ³•ä¸­æŽ¥ç€æˆ‘ä»¬è°ƒç”¨
 <code class="code">
  load_all_tools
 </code>
 æ–¹æ³•åŠ è½½æ‰€æœ‰çš„å·¥å…·åˆ—è¡¨ï¼Œè¿™é‡Œçš„å®žçŽ°æ ¸å¿ƒå°±æ˜¯åŽ»è°ƒç”¨ MCP æœåŠ¡å™¨ç«¯çš„å·¥å…·åˆ—è¡¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
</p>
<pre class="pre"><code class="language-python code">async def get_tools_from_server(self, name: str, config: MCPServerConfig) -&gt; List[Tool]:
    """ä»Žå•ä¸ªæœåŠ¡å™¨èŽ·å–å·¥å…·åˆ—è¡¨"""
    try:
        console.print(f"[blue]â†’ æ­£åœ¨è¿žæŽ¥æœåŠ¡å™¨: {name}[/blue]")

        # å‡†å¤‡çŽ¯å¢ƒå˜é‡
        env = os.environ.copy()
        if config.env:
            env.update(config.env)

        # åˆ›å»ºæœåŠ¡å™¨å‚æ•°
        server_params = StdioServerParameters(
            command=config.command,
            args=config.args,
            env=env
        )

        # ä½¿ç”¨ async with ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼ˆåŒå±‚åµŒå¥—ï¼‰
        async with stdio_client(server_params) as (read, write):
            async with ClientSession(read, write) as session:
                await session.initialize()

                # èŽ·å–å·¥å…·åˆ—è¡¨
                tools_result = await session.list_tools()
                tools = tools_result.tools

                console.print(f"[green]âœ“ {name}: {len(tools)} ä¸ªå·¥å…·[/green]")
                return tools

    except Exception as e:
        console.print(f"[red]âœ— è¿žæŽ¥æœåŠ¡å™¨ {name} å¤±è´¥: {e}[/red]")
        console.print(f"[red]  é”™è¯¯ç±»åž‹: {type(e).__name__}[/red]")
        import traceback
        console.print(f"[red]  è¯¦ç»†é”™è¯¯: {traceback.format_exc()}[/red]")
        return []
</code></pre>
<p>
 è¿™é‡Œæ ¸å¿ƒå°±æ˜¯ç›´æŽ¥ä½¿ç”¨ MCP Python SDK æä¾›çš„å®¢æˆ·ç«¯æŽ¥å£åŽ»è°ƒç”¨ MCP æœåŠ¡å™¨èŽ·å–å·¥å…·åˆ—è¡¨ã€‚
</p>
<p>
 æŽ¥ä¸‹æ¥å°±æ˜¯å¤„ç†ç”¨æˆ·çš„è¾“å…¥äº†ï¼Œè¿™é‡Œé¦–å…ˆæˆ‘ä»¬è¦åšçš„æ˜¯å°†èŽ·å–åˆ°çš„ MCP å·¥å…·åˆ—è¡¨è½¬æ¢æˆ OpenAI èƒ½å¤Ÿè¯†åˆ«çš„ function tools æ ¼å¼ï¼Œç„¶åŽå°†ç”¨æˆ·çš„è¾“å…¥å’Œå·¥å…·ä¸€èµ·å‘ç»™ OpenAI è¿›è¡Œå¤„ç†ï¼Œç„¶åŽæ ¹æ®è¿”å›žç»“æžœåˆ¤æ–­æ˜¯å¦åº”è¯¥è°ƒç”¨æŸä¸ªå·¥å…·ï¼Œå¦‚æžœéœ€è¦åŒæ ·ç›´æŽ¥è°ƒç”¨ MCP çš„å·¥å…·å³å¯ï¼Œæœ€åŽå°†èŽ·å¾—çš„ç»“æžœä¸€èµ·ç»„è£…å‘ç»™ OpenAI èŽ·å¾—ä¸€ä¸ªæ›´åŠ å®Œæ•´çš„å›žç­”ç»“æžœã€‚è¿™æ•´ä¸ªæµç¨‹ä¸å¤æ‚ï¼Œå½“ç„¶è¿˜æœ‰å¾ˆå¤šç»†èŠ‚å¯ä»¥ä¼˜åŒ–ï¼Œæ›´å¤šçš„è¿˜æ˜¯æ ¹æ®æˆ‘ä»¬è‡ªå·±çš„éœ€æ±‚è¿›è¡Œé›†æˆã€‚
</p>
<p>
 çŽ°åœ¨æˆ‘ä»¬å¯ä»¥ç›´æŽ¥æµ‹è¯•ä¸‹ç»“æžœï¼š
</p>
<pre class="pre"><code class="language-bash code">$ python simple_client.py
âœ“ å·²åŠ è½½ 1 ä¸ª MCP æœåŠ¡å™¨é…ç½®

â†’ æ­£åœ¨èŽ·å–å¯ç”¨å·¥å…·åˆ—è¡¨...
â†’ æ­£åœ¨è¿žæŽ¥æœåŠ¡å™¨: weather
[05/25/25 11:42:51] INFO     Processing request of type ListToolsRequest  server.py:551
âœ“ weather: 2 ä¸ªå·¥å…·
                              å¯ç”¨ MCP å·¥å…·
â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ æœåŠ¡å™¨  â”ƒ å·¥å…·åç§°             â”ƒ æè¿°                                 â”ƒ
â”¡â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”©
â”‚ weather â”‚ get_current_weather  â”‚                                      â”‚
â”‚         â”‚                      â”‚ èŽ·å–æŒ‡å®šåŸŽå¸‚çš„å½“å‰å¤©æ°”ä¿¡æ¯           â”‚
â”‚         â”‚                      â”‚                                      â”‚
â”‚         â”‚                      â”‚ Args:                                â”‚
â”‚         â”‚                      â”‚     city: åŸŽå¸‚åç§°ï¼ˆè‹±æ–‡ï¼‰           â”‚
â”‚         â”‚                      â”‚                                      â”‚
â”‚         â”‚                      â”‚ Returns:                             â”‚
â”‚         â”‚                      â”‚     æ ¼å¼åŒ–çš„å½“å‰å¤©æ°”ä¿¡æ¯             â”‚
â”‚         â”‚                      â”‚                                      â”‚
â”‚         â”‚ get_weather_forecast â”‚                                      â”‚
â”‚         â”‚                      â”‚ èŽ·å–æŒ‡å®šåŸŽå¸‚çš„å¤©æ°”é¢„æŠ¥               â”‚
â”‚         â”‚                      â”‚                                      â”‚
â”‚         â”‚                      â”‚ Args:                                â”‚
â”‚         â”‚                      â”‚     city: åŸŽå¸‚åç§°ï¼ˆè‹±æ–‡ï¼‰           â”‚
â”‚         â”‚                      â”‚     days: é¢„æŠ¥å¤©æ•°ï¼ˆ1-5å¤©ï¼Œé»˜è®¤5å¤©ï¼‰ â”‚
â”‚         â”‚                      â”‚                                      â”‚
â”‚         â”‚                      â”‚ Returns:                             â”‚
â”‚         â”‚                      â”‚     æ ¼å¼åŒ–çš„å¤©æ°”é¢„æŠ¥ä¿¡æ¯             â”‚
â”‚         â”‚                      â”‚                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ¬¢è¿Žä½¿ç”¨ MCP å®¢æˆ·ç«¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ MyMCP å®¢æˆ·ç«¯å·²å¯åŠ¨                              â”‚
â”‚ è¾“å…¥æ‚¨çš„é—®é¢˜ï¼Œæˆ‘ä¼šä½¿ç”¨å¯ç”¨çš„ MCP å·¥å…·æ¥å¸®åŠ©æ‚¨ã€‚ â”‚
â”‚ è¾“å…¥ 'tools' æŸ¥çœ‹å¯ç”¨å·¥å…·                       â”‚
â”‚ è¾“å…¥ 'exit' æˆ– 'quit' é€€å‡ºã€‚                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

æ‚¨: ä½ å¥½,ä½ æ˜¯è°?
â ¹ æ­£åœ¨æ€è€ƒ...

åŠ©æ‰‹:
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ ä½ å¥½ï¼æˆ‘æ˜¯ä¸€ä¸ªæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥å¸®åŠ©ä½ å®Œæˆå„ç§ä»»åŠ¡ï¼Œæ¯”å¦‚å›žç­”é—®é¢˜ã€æŸ¥è¯¢å¤©æ°”ã€æä¾›å»ºè®®ç­‰ç­‰ã€‚å¦‚æžœä½ æœ‰ä»»ä½•éœ€è¦ï¼Œéšæ—¶å‘Šè¯‰æˆ‘ï¼ ðŸ˜Š                  â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

æ‚¨: æˆéƒ½ä»Šå¤©çš„å¤©æ°”å’‹æ ·?æ˜Žå¤©é€‚åˆç©¿è£™å­å—?
â § æ­£åœ¨æ€è€ƒ...
â ´ æ­£åœ¨è°ƒç”¨ weather.get_current_weather...[05/25/25 11:44:03] INFO     Processing request of type CallToolRequest                                                        server.py:551
â ´ æ­£åœ¨è°ƒç”¨ weather.get_current_weather...
âœ“ weather.get_current_weather è°ƒç”¨æˆåŠŸ
â ¸ æ­£åœ¨è°ƒç”¨ weather.get_weather_forecast...[05/25/25 11:44:04] INFO     Processing request of type CallToolRequest                                                        server.py:551
â ‹ æ­£åœ¨è°ƒç”¨ weather.get_weather_forecast...
âœ“ weather.get_weather_forecast è°ƒç”¨æˆåŠŸ
â § æ­£åœ¨ç”Ÿæˆæœ€ç»ˆå“åº”...

åŠ©æ‰‹:
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ æˆéƒ½ä»Šå¤©å¤©æ°”æ™´æœ—ï¼Œå½“å‰æ¸©åº¦26.9Â°Cï¼Œæ¹¿åº¦44%ï¼Œé£ŽåŠ›è¾ƒå°ï¼Œéžå¸¸é€‚åˆå¤–å‡ºæ´»åŠ¨ã€‚                                                                  â”‚
â”‚                                                                                                                                          â”‚
â”‚ æ˜Žå¤©(5æœˆ25æ—¥)å¤©æ°”é¢„æŠ¥ï¼š                                                                                                                  â”‚
â”‚                                                                                                                                          â”‚
â”‚  â€¢ å¤©æ°”ï¼šå¤šäº‘                                                                                                                            â”‚
â”‚  â€¢ æ¸©åº¦ï¼š26.4Â°C~29.3Â°C                                                                                                                   â”‚
â”‚  â€¢ é£ŽåŠ›ï¼š3.1 m/s                                                                                                                         â”‚
â”‚  â€¢ æ¹¿åº¦ï¼š41%                                                                                                                             â”‚
â”‚                                                                                                                                          â”‚
â”‚ å»ºè®®ï¼šæ˜Žå¤©æ¸©åº¦é€‚ä¸­ï¼Œé£ŽåŠ›ä¸å¤§ï¼Œç©¿è£™å­å®Œå…¨æ²¡é—®é¢˜ã€‚ä¸è¿‡å»ºè®®æ­é…ä¸€ä»¶è–„å¤–å¥—æˆ–é˜²æ™’è¡£ï¼Œå› ä¸ºå¤šäº‘å¤©æ°”ç´«å¤–çº¿å¯èƒ½è¾ƒå¼ºã€‚å¦‚æžœè®¡åˆ’é•¿æ—¶é—´åœ¨æˆ·å¤–ï¼Œå¯ä»¥å¸¦ â”‚
â”‚ æŠŠæ™´é›¨ä¼žå¤‡ç”¨ã€‚                                                                                                                           â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

æ‚¨:
</code></pre>
<p>
 ä»Žè¾“å‡ºå¯ä»¥çœ‹åˆ°èƒ½å¤Ÿæ­£å¸¸è°ƒç”¨æˆ‘ä»¬é…ç½®çš„ MCP æœåŠ¡å™¨æä¾›çš„å·¥å…·ã€‚
</p>
</div>
<!-- Share Section -->
<div class="share-section">
<h3>Share this Project</h3>
<div class="share-buttons">
<button class="share-button" data-url="https://llmlogs.com/mcp/cnych-mcp-sse-demo.html">Copy Link</button>
</div>
</div>
</article>
</main>
<!-- Standard Footer -->
<footer class="site-footer">
<div class="footer-content">
<div class="footer-links">
<a href="/">Home</a>
<a href="/guides">Guides</a>
<a href="/free-tools">Tools</a>
<a href="/blog">Blog</a>
<a href="https://github.com/mattmerrick/llmseoguide" rel="noopener" target="_blank">GitHub</a>
</div>
<div class="footer-bottom">
<p>Â© 2025 LLM Logs. All rights reserved.</p>
</div>
</div>
</footer>
<!-- Required Scripts -->
<script src="/assets/js/main.js"></script>
</body>
</html>
</div>
<!-- Share Section -->
<div class="share-section">
<h3>Share this Project</h3>
<div class="share-buttons">
<button class="share-button" data-url="https://llmlogs.com/mcp/cnych-mcp-sse-demo.html">Copy Link</button>
</div>
</div>
</article>
</main>
<!-- Standard Footer -->
<footer class="site-footer">
<div class="footer-content">
<div class="footer-links">
<a href="/">Home</a>
<a href="/guides">Guides</a>
<a href="/free-tools">Tools</a>
<a href="/blog">Blog</a>
<a href="https://github.com/mattmerrick/llmseoguide" rel="noopener" target="_blank">GitHub</a>
</div>
<div class="footer-bottom">
<p>Â© 2025 LLM Logs. All rights reserved.</p>
</div>
</div>
</footer>
<!-- Required Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="../assets/js/main.js"></script>
</body>
</html>
</div>
<!-- Share Section -->
<div class="share-section">
<h3>Share this Project</h3>
<div class="share-buttons">
<button class="share-button" data-url="https://llmlogs.com/mcp/cnych-mcp-sse-demo.html">Copy Link</button>
</div>
</div>
</article>
</div>
</div>
</main>
<footer class="bg-white py-5 mt-5">
<div class="container">
<div class="row justify-content-center text-center">
<div class="col-md-8">
<div class="d-flex flex-column flex-md-row justify-content-center gap-4 mb-4">
<a class="text-muted text-decoration-none" href="/">Home</a>
<a class="text-muted text-decoration-none" href="/guides">Guides</a>
<a class="text-muted text-decoration-none" href="/tool-reviews">Tool Reviews</a>
<a class="text-muted text-decoration-none" href="/blog">Blog</a>
<a class="text-muted text-decoration-none" href="https://github.com/mattmerrick/llmseoguide" rel="noopener" target="_blank">GitHub</a>
</div>
<p class="text-muted small mb-0">Â© 2025 LLM Logs. All rights reserved.</p>
</div>
</div>
</div>
</footer>
<!-- Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="../assets/js/main.js"></script>
</body>
</html>
                    </div>

                    <!-- Share Section -->
                    <div class="share-section">
                        <h3>Share this Project</h3>
                        <div class="share-buttons">
                            <button class="btn btn-outline-primary share-button" data-url="https://llmlogs.com/mcp/cnych-mcp-sse-demo.html">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link-45deg me-2" viewBox="0 0 16 16">
                                    <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"/>
                                    <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"/>
                                </svg>
                                Copy Link
                            </button>
                        </div>
                    </div>
                </article>
            </div>
        </div>
    </main>

    <button class="btn btn-primary back-to-top hidden" aria-label="Back to top">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z"/>
        </svg>
    </button>

    <footer class="bg-white py-5 mt-5">
        <div class="container">
            <div class="row justify-content-center text-center">
                <div class="col-md-8">
                    <div class="d-flex flex-column flex-md-row justify-content-center gap-4 mb-4">
                        <a href="/" class="text-muted text-decoration-none">Home</a>
                        <a href="/guides" class="text-muted text-decoration-none">Guides</a>
                        <a href="/tools" class="text-muted text-decoration-none">Tools</a>
                        <a href="/blog" class="text-muted text-decoration-none">Blog</a>
                        <a href="https://github.com/mattmerrick/llmseoguide" target="_blank" rel="noopener" class="text-muted text-decoration-none">GitHub</a>
                    </div>
                    <p class="text-muted small mb-0">&copy; 2025 LLM Logs. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/js/main.js"></script>
</body>
</html>
