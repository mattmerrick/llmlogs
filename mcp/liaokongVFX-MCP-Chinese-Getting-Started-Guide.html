<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="[TOC]">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Model Context Protocol(MCP) ç¼–ç¨‹æžé€Ÿå…¥é—¨ - MCP Directory">
    <meta property="og:description" content="[TOC]">
    <meta property="og:url" content="https://llmlogs.com/mcp/liaokongVFX-MCP-Chinese-Getting-Started-Guide.html">
    <meta property="og:type" content="article">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Model Context Protocol(MCP) ç¼–ç¨‹æžé€Ÿå…¥é—¨ - MCP Directory">
    <meta name="twitter:description" content="[TOC]">
    
    <title>Model Context Protocol(MCP) ç¼–ç¨‹æžé€Ÿå…¥é—¨ - MCP Directory - LLM Logs</title>
    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-P33Z79C6');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Inter Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Main CSS -->
    <link rel="stylesheet" href="../assets/css/style.css">
    
    <style>
        body {
            font-family: 'Inter', var(--bs-font-sans-serif);
        }
        pre, code {
            font-family: 'Fira Code', monospace;
            background-color: var(--bs-gray-100);
            padding: 0.2rem 0.4rem;
            border-radius: 0.2rem;
            font-size: 0.875em;
        }
        pre code {
            padding: 0;
            background-color: transparent;
        }
        .hero-section {
            background-color: var(--bs-primary);
            color: white;
            padding: 4rem 0;
            margin-bottom: 2rem;
        }
        .blog-meta {
            color: var(--bs-gray-600);
            font-size: 0.9rem;
        }
        .blog-content h2 {
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        .blog-content h3 {
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }
        .blog-content p {
            margin-bottom: 1.25rem;
            line-height: 1.7;
        }
        .blog-content ul, .blog-content ol {
            margin-bottom: 1.25rem;
        }
        .blog-content blockquote {
            border-left: 4px solid var(--bs-primary);
            padding-left: 1rem;
            margin-left: 0;
            color: var(--bs-gray-700);
        }
        /* Project-specific styles */
        .project-meta {
            background-color: var(--bs-gray-100);
            padding: 1.5rem;
            border-radius: 0.5rem;
            margin: 2rem 0;
        }
        .project-meta .meta-item {
            display: flex;
            align-items: center;
            margin-bottom: 0.75rem;
        }
        .project-meta .meta-item svg {
            width: 1.25rem;
            height: 1.25rem;
            margin-right: 0.75rem;
        }
        .topic-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        .topic-tag {
            background-color: var(--bs-gray-200);
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
        }
        .readme-content {
            margin-top: 2rem;
        }
        .readme-content pre {
            background-color: var(--bs-gray-100);
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            position: relative;
        }
        .readme-content img {
            max-width: 100%;
            height: auto;
        }
        /* Copy button styles */
        .copy-button {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            padding: 0.25rem 0.75rem;
            font-size: 0.875rem;
            border-radius: 0.25rem;
            background-color: var(--bs-light);
            border: 1px solid var(--bs-gray-300);
            color: var(--bs-gray-700);
            transition: all 0.2s;
        }
        .copy-button:hover {
            background-color: var(--bs-gray-200);
        }
        .copy-button.copied {
            background-color: var(--bs-success);
            color: white;
            border-color: var(--bs-success);
        }
        /* Share section styles */
        .share-section {
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid var(--bs-gray-200);
        }
        .share-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }
        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            padding: 0.75rem;
            border-radius: 50%;
            background-color: var(--bs-primary);
            color: white;
            border: none;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 1000;
        }
        .back-to-top:not(.hidden) {
            opacity: 1;
        }
    </style>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P33Z79C6"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
        <div class="container">
            <a class="navbar-brand fw-semibold" href="/">LLM Logs</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/start-here.html">Start Here</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/guides/llm-optimization">Guides</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/free-tools">Tools</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/blog">Blog</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://github.com/mattmerrick/llmseoguide" target="_blank" rel="noopener">GitHub</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="hero-section">
        <div class="container">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb mb-4">
                    <li class="breadcrumb-item"><a href="/" class="text-white">Home</a></li>
                    <li class="breadcrumb-item"><a href="/mcp" class="text-white">MCP Directory</a></li>
                    <li class="breadcrumb-item active text-white" aria-current="page">Model Context Protocol(MCP) ç¼–ç¨‹æžé€Ÿå…¥é—¨</li>
                </ol>
            </nav>
            <h1 class="display-4 mb-3">Model Context Protocol(MCP) ç¼–ç¨‹æžé€Ÿå…¥é—¨</h1>
        </div>
    </div>

    <!-- Main Content -->
    <main class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <article class="blog-content">
                    <!-- Project Meta -->
                    <div class="project-meta">
                        <div class="meta-item">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
                            </svg>
                            <span>Stars: 2043</span>
                        </div>
                        <div class="meta-item">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zM7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zM4.285 9.567a.5.5 0 0 1 .683.183A3.498 3.498 0 0 0 8 11.5a3.498 3.498 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.498 4.498 0 0 1 8 12.5a4.498 4.498 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683zM10 8c-.552 0-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5S10.552 8 10 8z"/>
                            </svg>
                            <span>Language: Not specified</span>
                        </div>
                        <div class="topic-tags">
                            <span class="topic-tag">ai</span><span class="topic-tag"> deepseek</span><span class="topic-tag"> mcp</span><span class="topic-tag"> modelcontextprotocol</span><span class="topic-tag"> mcp-server</span>
                        </div>
                        <a href="https://github.com/liaokongVFX/MCP-Chinese-Getting-Started-Guide" class="btn btn-primary mt-3" target="_blank" rel="noopener">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16" class="me-2">
                                <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
                            </svg>
                            View on GitHub
                        </a>
                    </div>

                    <!-- README Content -->
                    <div class="readme-content">
                        <!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="[TOC]" name="description"/>
<!-- Open Graph Meta Tags -->
<meta content="Model Context Protocol(MCP) ç¼–ç¨‹æžé€Ÿå…¥é—¨ - MCP Directory" property="og:title"/>
<meta content="[TOC]" property="og:description"/>
<meta content="https://llmlogs.com/mcp/liaokongVFX-MCP-Chinese-Getting-Started-Guide.html" property="og:url"/>
<meta content="article" property="og:type"/>
<!-- Twitter Card Meta Tags -->
<meta content="summary_large_image" name="twitter:card"/>
<meta content="Model Context Protocol(MCP) ç¼–ç¨‹æžé€Ÿå…¥é—¨ - MCP Directory" name="twitter:title"/>
<meta content="[TOC]" name="twitter:description"/>
<title>Model Context Protocol(MCP) ç¼–ç¨‹æžé€Ÿå…¥é—¨ - MCP Directory - LLM Logs</title>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-P33Z79C6');</script>
<!-- End Google Tag Manager -->
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
<!-- Inter Font -->
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<!-- Main CSS -->
<link href="../assets/css/style.css" rel="stylesheet"/>
<style>
        body {
            font-family: 'Inter', var(--bs-font-sans-serif);
        }
        pre, code {
            font-family: 'Fira Code', monospace;
            background-color: var(--bs-gray-100);
            padding: 0.2rem 0.4rem;
            border-radius: 0.2rem;
            font-size: 0.875em;
        }
        pre code {
            padding: 0;
            background-color: transparent;
        }
        .hero-section {
            background-color: var(--bs-primary);
            color: white;
            padding: 4rem 0;
            margin-bottom: 2rem;
        }
        .blog-meta {
            color: var(--bs-gray-600);
            font-size: 0.9rem;
        }
        .blog-content h2 {
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        .blog-content h3 {
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }
        .blog-content p {
            margin-bottom: 1.25rem;
            line-height: 1.7;
        }
        .blog-content ul, .blog-content ol {
            margin-bottom: 1.25rem;
        }
        .blog-content blockquote {
            border-left: 4px solid var(--bs-primary);
            padding-left: 1rem;
            margin-left: 0;
            color: var(--bs-gray-700);
        }
        /* Project-specific styles */
        .project-meta {
            background-color: var(--bs-gray-100);
            padding: 1.5rem;
            border-radius: 0.5rem;
            margin: 2rem 0;
        }
        .project-meta .meta-item {
            display: flex;
            align-items: center;
            margin-bottom: 0.75rem;
        }
        .project-meta .meta-item svg {
            width: 1.25rem;
            height: 1.25rem;
            margin-right: 0.75rem;
        }
        .topic-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        .topic-tag {
            background-color: var(--bs-gray-200);
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
        }
        .readme-content {
            margin-top: 2rem;
        }
        .readme-content pre {
            background-color: var(--bs-gray-100);
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
        }
        .readme-content img {
            max-width: 100%;
            height: auto;
        }
        .github-link {
            display: inline-flex;
            align-items: center;
            padding: 0.75rem 1.5rem;
            background-color: var(--bs-blue);
            color: white;
            text-decoration: none;
            border-radius: 0.5rem;
            margin-top: 1rem;
        }
        .github-link:hover {
            background-color: var(--bs-blue-dark);
        }
        .github-link svg {
            margin-right: 0.75rem;
        }
    </style>
</head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-P33Z79C6" style="display:none;visibility:hidden" width="0"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
<div class="container">
<a class="navbar-brand fw-semibold" href="/">LLM Logs</a>
<button class="navbar-toggler" data-bs-target="#navbarNav" data-bs-toggle="collapse" type="button">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="navbarNav">
<ul class="navbar-nav ms-auto">
<li class="nav-item">
<a class="nav-link" href="/start-here.html">Start Here</a>
</li>
<li class="nav-item">
<a class="nav-link" href="/guides/llm-optimization">Guides</a>
</li>
<li class="nav-item">
<a class="nav-link" href="/free-tools">Tools</a>
</li>
<li class="nav-item">
<a class="nav-link" href="/blog">Blog</a>
</li>
<li class="nav-item">
<a class="nav-link" href="https://github.com/mattmerrick/llmseoguide" rel="noopener" target="_blank">GitHub</a>
</li>
</ul>
</div>
</div>
</nav>
<!-- Hero Section -->
<div class="hero-section">
<div class="container">
<nav aria-label="breadcrumb">
<ol class="breadcrumb mb-4">
<li class="breadcrumb-item"><a class="text-white" href="/">Home</a></li>
<li class="breadcrumb-item"><a class="text-white" href="/mcp">MCP Directory</a></li>
<li aria-current="page" class="breadcrumb-item active text-white">Model Context Protocol(MCP) ç¼–ç¨‹æžé€Ÿå…¥é—¨</li>
</ol>
</nav>
<h1 class="display-4 mb-3">Model Context Protocol(MCP) ç¼–ç¨‹æžé€Ÿå…¥é—¨</h1>
</div>
</div>
<!-- Main Content -->
<main class="container py-5">
<div class="row justify-content-center">
<div class="col-lg-8">
<article class="blog-content">
<!-- Project Meta -->
<div class="project-meta">
<div class="meta-item">
<svg fill="currentColor" viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
<path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
</svg>
<span>Stars: 2043</span>
</div>
<div class="meta-item">
<svg fill="currentColor" viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
<path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zM7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zM4.285 9.567a.5.5 0 0 1 .683.183A3.498 3.498 0 0 0 8 11.5a3.498 3.498 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.498 4.498 0 0 1 8 12.5a4.498 4.498 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683zM10 8c-.552 0-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5S10.552 8 10 8z"></path>
</svg>
<span>Language: Not specified</span>
</div>
<div class="topic-tags">
<span class="topic-tag">ai</span><span class="topic-tag"> deepseek</span><span class="topic-tag"> mcp</span><span class="topic-tag"> modelcontextprotocol</span><span class="topic-tag"> mcp-server</span>
</div>
<a class="github-link" href="https://github.com/liaokongVFX/MCP-Chinese-Getting-Started-Guide" rel="noopener" target="_blank">
<svg fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
<path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
</svg>
                            View on GitHub
                        </a>
</div>
<!-- README Content -->
<div class="readme-content">
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<meta content="[TOC]" name="description">
<!-- Open Graph Meta Tags -->
<meta content="Model Context Protocol(MCP) ç¼–ç¨‹æžé€Ÿå…¥é—¨ - MCP Directory" property="og:title">
<meta content="[TOC]" property="og:description">
<meta content="https://llmlogs.com/mcp/liaokongVFX-MCP-Chinese-Getting-Started-Guide.html" property="og:url">
<meta content="article" property="og:type">
<!-- Twitter Card Meta Tags -->
<meta content="summary_large_image" name="twitter:card">
<meta content="Model Context Protocol(MCP) ç¼–ç¨‹æžé€Ÿå…¥é—¨ - MCP Directory" name="twitter:title">
<meta content="[TOC]" name="twitter:description">
<title>Model Context Protocol(MCP) ç¼–ç¨‹æžé€Ÿå…¥é—¨ - MCP Directory - LLM Logs</title>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-P33Z79C6');</script>
<!-- End Google Tag Manager -->
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<!-- Inter Font -->
<link href="https://fonts.googleapis.com" rel="preconnect">
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
<!-- Main CSS -->
<link href="../assets/css/style.css" rel="stylesheet">
<style>
        /* Project-specific styles */
        .project-meta {
            @apply bg-gray-50 p-6 rounded-lg my-8;
        }
        .project-meta .meta-item {
            @apply flex items-center mb-3;
        }
        .project-meta .meta-item svg {
            @apply w-5 h-5 mr-3;
        }
        .topic-tags {
            @apply flex flex-wrap gap-2 mt-4;
        }
        .topic-tag {
            @apply bg-gray-100 px-3 py-1 rounded-full text-sm;
        }
        .readme-content {
            @apply mt-8;
        }
        .readme-content pre {
            @apply bg-gray-50 p-4 rounded-lg overflow-x-auto;
        }
        .readme-content img {
            @apply max-w-full h-auto;
        }
        .github-link {
            @apply inline-flex items-center px-6 py-3 bg-blue-600 text-white no-underline rounded-lg mt-4 hover:bg-blue-700;
        }
        .github-link svg {
            @apply mr-3;
        }
        .heading {
            @apply mt-6 mb-4 font-semibold;
        }
        hr {
            @apply my-8 border-0 border-t border-gray-200;
        }
    </style>
</link></link></link></link></link></meta></meta></meta></meta></meta></meta></meta></meta></meta></meta></head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-P33Z79C6" style="display:none;visibility:hidden" width="0"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<!-- Standard Header -->
<header class="site-header">
<div class="nav-container">
<button aria-label="Toggle navigation menu" class="mobile-menu-toggle">
<span class="hamburger"></span>
</button>
<a class="site-logo" href="/">LLM Logs</a>
<nav class="nav-links">
<a class="start-here-link" href="/start-here.html">Start Here</a>
<a href="/guides/llm-optimization">Guides</a>
<a href="/free-tools">Tools</a>
<a href="/blog">Blog</a>
<a href="https://github.com/mattmerrick/llmseoguide" rel="noopener" target="_blank">GitHub</a>
</nav>
</div>
</header>
<main class="content">
<!-- Breadcrumbs -->
<div class="breadcrumbs">
<a href="/">Home</a> Â» 
            <a href="/mcp">MCP Directory</a> Â» 
            <span>Model Context Protocol(MCP) ç¼–ç¨‹æžé€Ÿå…¥é—¨</span>
</div>
<!-- Article Content -->
<article class="blog-post">
<!-- Project Meta -->
<div class="project-meta">
<div class="meta-item">
<svg fill="currentColor" viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
<path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
</svg>
<span>Stars: 2043</span>
</div>
<div class="meta-item">
<svg fill="currentColor" viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
<path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zM7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zM4.285 9.567a.5.5 0 0 1 .683.183A3.498 3.498 0 0 0 8 11.5a3.498 3.498 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.498 4.498 0 0 1 8 12.5a4.498 4.498 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683zM10 8c-.552 0-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5S10.552 8 10 8z"></path>
</svg>
<span>Language: Not specified</span>
</div>
<div class="topic-tags">
<span class="topic-tag">ai</span><span class="topic-tag"> deepseek</span><span class="topic-tag"> mcp</span><span class="topic-tag"> modelcontextprotocol</span><span class="topic-tag"> mcp-server</span>
</div>
<a class="github-link" href="https://github.com/liaokongVFX/MCP-Chinese-Getting-Started-Guide" rel="noopener" target="_blank">
<svg fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
<path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
</svg>
                    View on GitHub
                </a>
</div>
<!-- README Content -->
<div class="readme-content">
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="[TOC]" name="description"/>
<!-- Open Graph Meta Tags -->
<meta content="Model Context Protocol(MCP) ç¼–ç¨‹æžé€Ÿå…¥é—¨ - MCP Directory" property="og:title"/>
<meta content="[TOC]" property="og:description"/>
<meta content="https://llmlogs.com/mcp/liaokongVFX-MCP-Chinese-Getting-Started-Guide.html" property="og:url"/>
<meta content="article" property="og:type"/>
<!-- Twitter Card Meta Tags -->
<meta content="summary_large_image" name="twitter:card"/>
<meta content="Model Context Protocol(MCP) ç¼–ç¨‹æžé€Ÿå…¥é—¨ - MCP Directory" name="twitter:title"/>
<meta content="[TOC]" name="twitter:description"/>
<title>Model Context Protocol(MCP) ç¼–ç¨‹æžé€Ÿå…¥é—¨ - MCP Directory - LLM Logs</title>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-P33Z79C6');</script>
<!-- End Google Tag Manager -->
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<link href="/assets/css/style.css" rel="stylesheet"/>
<style>
        /* Project-specific styles */
        .project-meta {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 0.5rem;
            margin: 2rem 0;
        }
        .project-meta .meta-item {
            display: flex;
            align-items: center;
            margin-bottom: 0.75rem;
        }
        .project-meta .meta-item svg {
            width: 20px;
            height: 20px;
            margin-right: 0.75rem;
        }
        .topic-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        .topic-tag {
            background: #e9ecef;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.875rem;
        }
        .readme-content {
            margin-top: 2rem;
        }
        .readme-content pre {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
        }
        .readme-content img {
            max-width: 100%;
            height: auto;
        }
        .github-link {
            display: inline-flex;
            align-items: center;
            padding: 0.75rem 1.5rem;
            background: #0d6efd;
            color: white;
            text-decoration: none;
            border-radius: 0.5rem;
            margin-top: 1rem;
        }
        .github-link:hover {
            background: #0b5ed7;
            color: white;
        }
        .github-link svg {
            margin-right: 0.75rem;
        }
        .heading {
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }
        hr {
            margin: 2rem 0;
            border: 0;
            border-top: 1px solid #dee2e6;
        }
    </style>
</head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-P33Z79C6" style="display:none;visibility:hidden" width="0"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<!-- Standard Header -->
<header class="site-header">
<div class="nav-container">
<button aria-label="Toggle navigation menu" class="mobile-menu-toggle">
<span class="hamburger"></span>
</button>
<a class="site-logo" href="/">LLM Logs</a>
<nav class="nav-links">
<a class="start-here-link" href="/start-here.html">Start Here</a>
<a href="/guides/llm-optimization">Guides</a>
<a href="/free-tools">Tools</a>
<a href="/blog">Blog</a>
<a href="https://github.com/mattmerrick/llmseoguide" rel="noopener" target="_blank">GitHub</a>
</nav>
</div>
</header>
<main class="content">
<!-- Breadcrumbs -->
<div class="breadcrumbs">
<a href="/">Home</a> Â» 
            <a href="/mcp">MCP Directory</a> Â» 
            <span>Model Context Protocol(MCP) ç¼–ç¨‹æžé€Ÿå…¥é—¨</span>
</div>
<!-- Article Content -->
<article class="blog-post">
<!-- Project Meta -->
<div class="project-meta">
<div class="meta-item">
<svg fill="currentColor" viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
<path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
</svg>
<span>Stars: 2043</span>
</div>
<div class="meta-item">
<svg fill="currentColor" viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
<path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zM7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zM4.285 9.567a.5.5 0 0 1 .683.183A3.498 3.498 0 0 0 8 11.5a3.498 3.498 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.498 4.498 0 0 1 8 12.5a4.498 4.498 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683zM10 8c-.552 0-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5S10.552 8 10 8z"></path>
</svg>
<span>Language: Not specified</span>
</div>
<div class="topic-tags">
<span class="topic-tag">ai</span><span class="topic-tag"> deepseek</span><span class="topic-tag"> mcp</span><span class="topic-tag"> modelcontextprotocol</span><span class="topic-tag"> mcp-server</span>
</div>
<a class="github-link" href="https://github.com/liaokongVFX/MCP-Chinese-Getting-Started-Guide" rel="noopener" target="_blank">
<svg fill="currentColor" height="20" viewbox="0 0 16 16" width="20" xmlns="http://www.w3.org/2000/svg">
<path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
</svg>
                    View on GitHub
                </a>
</div>
<!-- README Content -->
<div class="readme-content">
<h1 class="heading">
 Model Context Protocol(MCP) ç¼–ç¨‹æžé€Ÿå…¥é—¨
</h1>
<p>
 [TOC]
</p>
<h2 class="heading">
 ç®€ä»‹
</h2>
<p>
 æ¨¡åž‹ä¸Šä¸‹æ–‡åè®®ï¼ˆMCPï¼‰æ˜¯ä¸€ä¸ªåˆ›æ–°çš„å¼€æºåè®®ï¼Œå®ƒé‡æ–°å®šä¹‰äº†å¤§è¯­è¨€æ¨¡åž‹ï¼ˆLLMï¼‰ä¸Žå¤–éƒ¨ä¸–ç•Œçš„äº’åŠ¨æ–¹å¼ã€‚MCP æä¾›äº†ä¸€ç§æ ‡å‡†åŒ–æ–¹æ³•ï¼Œä½¿ä»»æ„å¤§è¯­è¨€æ¨¡åž‹èƒ½å¤Ÿè½»æ¾è¿žæŽ¥å„ç§æ•°æ®æºå’Œå·¥å…·ï¼Œå®žçŽ°ä¿¡æ¯çš„æ— ç¼è®¿é—®å’Œå¤„ç†ã€‚MCP å°±åƒæ˜¯ AI åº”ç”¨ç¨‹åºçš„ USB-C æŽ¥å£ï¼Œä¸º AI æ¨¡åž‹æä¾›äº†ä¸€ç§æ ‡å‡†åŒ–çš„æ–¹å¼æ¥è¿žæŽ¥ä¸åŒçš„æ•°æ®æºå’Œå·¥å…·ã€‚
</p>
<p>
<img alt="image-20250223214308430" src=".assets/image-20250223214308430.png"/>
</p>
<p>
 MCP æœ‰ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒåŠŸèƒ½ï¼š
</p>
<ul>
<li>
  Resources èµ„æº
 </li>
<li>
  Prompts æç¤ºè¯
 </li>
<li>
  Tools å·¥å…·
 </li>
<li>
  Sampling é‡‡æ ·
 </li>
<li>
  Roots æ ¹ç›®å½•
 </li>
<li>
  Transports ä¼ è¾“å±‚
 </li>
</ul>
<p>
 å› ä¸ºå¤§éƒ¨åˆ†åŠŸèƒ½å…¶å®žéƒ½æ˜¯æœåŠ¡äºŽ Claude å®¢æˆ·ç«¯çš„ï¼Œæœ¬æ–‡æ›´å¸Œæœ›ç¼–å†™çš„ MCP æœåŠ¡å™¨æœåŠ¡ä¸Žé€šç”¨å¤§è¯­è¨€æ¨¡åž‹ï¼Œæ‰€ä»¥æœ¬æ–‡å°†ä¼šä¸»è¦ä»¥â€œå·¥å…·â€ä¸ºé‡ç‚¹ï¼Œå…¶ä»–åŠŸèƒ½ä¼šæ”¾åˆ°æœ€åŽè¿›è¡Œç®€å•è®²è§£ã€‚
</p>
<p>
 å…¶ä¸­ MCP çš„ä¼ è¾“å±‚æ”¯æŒäº† 2 ç§åè®®çš„å®žçŽ°ï¼šstdioï¼ˆæ ‡å‡†è¾“å…¥/è¾“å‡ºï¼‰å’Œ SSEï¼ˆæœåŠ¡å™¨å‘é€äº‹ä»¶ï¼‰ï¼Œå› ä¸º stdio æ›´ä¸ºå¸¸ç”¨ï¼Œæ‰€ä»¥æœ¬æ–‡ä¼šä»¥ stdio ä¸ºä¾‹è¿›è¡Œè®²è§£ã€‚
</p>
<p>
 æœ¬æ–‡å°†ä¼šä½¿ç”¨ 3.11 çš„ Python ç‰ˆæœ¬ï¼Œå¹¶ä½¿ç”¨ uv æ¥ç®¡ç† Python é¡¹ç›®ã€‚åŒæ—¶ä»£ç å°†ä¼šåœ¨æ–‡æœ«æ”¾åˆ° Github ä¸Šï¼ŒåºŸè¯ä¸å¤šè¯´ï¼Œæˆ‘ä»¬è¿™å°±å¼€å§‹å§~
</p>
<h2 class="heading">
 å¼€å‘ MCP æœåŠ¡å™¨
</h2>
<p>
 åœ¨è¿™ä¸€å°èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä¼šå®žçŽ°ä¸€ä¸ªç”¨äºŽç½‘ç»œæœç´¢çš„æœåŠ¡å™¨ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆæ¥é€šè¿‡ uv åˆå§‹åŒ–æˆ‘ä»¬çš„é¡¹ç›®ã€‚
</p>
<blockquote>
<p>
  uv å®˜æ–¹æ–‡æ¡£ï¼šhttps://docs.astral.sh/uv/
 </p>
</blockquote>
<pre class="pre"><code class="language-shell code"># åˆå§‹åŒ–é¡¹ç›®
uv init mcp_getting_started
cd mcp_getting_started

# åˆ›å»ºè™šæ‹ŸçŽ¯å¢ƒå¹¶è¿›å…¥è™šæ‹ŸçŽ¯å¢ƒ
uv venv
.venv\Scripts\activate.bat

# å®‰è£…ä¾èµ–
uv add "mcp[cli]" httpx openai

</code></pre>
<p>
 ç„¶åŽæˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªå«
 <code class="code">
  web_search.py
 </code>
 æ–‡ä»¶ï¼Œæ¥å®žçŽ°æˆ‘ä»¬çš„æœåŠ¡ã€‚MCP ä¸ºæˆ‘ä»¬æä¾›äº†2ä¸ªå¯¹è±¡ï¼š
 <code class="code">
  mcp.server.FastMCP
 </code>
 å’Œ
 <code class="code">
  mcp.server.Server
 </code>
 ï¼Œ
 <code class="code">
  mcp.server.FastMCP
 </code>
 æ˜¯æ›´é«˜å±‚çš„å°è£…ï¼Œæˆ‘ä»¬è¿™é‡Œå°±æ¥ä½¿ç”¨å®ƒã€‚
</p>
<pre class="pre"><code class="language-python code">import httpx
from mcp.server import FastMCP

# # åˆå§‹åŒ– FastMCP æœåŠ¡å™¨
app = FastMCP('web-search')
</code></pre>
<p>
 å®žçŽ°æ‰§è¡Œçš„æ–¹æ³•éžå¸¸ç®€å•ï¼ŒMCP ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ª
 <code class="code">
  @mcp.tool()
 </code>
 æˆ‘ä»¬åªéœ€è¦å°†å®žçŽ°å‡½æ•°ç”¨è¿™ä¸ªè£…é¥°å™¨è£…é¥°å³å¯ã€‚å‡½æ•°åç§°å°†ä½œä¸ºå·¥å…·åç§°ï¼Œå‚æ•°å°†ä½œä¸ºå·¥å…·å‚æ•°ï¼Œå¹¶é€šè¿‡æ³¨é‡Šæ¥æè¿°å·¥å…·ä¸Žå‚æ•°ï¼Œä»¥åŠè¿”å›žå€¼ã€‚
</p>
<p>
 è¿™é‡Œæˆ‘ä»¬ç›´æŽ¥ä½¿ç”¨æ™ºè°±çš„æŽ¥å£ï¼Œå®ƒè¿™ä¸ªæŽ¥å£ä¸ä»…èƒ½å¸®æˆ‘ä»¬æœç´¢åˆ°ç›¸å…³çš„ç»“æžœé“¾æŽ¥ï¼Œå¹¶å¸®æˆ‘ä»¬ç”Ÿæˆäº†å¯¹åº”é“¾æŽ¥ä¸­æ–‡ç« æ€»ç»“åŽçš„å†…å®¹çš„ï¼Œ~~å¹¶ä¸”çŽ°é˜¶æ®µæ˜¯å…è´¹çš„~~(ç›®å‰å·²ç»å¼€å§‹æ”¶è´¹ï¼Œ0.03å…ƒ/æ¬¡)ï¼Œéžå¸¸é€‚åˆæˆ‘ä»¬ã€‚
</p>
<blockquote>
<p>
  å®˜æ–¹æ–‡æ¡£ï¼šhttps://bigmodel.cn/dev/api/search-tool/web-search-pro
 </p>
<p>
  API Key ç”Ÿæˆåœ°å€ï¼šhttps://bigmodel.cn/usercenter/proj-mgmt/apikeys
 </p>
</blockquote>
<pre class="pre"><code class="language-python code">@app.tool()
async def web_search(query: str) -&gt; str:
    """
    æœç´¢äº’è”ç½‘å†…å®¹

    Args:
        query: è¦æœç´¢å†…å®¹

    Returns:
        æœç´¢ç»“æžœçš„æ€»ç»“
    """

    async with httpx.AsyncClient() as client:
        response = await client.post(
            'https://open.bigmodel.cn/api/paas/v4/tools',
            headers={'Authorization': 'æ¢æˆä½ è‡ªå·±çš„API KEY'},
            json={
                'tool': 'web-search-pro',
                'messages': [
                    {'role': 'user', 'content': query}
                ],
                'stream': False
            }
        )

        res_data = []
        for choice in response.json()['choices']:
            for message in choice['message']['tool_calls']:
                search_results = message.get('search_result')
                if not search_results:
                    continue
                for result in search_results:
                    res_data.append(result['content'])

        return '\n\n\n'.join(res_data)
</code></pre>
<p>
 æœ€åŽï¼Œæˆ‘ä»¬æ¥æ·»åŠ è¿è¡ŒæœåŠ¡å™¨çš„ä»£ç ã€‚
</p>
<pre class="pre"><code class="language-python code">if __name__ == "__main__":
    app.run(transport='stdio')
</code></pre>
<h2 class="heading">
 è°ƒè¯• MCP æœåŠ¡å™¨
</h2>
<p>
 æ­¤æ—¶ï¼Œæˆ‘ä»¬å°±å®Œæˆäº† MCP æœåŠ¡ç«¯çš„ç¼–å†™ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬æ¥ä½¿ç”¨å®˜æ–¹æä¾›çš„
 <code class="code">
  Inspector
 </code>
 å¯è§†åŒ–å·¥å…·æ¥è°ƒè¯•æˆ‘ä»¬çš„æœåŠ¡å™¨ã€‚
</p>
<p>
 æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹æ³•æ¥è¿è¡Œ
 <code class="code">
  Inspector
 </code>
 ï¼š
</p>
<blockquote>
<p>
  è¯·å…ˆç¡®ä¿å·²ç»å®‰è£…äº† node çŽ¯å¢ƒã€‚
 </p>
</blockquote>
<p>
 é€šè¿‡ npxï¼š
</p>
<pre class="pre"><code class="language-shell code">npx -y @modelcontextprotocol/inspector &lt;command&gt; &lt;arg1&gt; &lt;arg2&gt;
</code></pre>
<p>
 æˆ‘ä»¬çš„è¿™ä¸ªä»£ç è¿è¡Œå‘½ä»¤ä¸ºï¼š
</p>
<pre class="pre"><code class="language-shell code">npx -y @modelcontextprotocol/inspector uv run web_search.py
</code></pre>
<p>
 é€šè¿‡ mcp dev æ¥è¿è¡Œï¼š
</p>
<pre class="pre"><code class="language-shell code">mcp dev PYTHONFILE
</code></pre>
<p>
 æˆ‘ä»¬çš„è¿™ä¸ªä»£ç è¿è¡Œå‘½ä»¤ä¸ºï¼š
</p>
<pre class="pre"><code class="language-shell code">mcp dev web_search.py
</code></pre>
<p>
 å½“å‡ºçŽ°å¦‚ä¸‹æç¤ºåˆ™ä»£è¡¨è¿è¡ŒæˆåŠŸã€‚å¦‚æžœæç¤ºè¿žæŽ¥å‡ºé”™ï¼Œå¯èƒ½æ˜¯ç«¯å£è¢«å ç”¨ï¼Œå¯ä»¥çœ‹è¿™ä¸ª issue çš„è§£å†³æ–¹æ³•ï¼šhttps://github.com/liaokongVFX/MCP-Chinese-Getting-Started-Guide/issues/6
</p>
<p>
<img alt="image-20250223223638135" src=".assets/image-20250223223638135.png"/>
</p>
<p>
 ç„¶åŽï¼Œæˆ‘ä»¬æ‰“å¼€è¿™ä¸ªåœ°å€ï¼Œç‚¹å‡»å·¦ä¾§çš„
 <code class="code">
  Connect
 </code>
 æŒ‰é’®ï¼Œå³å¯è¿žæŽ¥æˆ‘ä»¬åˆšå†™çš„æœåŠ¡ã€‚ç„¶åŽæˆ‘ä»¬åˆ‡æ¢åˆ°
 <code class="code">
  Tools
 </code>
 æ ä¸­ï¼Œç‚¹å‡»
 <code class="code">
  List Tools
 </code>
 æŒ‰é’®å³å¯çœ‹åˆ°æˆ‘ä»¬åˆšå†™çš„å·¥å…·ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹è¿›è¡Œè°ƒè¯•å•¦ã€‚
</p>
<p>
<img alt="image-20250223224052795" src=".assets/image-20250223224052795.png"/>
</p>
<h2 class="heading">
 å¼€å‘ MCP å®¢æˆ·ç«¯
</h2>
<p>
 é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å¦‚ä½•åœ¨å®¢æˆ·ç«¯å¦‚ä½•è°ƒç”¨æˆ‘ä»¬åˆšæ‰å¼€å‘çš„ MCP æœåŠ¡å™¨ä¸­çš„å·¥å…·ã€‚
</p>
<pre class="pre"><code class="language-python code">import asyncio

from mcp.client.stdio import stdio_client
from mcp import ClientSession, StdioServerParameters

# ä¸º stdio è¿žæŽ¥åˆ›å»ºæœåŠ¡å™¨å‚æ•°
server_params = StdioServerParameters(
    # æœåŠ¡å™¨æ‰§è¡Œçš„å‘½ä»¤ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ uv æ¥è¿è¡Œ web_search.py
    command='uv',
    # è¿è¡Œçš„å‚æ•°
    args=['run', 'web_search.py'],
    # çŽ¯å¢ƒå˜é‡ï¼Œé»˜è®¤ä¸º Noneï¼Œè¡¨ç¤ºä½¿ç”¨å½“å‰çŽ¯å¢ƒå˜é‡
    # env=None
)


async def main():
    # åˆ›å»º stdio å®¢æˆ·ç«¯
    async with stdio_client(server_params) as (stdio, write):
        # åˆ›å»º ClientSession å¯¹è±¡
        async with ClientSession(stdio, write) as session:
            # åˆå§‹åŒ– ClientSession
            await session.initialize()

            # åˆ—å‡ºå¯ç”¨çš„å·¥å…·
            response = await session.list_tools()
            print(response)

            # è°ƒç”¨å·¥å…·
            response = await session.call_tool('web_search', {'query': 'ä»Šå¤©æ­å·žå¤©æ°”'})
            print(response)


if __name__ == '__main__':
    asyncio.run(main())

</code></pre>
<p>
 å› ä¸ºæˆ‘ä»¬çš„pythonè„šæœ¬éœ€è¦åœ¨è™šæ‹ŸçŽ¯å¢ƒä¸­æ‰èƒ½è¿è¡Œï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬é€šè¿‡
 <code class="code">
  uv
 </code>
 æ¥å¯åŠ¨æˆ‘ä»¬çš„è„šæœ¬ã€‚
</p>
<p>
 ä¸‹é¢æˆ‘ä»¬æ¥é€šè¿‡ä¸€ä¸ªå°ä¾‹å­æ¥çœ‹çœ‹å¦‚ä½•è®©
 <code class="code">
  DeepSeek
 </code>
 æ¥è°ƒç”¨æˆ‘ä»¬ MCP æœåŠ¡å™¨ä¸­çš„æ–¹æ³•ã€‚
</p>
<p>
 è¿™é‡Œæˆ‘ä»¬ä¼šç”¨
 <code class="code">
  dotenv
 </code>
 æ¥ç®¡ç†æˆ‘ä»¬ç›¸å…³çš„çŽ¯å¢ƒå˜é‡ã€‚.env æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š
</p>
<pre class="pre"><code class="language-shell code">OPENAI_API_KEY=sk-89baxxxxxxxxxxxxxxxxxx
OPENAI_BASE_URL=https://api.deepseek.com
OPENAI_MODEL=deepseek-chat
</code></pre>
<p>
 é¦–å…ˆæˆ‘ä»¬æ¥ç¼–å†™æˆ‘ä»¬çš„
 <code class="code">
  MCPClient
 </code>
 ç±»ã€‚
</p>
<pre class="pre"><code class="language-python code">import json
import asyncio
import os
from typing import Optional
from contextlib import AsyncExitStack

from openai import OpenAI
from dotenv import load_dotenv

from mcp import ClientSession, StdioServerParameters
from mcp.client.stdio import stdio_client


load_dotenv()


class MCPClient:
    def __init__(self):
        self.session: Optional[ClientSession] = None
        self.exit_stack = AsyncExitStack()
        self.client = OpenAI()
</code></pre>
<p>
 ç„¶åŽæˆ‘ä»¬æ·»åŠ 
 <code class="code">
  connect_to_server
 </code>
 æ–¹æ³•æ¥åˆå§‹åŒ–æˆ‘ä»¬çš„ MCP æœåŠ¡å™¨çš„ sessionã€‚
</p>
<pre class="pre"><code class="language-python code">    async def connect_to_server(self):
        server_params = StdioServerParameters(
            command='uv',
            args=['run', 'web_search.py'],
            env=None
        )

        stdio_transport = await self.exit_stack.enter_async_context(
            stdio_client(server_params))
        stdio, write = stdio_transport
        self.session = await self.exit_stack.enter_async_context(
            ClientSession(stdio, write))

        await self.session.initialize()
</code></pre>
<p>
 ç„¶åŽæˆ‘ä»¬å†å®žçŽ°ä¸€ä¸ªç”¨äºŽè°ƒç”¨ MCP æœåŠ¡å™¨çš„æ–¹æ³•æ¥å¤„ç†å’Œ DeepSeek ä¹‹é—´çš„äº¤äº’ã€‚
</p>
<pre class="pre"><code class="language-python code">    async def process_query(self, query: str) -&gt; str:
        # è¿™é‡Œéœ€è¦é€šè¿‡ system prompt æ¥çº¦æŸä¸€ä¸‹å¤§è¯­è¨€æ¨¡åž‹ï¼Œ
        # å¦åˆ™ä¼šå‡ºçŽ°ä¸è°ƒç”¨å·¥å…·ï¼Œè‡ªå·±ä¹±å›žç­”çš„æƒ…å†µ
        system_prompt = (
            "You are a helpful assistant."
            "You have the function of online search. "
            "Please MUST call web_search tool to search the Internet content before answering."
            "Please do not lose the user's question information when searching,"
            "and try to maintain the completeness of the question content as much as possible."
            "When there is a date related question in the user's question," 
            "please use the search function directly to search and PROHIBIT inserting specific time."
        )

        messages = [
            {"role": "system", "content": system_prompt},
            {"role": "user", "content": query}
        ]

        # èŽ·å–æ‰€æœ‰ mcp æœåŠ¡å™¨ å·¥å…·åˆ—è¡¨ä¿¡æ¯
        response = await self.session.list_tools()
        # ç”Ÿæˆ function call çš„æè¿°ä¿¡æ¯
        available_tools = [{
            "type": "function",
            "function": {
                "name": tool.name,
                "description": tool.description,
                "input_schema": tool.inputSchema
            }
        } for tool in response.tools]

        # è¯·æ±‚ deepseekï¼Œfunction call çš„æè¿°ä¿¡æ¯é€šè¿‡ tools å‚æ•°ä¼ å…¥
        response = self.client.chat.completions.create(
            model=os.getenv("OPENAI_MODEL"),
            messages=messages,
            tools=available_tools
        )

        # å¤„ç†è¿”å›žçš„å†…å®¹
        content = response.choices[0]
        if content.finish_reason == "tool_calls":
            # å¦‚ä½•æ˜¯éœ€è¦ä½¿ç”¨å·¥å…·ï¼Œå°±è§£æžå·¥å…·
            tool_call = content.message.tool_calls[0]
            tool_name = tool_call.function.name
            tool_args = json.loads(tool_call.function.arguments)

            # æ‰§è¡Œå·¥å…·
            result = await self.session.call_tool(tool_name, tool_args)
            print(f"\n\n[Calling tool {tool_name} with args {tool_args}]\n\n")

            # å°† deepseek è¿”å›žçš„è°ƒç”¨å“ªä¸ªå·¥å…·æ•°æ®å’Œå·¥å…·æ‰§è¡Œå®ŒæˆåŽçš„æ•°æ®éƒ½å­˜å…¥messagesä¸­
            messages.append(content.message.model_dump())
            messages.append({
                "role": "tool",
                "content": result.content[0].text,
                "tool_call_id": tool_call.id,
            })

            # å°†ä¸Šé¢çš„ç»“æžœå†è¿”å›žç»™ deepseek ç”¨äºŽç”Ÿäº§æœ€ç»ˆçš„ç»“æžœ
            response = self.client.chat.completions.create(
                model=os.getenv("OPENAI_MODEL"),
                messages=messages,
            )
            return response.choices[0].message.content

        return content.message.content
</code></pre>
<p>
 æŽ¥ç€ï¼Œæˆ‘ä»¬æ¥å®žçŽ°å¾ªçŽ¯æé—®å’Œæœ€åŽé€€å‡ºåŽå…³é—­sessionçš„æ“ä½œã€‚
</p>
<pre class="pre"><code class="language-python code">    async def chat_loop(self):
        while True:
            try:
                query = input("\nQuery: ").strip()

                if query.lower() == 'quit':
                    break

                response = await self.process_query(query)
                print("\n" + response)

            except Exception as e:
                import traceback
                traceback.print_exc()

    async def cleanup(self):
        """Clean up resources"""
        await self.exit_stack.aclose()
</code></pre>
<p>
 æœ€åŽï¼Œæˆ‘ä»¬æ¥å®Œæˆè¿è¡Œè¿™ä¸ªå®¢æˆ·ç«¯ç›¸å…³çš„ä»£ç 
</p>
<pre class="pre"><code class="language-python code">async def main():
    client = MCPClient()
    try:
        await client.connect_to_server()
        await client.chat_loop()
    finally:
        await client.cleanup()


if __name__ == "__main__":
    import sys

    asyncio.run(main())

</code></pre>
<p>
 è¿™æ˜¯ä¸€ä¸ªæœ€ç²¾ç®€çš„ä»£ç ï¼Œé‡Œé¢æ²¡æœ‰å®žçŽ°è®°å½•ä¸Šä¸‹æ–‡æ¶ˆæ¯ç­‰åŠŸèƒ½ï¼Œåªæ˜¯ä¸ºäº†ç”¨æœ€ç®€å•çš„ä»£ç æ¥äº†è§£å¦‚ä½•é€šè¿‡å¤§è¯­è¨€æ¨¡åž‹æ¥è°ƒåŠ¨ MCP æœåŠ¡å™¨ã€‚è¿™é‡Œåªæ¼”ç¤ºäº†å¦‚ä½•è¿žæŽ¥å•æœåŠ¡å™¨ï¼Œå¦‚æžœä½ æœŸæœ›è¿žæŽ¥å¤šä¸ª MCP æœåŠ¡å™¨ï¼Œæ— éžå°±æ˜¯å¾ªçŽ¯ä¸€ä¸‹
 <code class="code">
  connect_to_server
 </code>
 ä¸­çš„ä»£ç ï¼Œå¯ä»¥å°†ä»–ä»¬å°è£…æˆä¸€ä¸ªç±»ï¼Œç„¶åŽå°†æ‰€æœ‰çš„ MCP æœåŠ¡å™¨ä¸­çš„å·¥å…·å¾ªçŽ¯éåŽ†ç”Ÿæˆä¸€ä¸ªå¤§çš„
 <code class="code">
  available_tools
 </code>
 ï¼Œç„¶åŽåœ¨é€šè¿‡å¤§è¯­è¨€æ¨¡åž‹çš„è¿”å›žç»“æžœè¿›è¡Œè°ƒç”¨å³å¯ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°äº†ã€‚
</p>
<blockquote>
<p>
  å¯ä»¥å‚è€ƒå®˜æ–¹æ¡ˆä¾‹ï¼šhttps://github.com/modelcontextprotocol/python-sdk/blob/main/examples/clients/simple-chatbot/mcp_simple_chatbot/main.py
 </p>
</blockquote>
<h2 class="heading">
 Sampling è®²è§£
</h2>
<p>
 MCP è¿˜ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ª
 <code class="code">
  Sampling
 </code>
 çš„åŠŸèƒ½ï¼Œè¿™ä¸ªå¦‚æžœä»Žå­—é¢æ¥ç†è§£ä¼šè®©äººæ‘¸ä¸åˆ°å¤´è„‘ï¼Œä½†å®žé™…ä¸Šè¿™ä¸ªåŠŸèƒ½å°±ç»™äº†æˆ‘ä»¬ä¸€ä¸ªåœ¨æ‰§è¡Œå·¥å…·çš„å‰åŽçš„æŽ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å·¥å…·æ‰§è¡Œå‰åŽæ¥æ‰§è¡Œä¸€äº›æ“ä½œã€‚æ¯”å¦‚ï¼Œå½“è°ƒç”¨æœ¬åœ°æ–‡ä»¶çš„åˆ é™¤çš„å·¥å…·çš„æ—¶å€™ï¼Œè‚¯å®šæ˜¯æœŸæœ›æˆ‘ä»¬ç¡®è®¤åŽå†è¿›è¡Œåˆ é™¤ã€‚é‚£ä¹ˆï¼Œæ­¤æ—¶å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½ã€‚
</p>
<p>
 ä¸‹é¢æˆ‘ä»¬å°±æ¥å®žçŽ°è¿™ä¸ªäººå·¥ç›‘ç£çš„å°åŠŸèƒ½ã€‚
</p>
<p>
 é¦–å…ˆï¼Œæˆ‘ä»¬æ¥åˆ›å»ºä¸ªæ¨¡æ‹Ÿæ‹¥æœ‰åˆ é™¤æ–‡ä»¶çš„ MCP æœåŠ¡å™¨ï¼š
</p>
<pre class="pre"><code class="language-python code"># æœåŠ¡ç«¯
from mcp.server import FastMCP
from mcp.types import SamplingMessage, TextContent

app = FastMCP('file_server')


@app.tool()
async def delete_file(file_path: str):
    # åˆ›å»º SamplingMessage ç”¨äºŽè§¦å‘ sampling callback å‡½æ•°
    result = await app.get_context().session.create_message(
        messages=[
            SamplingMessage(
                role='user', content=TextContent(
                    type='text', text=f'æ˜¯å¦è¦åˆ é™¤æ–‡ä»¶: {file_path} (Y)')
            )
        ],
        max_tokens=100
    )

    # èŽ·å–åˆ° sampling callback å‡½æ•°çš„è¿”å›žå€¼ï¼Œå¹¶æ ¹æ®è¿”å›žå€¼è¿›è¡Œå¤„ç†
    if result.content.text == 'Y':
        return f'æ–‡ä»¶ {file_path} å·²è¢«åˆ é™¤ï¼ï¼'


if __name__ == '__main__':
    app.run(transport='stdio')

</code></pre>
<p>
 è¿™é‡Œæœ€é‡è¦çš„å°±æ˜¯éœ€è¦é€šè¿‡
 <code class="code">
  create_message
 </code>
 æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ª
 <code class="code">
  SamplingMessage
 </code>
 ç±»åž‹çš„ messageï¼Œä»–ä¼šå°†è¿™ä¸ª message å‘é€ç»™ sampling callback å¯¹åº”çš„å‡½æ•°ä¸­ã€‚
</p>
<p>
 æŽ¥ç€ï¼Œæˆ‘ä»¬æ¥åˆ›å»ºå®¢æˆ·ç«¯çš„ä»£ç ï¼š
</p>
<pre class="pre"><code class="language-python code"># å®¢æˆ·ç«¯
import asyncio

from mcp.client.stdio import stdio_client
from mcp import ClientSession, StdioServerParameters
from mcp.shared.context import RequestContext
from mcp.types import (
    TextContent,
    CreateMessageRequestParams,
    CreateMessageResult,
)

server_params = StdioServerParameters(
    command='uv',
    args=['run', 'file_server.py'],
)


async def sampling_callback(
        context: RequestContext[ClientSession, None],
        params: CreateMessageRequestParams,
):
    # èŽ·å–å·¥å…·å‘é€çš„æ¶ˆæ¯å¹¶æ˜¾ç¤ºç»™ç”¨æˆ·
    input_message = input(params.messages[0].content.text)
    # å°†ç”¨æˆ·è¾“å…¥å‘é€å›žå·¥å…·
    return CreateMessageResult(
        role='user',
        content=TextContent(
            type='text',
            text=input_message.strip().upper() or 'Y'
        ),
        model='user-input',
        stopReason='endTurn'
    )


async def main():
    async with stdio_client(server_params) as (stdio, write):
        async with ClientSession(
                stdio, write,
                # è®¾ç½® sampling_callback å¯¹åº”çš„æ–¹æ³•
                sampling_callback=sampling_callback
        ) as session:
            await session.initialize()
            res = await session.call_tool(
                'delete_file',
                {'file_path': 'C:/xxx.txt'}
            )
            # èŽ·å–å·¥å…·æœ€åŽæ‰§è¡Œå®Œçš„è¿”å›žç»“æžœ
            print(res)


if __name__ == '__main__':
    asyncio.run(main())

</code></pre>
<p>
 ç‰¹åˆ«è¦æ³¨æ„çš„æ˜¯ï¼Œç›®å‰åœ¨å·¥å…·é‡Œé¢æ‰“å°çš„å†…å®¹å®žé™…ä¸Šä½¿ç”¨
 <code class="code">
  stdio_client
 </code>
 æ˜¯æ— æ³•æ˜¾ç¤ºåˆ°å‘½ä»¤è¡Œçª—å£çš„ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è°ƒè¯•çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨
 <code class="code">
  mcp.shared.memory.create_connected_server_and_client_session
 </code>
 ã€‚
</p>
<p>
 å…·ä½“ä»£ç å¦‚ä¸‹ï¼š
</p>
<pre class="pre"><code class="language-python code"># å®¢æˆ·ç«¯
from mcp.shared.memory import (
    create_connected_server_and_client_session as create_session
)
# è¿™é‡Œéœ€è¦å¼•å…¥æœåŠ¡ç«¯çš„ app å¯¹è±¡
from file_server import app

async def sampling_callback(context, params):
    ...

async def main():
    async with create_session(
        app._mcp_server,
        sampling_callback=sampling_callback
    ) as client_session:
        await client_session.call_tool(
            'delete_file', 
            {'file_path': 'C:/xxx.txt'}
        )

if __name__ == '__main__':
    asyncio.run(main())
</code></pre>
<h2 class="heading">
 Claude Desktop åŠ è½½ MCP Server
</h2>
<p>
 å› ä¸ºåŽé¢çš„ä¸¤ä¸ªåŠŸèƒ½å®žé™…ä¸Šéƒ½æ˜¯ä¸ºäº†æä¾›ç»™ Claude æ¡Œé¢ç«¯ç”¨çš„ï¼Œæ‰€ä»¥è¿™é‡Œå…ˆè¯´ä¸‹å¦‚ä½•åŠ è½½æˆ‘ä»¬è‡ªå®šä¹‰çš„ MCP Server åˆ° Claude æ¡Œé¢ç«¯ã€‚
</p>
<p>
 é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆæ‰“å¼€é…ç½®ã€‚
</p>
<p>
<img alt="image-20250227221154638" src=".assets/image-20250227221154638.png"/>
</p>
<p>
 æˆ‘ä»¬ç‚¹å‡»
 <code class="code">
  Developer
 </code>
 èœå•ï¼Œç„¶åŽç‚¹å‡»
 <code class="code">
  Edit Config
 </code>
 æŒ‰é’®æ‰“å¼€ Claude æ¡Œé¢ç«¯çš„é…ç½®æ–‡ä»¶
 <code class="code">
  claude_desktop_config.json
 </code>
</p>
<p>
<img alt="image-20250227221302174" src=".assets/image-20250227221302174.png"/>
</p>
<p>
 ç„¶åŽå¼€å§‹æ·»åŠ æˆ‘ä»¬çš„æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨éœ€è¦åœ¨
 <code class="code">
  mcpServers
 </code>
 å±‚çº§ä¸‹ï¼Œå‚æ•°æœ‰
 <code class="code">
  command
 </code>
 ã€
 <code class="code">
  args
 </code>
 ã€
 <code class="code">
  env
 </code>
 ã€‚å®žé™…ä¸Šï¼Œå‚æ•°å’Œ
 <code class="code">
  StdioServerParameters
 </code>
 å¯¹è±¡åˆå§‹åŒ–æ—¶å€™çš„å‚æ•°æ˜¯ä¸€æ ·çš„ã€‚
</p>
<pre class="pre"><code class="language-json code">{
  "mcpServers": {
    "web-search-server": {
      "command": "uv",
      "args": [
        "--directory",
        "D:/projects/mcp_getting_started",
        "run",
        "web_search.py"
      ]
    }
  }
}
</code></pre>
<p>
 æœ€åŽï¼Œæˆ‘ä»¬ä¿å­˜æ–‡ä»¶åŽé‡å¯ Claude æ¡Œé¢ç«¯å°±å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°æˆ‘ä»¬çš„æ’ä»¶äº†ã€‚
</p>
<p>
<img alt="image-20250227221911231" src=".assets/image-20250227221911231.png"/>
</p>
<p>
<img alt="image-20250227221921036" src=".assets/image-20250227221921036.png"/>
</p>
<p>
 å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æŽ¥åœ¨æˆ‘ä»¬æ’ä»¶çš„ç›®å½•ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥ç›´æŽ¥å®‰è£…ï¼š
</p>
<pre class="pre"><code class="language-shell code">mcp install web_search.py
</code></pre>
<h2 class="heading">
 å…¶ä»–åŠŸèƒ½
</h2>
<h3 class="heading">
 Prompt
</h3>
<p>
 MCP è¿˜ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªç”Ÿæˆ Prompt æ¨¡æ¿çš„åŠŸèƒ½ã€‚ä»–ä½¿ç”¨èµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦ä½¿ç”¨
 <code class="code">
  prompt
 </code>
 è£…é¥°å™¨è£…é¥°ä¸€ä¸‹å³å¯ï¼Œä»£ç å¦‚ä¸‹ï¼š
</p>
<pre class="pre"><code class="language-python code">from mcp.server import FastMCP

app = FastMCP('prompt_and_resources')

@app.prompt('ç¿»è¯‘ä¸“å®¶')
async def translate_expert(
        target_language: str = 'Chinese',
) -&gt; str:
    return f'ä½ æ˜¯ä¸€ä¸ªç¿»è¯‘ä¸“å®¶ï¼Œæ“…é•¿å°†ä»»ä½•è¯­è¨€ç¿»è¯‘æˆ{target_language}ã€‚è¯·ç¿»è¯‘ä»¥ä¸‹å†…å®¹ï¼š'


if __name__ == '__main__':
    app.run(transport='stdio')

</code></pre>
<p>
 ç„¶åŽæˆ‘ä»¬ç”¨ä¸Šä¸€èŠ‚è®²åˆ°çš„é…ç½® Claude æ¡Œé¢ç«¯ MCP æœåŠ¡å™¨çš„æ–¹æ³•æ·»åŠ ä¸‹æˆ‘ä»¬çš„æ–° MCP æœåŠ¡å™¨ã€‚ç„¶åŽæˆ‘ä»¬å°±å¯ä»¥ç‚¹å‡»å³ä¸‹è§’çš„å›¾æ ‡å¼€å§‹ä½¿ç”¨å•¦ã€‚
</p>
<p>
 ä»–ä¼šè®©æˆ‘ä»¬è®¾ç½®ä¸€ä¸‹æˆ‘ä»¬ä¼ å…¥çš„å‚æ•°ï¼Œç„¶åŽä»–ä¼šåœ¨æˆ‘ä»¬çš„èŠå¤©çª—å£ä¸Šç”Ÿæˆä¸€ä¸ªé™„ä»¶ã€‚
</p>
<p>
<img alt="mcp001" src=".assets/mcp001-1740666812436-2.gif"/>
</p>
<h3 class="heading">
 Resource
</h3>
<p>
 æˆ‘ä»¬è¿˜å¯ä»¥åœ¨ Claude å®¢æˆ·ç«¯ä¸Šé€‰æ‹©æˆ‘ä»¬ä¸ºç”¨æˆ·æä¾›çš„é¢„è®¾èµ„æºï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒè‡ªå®šä¹‰çš„åè®®ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š
</p>
<pre class="pre"><code class="language-python code">from mcp.server import FastMCP

app = FastMCP('prompt_and_resources')

@app.resource('echo://static')
async def echo_resource():
    # è¿”å›žçš„æ˜¯ï¼Œå½“ç”¨æˆ·ä½¿ç”¨è¿™ä¸ªèµ„æºæ—¶ï¼Œèµ„æºçš„å†…å®¹
    return 'Echo!'

@app.resource('greeting://{name}')
async def get_greeting(name):
    return f'Hello, {name}!'


if __name__ == '__main__':
    app.run(transport='stdio')

</code></pre>
<p>
 ç„¶åŽï¼Œæˆ‘ä»¬åˆ° Claude æ¡Œé¢ç«¯ä¸Šçœ‹çœ‹ã€‚
</p>
<p>
<img alt="mcp002" src=".assets/mcp002.gif"/>
</p>
<p>
 è¿™é‡Œè¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œç›®å‰ Claude æ¡Œé¢ç«¯æ˜¯æ²¡æ³•è¯»åˆ°èµ„æºè£…é¥°å™¨è®¾ç½®
 <code class="code">
  greeting://{name}
 </code>
 è¿™ç§é€šé…ç¬¦çš„è·¯å¾„ï¼Œæœªæ¥å°†ä¼šè¢«æ”¯æŒã€‚ä½†æ˜¯ï¼Œåœ¨æˆ‘ä»¬çš„å®¢æˆ·ç«¯ä»£ç ä¸­æ˜¯å¯ä»¥å½“åšèµ„æºæ¨¡æ¿æ¥ä½¿ç”¨çš„ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š
</p>
<pre class="pre"><code class="language-python code">import asyncio
from pydantic import AnyUrl

from mcp.client.stdio import stdio_client
from mcp import ClientSession, StdioServerParameters

server_params = StdioServerParameters(
    command='uv',
    args=['run', 'prompt_and_resources.py'],
)


async def main():
    async with stdio_client(server_params) as (stdio, write):
        async with ClientSession(stdio, write) as session:
            await session.initialize()

            # èŽ·å–æ— é€šé…ç¬¦çš„èµ„æºåˆ—è¡¨
            res = await session.list_resources()
            print(res)

            # èŽ·å–æœ‰é€šé…ç¬¦çš„èµ„æºåˆ—è¡¨(èµ„æºæ¨¡æ¿)
            res = await session.list_resource_templates()
            print(res)

            # è¯»å–èµ„æºï¼Œä¼šåŒ¹é…é€šé…ç¬¦
            res = await session.read_resource(AnyUrl('greeting://liming'))
            print(res)

            # èŽ·å– Prompt æ¨¡æ¿åˆ—è¡¨
            res = await session.list_prompts()
            print(res)

            # ä½¿ç”¨ Prompt æ¨¡æ¿
            res = await session.get_prompt(
                'ç¿»è¯‘ä¸“å®¶', arguments={'target_language': 'è‹±è¯­'})
            print(res)


if __name__ == '__main__':
    asyncio.run(main())

</code></pre>
<h3 class="heading">
 ç”Ÿå‘½å‘¨æœŸ
</h3>
<p>
 MCP ç”Ÿå‘½å‘¨æœŸåˆ†ä¸º3ä¸ªé˜¶æ®µï¼š
</p>
<ul>
<li>
  åˆå§‹åŒ–
 </li>
<li>
  äº¤äº’é€šä¿¡ä¸­
 </li>
<li>
  æœåŠ¡è¢«å…³é—­
 </li>
</ul>
<p>
 å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªä¸‰ä¸ªé˜¶æ®µçš„å¼€å§‹å’Œç»“æŸæ¥åšä¸€äº›äº‹æƒ…ï¼Œæ¯”å¦‚åˆ›å»ºæ•°æ®åº“è¿žæŽ¥å’Œå…³é—­æ•°æ®åº“è¿žæŽ¥ã€è®°å½•æ—¥å¿—ã€è®°å½•å·¥å…·ä½¿ç”¨ä¿¡æ¯ç­‰ã€‚
</p>
<p>
 ä¸‹é¢æˆ‘ä»¬å°†ä»¥ç½‘é¡µæœç´¢å·¥å…·ï¼ŒæŠŠå·¥å…·è°ƒç”¨æ—¶çš„æŸ¥è¯¢å’ŒæŸ¥è¯¢åˆ°çš„ç»“æžœå­˜å‚¨åˆ°ä¸€ä¸ªå…¨å±€ä¸Šä¸‹æ–‡ä¸­ä½œä¸ºç¼“å­˜ä¸ºä¾‹ï¼Œæ¥çœ‹çœ‹ç”Ÿå‘½å‘¨æœŸå¦‚ä½•ä½¿ç”¨ã€‚å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š
</p>
<pre class="pre"><code class="language-python code">import httpx
from dataclasses import dataclass
from contextlib import asynccontextmanager

from mcp.server import FastMCP
from mcp.server.fastmcp import Context


@dataclass
# åˆå§‹åŒ–ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸä¸Šä¸‹æ–‡å¯¹è±¡
class AppContext:
    # é‡Œé¢æœ‰ä¸€ä¸ªå­—æ®µç”¨äºŽå­˜å‚¨è¯·æ±‚åŽ†å²
    histories: dict


@asynccontextmanager
async def app_lifespan(server):
    # åœ¨ MCP åˆå§‹åŒ–æ—¶æ‰§è¡Œ
    histories = {}
    try:
        # æ¯æ¬¡é€šä¿¡ä¼šæŠŠè¿™ä¸ªä¸Šä¸‹æ–‡é€šè¿‡å‚æ•°ä¼ å…¥å·¥å…·
        yield AppContext(histories=histories)
    finally:
        # å½“ MCP æœåŠ¡å…³é—­æ—¶æ‰§è¡Œ
        print(histories)


app = FastMCP(
    'web-search', 
    # è®¾ç½®ç”Ÿå‘½å‘¨æœŸç›‘å¬å‡½æ•°
    lifespan=app_lifespan
)


@app.tool()
# ç¬¬ä¸€ä¸ªå‚æ•°ä¼šè¢«ä¼ å…¥ä¸Šä¸‹æ–‡å¯¹è±¡
async def web_search(ctx: Context, query: str) -&gt; str:
    """
    æœç´¢äº’è”ç½‘å†…å®¹

    Args:
        query: è¦æœç´¢å†…å®¹

    Returns:
        æœç´¢ç»“æžœçš„æ€»ç»“
    """
    # å¦‚æžœä¹‹å‰é—®è¿‡åŒæ ·çš„é—®é¢˜ï¼Œå°±ç›´æŽ¥è¿”å›žç¼“å­˜
    histories = ctx.request_context.lifespan_context.histories
    if query in historiesï¼š
        return histories[query]

    async with httpx.AsyncClient() as client:
        response = await client.post(
            'https://open.bigmodel.cn/api/paas/v4/tools',
            headers={'Authorization': 'YOUR API KEY'},
            json={
                'tool': 'web-search-pro',
                'messages': [
                    {'role': 'user', 'content': query}
                ],
                'stream': False
            }
        )

        res_data = []
        for choice in response.json()['choices']:
            for message in choice['message']['tool_calls']:
                search_results = message.get('search_result')
                if not search_results:
                    continue
                for result in search_results:
                    res_data.append(result['content'])

        return_data = '\n\n\n'.join(res_data)

        # å°†æŸ¥è¯¢å€¼å’Œè¿”å›žå€¼å­˜å…¥åˆ° histories ä¸­
        ctx.request_context.lifespan_context.histories[query] = return_data
        return return_data


if __name__ == "__main__":
    app.run()

</code></pre>
<h2 class="heading">
 åœ¨ LangChain ä¸­ä½¿ç”¨ MCP æœåŠ¡å™¨
</h2>
<p>
 æœ€è¿‘ LangChain å‘å¸ƒäº†ä¸€ä¸ªæ–°çš„å¼€æºé¡¹ç›®
 <code class="code">
  langchain-mcp-adapters
 </code>
 ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„å°† MCP æœåŠ¡å™¨é›†æˆåˆ° LangChain ä¸­ã€‚ä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨å®ƒ:
</p>
<pre class="pre"><code class="language-python code">from mcp import ClientSession, StdioServerParameters
from mcp.client.stdio import stdio_client

from langchain_mcp_adapters.tools import load_mcp_tools
from langgraph.prebuilt import create_react_agent

from langchain_openai import ChatOpenAI
model = ChatOpenAI(model="gpt-4o")

server_params = StdioServerParameters(
    command='uv',
    args=['run', 'web_search.py'],
)

async with stdio_client(server_params) as (read, write):
    async with ClientSession(read, write) as session:
        await session.initialize()

        # èŽ·å–å·¥å…·åˆ—è¡¨
        tools = await load_mcp_tools(session)

        # åˆ›å»ºå¹¶ä½¿ç”¨ ReAct agent
        agent = create_react_agent(model, tools)
        agent_response = await agent.ainvoke({'messages': 'æ­å·žä»Šå¤©å¤©æ°”æ€Žä¹ˆæ ·ï¼Ÿ'})
</code></pre>
<p>
 æ›´è¯¦ç»†çš„ä½¿ç”¨æ–¹æ³•è¯·å‚è€ƒï¼šhttps://github.com/langchain-ai/langchain-mcp-adapters
</p>
<h2 class="heading">
 DeepSeek + cline + è‡ªå®šä¹‰MCP = å›¾æ–‡å¤§å¸ˆ
</h2>
<p>
 æœ€åŽï¼Œæˆ‘ä»¬æ¥ä½¿ç”¨ VsCode çš„ cline æ’ä»¶ï¼Œæ¥é€šè¿‡ DeepSeek å’Œæˆ‘ä»¬è‡ªå®šä¹‰çš„ä¸€ä¸ªå›¾ç‰‡ç”Ÿæˆçš„ mcp æœåŠ¡å™¨æ¥æž„å»ºä¸€ä¸ªå›¾æ–‡å¤§å¸ˆçš„åº”ç”¨ã€‚åºŸè¯ä¸å¤šè¯´ï¼Œæˆ‘ä»¬ç›´æŽ¥å¼€å§‹ã€‚
</p>
<p>
 é¦–å…ˆå…ˆæ¥æž„å»ºæˆ‘ä»¬çš„å›¾ç‰‡ç”Ÿæˆçš„ mcp serverï¼Œè¿™é‡Œæˆ‘ä»¬ç›´æŽ¥ç”¨ huggingface ä¸Šçš„
 <code class="code">
  FLUX.1-schnell
 </code>
 æ¨¡åž‹ï¼Œåœ°å€æ˜¯ï¼šhttps://huggingface.co/spaces/black-forest-labs/FLUX.1-schnell ã€‚è¿™é‡Œæˆ‘ä»¬ä¸ä½¿ç”¨
 <code class="code">
  gradio_client
 </code>
 åº“ï¼Œè€Œæ˜¯ä¼šä½¿ç”¨
 <code class="code">
  httpx
 </code>
 æ‰‹æ“ä¸€ä¸ªï¼Œå› ä¸ºä½¿ç”¨
 <code class="code">
  gradio_client
 </code>
 åº“å¯èƒ½ä¼šå‡ºçŽ°ç¼–ç é”™è¯¯çš„bugã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š
</p>
<pre class="pre"><code class="language-python code"># image_server.py

import json
import httpx
from mcp.server import FastMCP


app = FastMCP('image_server')


@app.tool()
async def image_generation(image_prompt: str):
    """
    ç”Ÿæˆå›¾ç‰‡
    :param image_prompt: å›¾ç‰‡æè¿°ï¼Œéœ€è¦æ˜¯è‹±æ–‡
    :return: å›¾ç‰‡ä¿å­˜åˆ°çš„æœ¬åœ°è·¯å¾„
    """
    async with httpx.AsyncClient() as client:
        data = {'data': [image_prompt, 0, True, 512, 512, 3]}

        # åˆ›å»ºç”Ÿæˆå›¾ç‰‡ä»»åŠ¡
        response1 = await client.post(
            'https://black-forest-labs-flux-1-schnell.hf.space/call/infer',
            json=data,
            headers={"Content-Type": "application/json"}
        )

        # è§£æžå“åº”èŽ·å–äº‹ä»¶ ID
        response_data = response1.json()
        event_id = response_data.get('event_id')

        if not event_id:
            return 'æ— æ³•èŽ·å–äº‹ä»¶ ID'

        # é€šè¿‡æµå¼çš„æ–¹å¼æ‹¿åˆ°è¿”å›žæ•°æ®
        url = f'https://black-forest-labs-flux-1-schnell.hf.space/call/infer/{event_id}'
        full_response = ''
        async with client.stream('GET', url) as response2:
            async for chunk in response2.aiter_text():
                full_response += chunk

        return json.loads(full_response.split('data: ')[-1])[0]['url']

if __name__ == '__main__':
    app.run(transport='stdio')

</code></pre>
<p>
 ç„¶åŽæˆ‘ä»¬å¯ä»¥åœ¨è™šæ‹ŸçŽ¯å¢ƒä¸‹ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ‰“å¼€ MCP Inspector è¿›è¡Œè°ƒè¯•ä¸‹æˆ‘ä»¬çš„å·¥å…·ã€‚
</p>
<pre class="pre"><code class="language-shell code">mcp dev image_server.py
</code></pre>
<p>
<img alt="image-20250301231332749" src=".assets/image-20250301231332749.png"/>
</p>
<p>
 æŽ¥ç€æˆ‘ä»¬åœ¨ VsCode ä¸­å®‰è£… cline æ’ä»¶ï¼Œå½“å®‰è£…å®Œæ’ä»¶åŽï¼Œæˆ‘ä»¬é…ç½®ä¸€ä¸‹æˆ‘ä»¬çš„ deepseek çš„ api keyã€‚æŽ¥ç€ï¼Œæˆ‘ä»¬ç‚¹å‡»å³ä¸Šè§’çš„
 <code class="code">
  MCP Server
 </code>
 æŒ‰é’®æ‰“å¼€ mcp server åˆ—è¡¨ã€‚
</p>
<p>
<img alt="image-20250301232248034" src=".assets/image-20250301232248034.png"/>
</p>
<p>
 ç„¶åŽåˆ‡æ¢åˆ°
 <code class="code">
  Installed
 </code>
 Tab ç‚¹å‡»
 <code class="code">
  Configure MCP Servers
 </code>
 æŒ‰é’®æ¥ç¼–è¾‘è‡ªå®šä¹‰çš„ mcp æœåŠ¡å™¨ã€‚
</p>
<p>
<img alt="image-20250301232417966" src=".assets/image-20250301232417966.png"/>
</p>
<p>
 é…ç½®å¦‚ä¸‹ï¼š
</p>
<pre class="pre"><code class="language-json code">{
  "mcpServers": {
    "image_server": {
      "command": "uv",
      "args": [
        "--directory",
        "D:/projects/mcp_getting_started",
        "run",
        "image_server.py"
      ],
      "env": {},
      "disabled": false,
      "autoApprove": []
    }
  }
}
</code></pre>
<p>
 æˆ‘ä»¬ä¿å­˜åŽï¼Œè¿™é‡Œçš„è¿™ä¸ªå°ç‚¹æ˜¯ç»¿è‰²çš„å°±è¡¨ç¤ºæˆ‘ä»¬çš„æœåŠ¡å™¨å·²è¿žæŽ¥ï¼Œç„¶åŽæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹ä½¿ç”¨å•¦ã€‚
</p>
<p>
<img alt="image-20250301232809433" src=".assets/image-20250301232809433.png"/>
</p>
<p>
 ç„¶åŽï¼Œæˆ‘ä»¬å°±æ‰“å¼€è¾“å…¥æ¡†ï¼Œæ¥è¾“å…¥æˆ‘ä»¬çš„è¦å†™çš„æ–‡ç« çš„å†…å®¹ï¼š
</p>
<p>
<img alt="image-20250301233421292" src=".assets/image-20250301233421292.png"/>
</p>
<p>
 æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä»–æ­£ç¡®çš„è°ƒç”¨äº†æˆ‘ä»¬çš„å·¥å…·
</p>
<p>
<img alt="image-20250301233726301" src=".assets/image-20250301233726301.png"/>
</p>
<p>
 æœ€åŽï¼Œå°±æ˜¯å¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„æ–‡ç« å•¦ã€‚
</p>
<p>
<img alt="image-20250301234532249" src=".assets/image-20250301234532249.png"/>
</p>
<h2 class="heading">
 å€ŸåŠ© serverless å°† MCP æœåŠ¡éƒ¨ç½²åˆ°äº‘ç«¯
</h2>
<p>
 ä¸Šé¢æˆ‘ä»¬è®²çš„éƒ½æ˜¯å¦‚ä½•ä½¿ç”¨æœ¬åœ°çš„ MCP æœåŠ¡ï¼Œä½†æ˜¯æœ‰æ—¶æˆ‘ä»¬å¸Œæœ›ç›´æŽ¥æŠŠ MCP æœåŠ¡éƒ¨ç½²åˆ°äº‘ç«¯æ¥ç›´æŽ¥è°ƒç”¨ï¼Œå°±çœåŽ»äº†æœ¬åœ°ä¸‹è½½å¯åŠ¨çš„çƒ¦æ¼äº†ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦æ¥ä½¿ç”¨ MCP çš„ SSE çš„åè®®æ¥å®žçŽ°äº†ã€‚
</p>
<p>
 æ­¤æ—¶ï¼Œæˆ‘ä»¬å…ˆæ¥å†™ SSE åè®®çš„ MCP æœåŠ¡ã€‚å®žçŽ°èµ·æ¥å¾ˆç®€å•ï¼Œåªéœ€è¦å°†æˆ‘ä»¬æœ€åŽçš„
 <code class="code">
  run
 </code>
 å‘½ä»¤ä¸­çš„
 <code class="code">
  transport
 </code>
 å‚æ•°è®¾ç½®ä¸º
 <code class="code">
  sse
 </code>
 å³å¯ã€‚ä¸‹é¢è¿˜æ˜¯ä»¥ä¸Šé¢çš„ç½‘ç»œæœç´¢ä¸ºä¾‹å­ï¼Œæ¥å®žçŽ°ä¸€ä¸‹ ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š
</p>
<pre class="pre"><code class="language-python code"># sse_web_search.py
import httpx

from mcp.server import FastMCP


app = FastMCP('web-search', port=9000)


@app.tool()
async def web_search(query: str) -&gt; str:
    """
    æœç´¢äº’è”ç½‘å†…å®¹

    Args:
        query: è¦æœç´¢å†…å®¹

    Returns:
        æœç´¢ç»“æžœçš„æ€»ç»“
    """
    async with httpx.AsyncClient() as client:
        response = await client.post(
            'https://open.bigmodel.cn/api/paas/v4/tools',
            headers={'Authorization': 'YOUR API KEY'},
            json={
                'tool': 'web-search-pro',
                'messages': [
                    {'role': 'user', 'content': query}
                ],
                'stream': False
            }
        )

        res_data = []
        for choice in response.json()['choices']:
            for message in choice['message']['tool_calls']:
                search_results = message.get('search_result')
                if not search_results:
                    continue
                for result in search_results:
                    res_data.append(result['content'])

        return '\n\n\n'.join(res_data)


if __name__ == "__main__":
    app.run(transport='sse')

</code></pre>
<p>
 åœ¨
 <code class="code">
  FastMCP
 </code>
 ä¸­ï¼Œæœ‰å‡ ä¸ªå¯ä»¥è®¾ç½® SSE åè®®ç›¸å…³çš„å‚æ•°ï¼š
</p>
<ul>
<li>
  host: æœåŠ¡åœ°å€ï¼Œé»˜è®¤ä¸º
  <code class="code">
   0.0.0.0
  </code>
</li>
<li>
  port: æœåŠ¡ç«¯å£ï¼Œé»˜è®¤ä¸º 8000ã€‚ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘è®¾ç½®ä¸º
  <code class="code">
   9000
  </code>
</li>
<li>
  sse_pathï¼šsse çš„è·¯ç”±ï¼Œé»˜è®¤ä¸º
  <code class="code">
   /sse
  </code>
</li>
</ul>
<p>
 æ­¤æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æŽ¥å†™ä¸€ä¸ªå®¢æˆ·ç«¯çš„ä»£ç æ¥è¿›è¡Œæµ‹è¯•äº†ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š
</p>
<pre class="pre"><code class="language-python code">import asyncio
from mcp.client.sse import sse_client
from mcp import ClientSession


async def main():
    async with sse_client('http://localhost:9000/sse') as streams:
        async with ClientSession(*streams) as session:
            await session.initialize()

            res = await session.call_tool('web_search', {'query': 'æ­å·žä»Šå¤©å¤©æ°”'})
            print(res)


if __name__ == '__main__':
    asyncio.run(main())

</code></pre>
<p>
 æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä»–æ­£å¸¸å·¥ä½œäº†ï¼Œå¹¶æœç´¢åˆ°äº†å†…å®¹ï¼š
</p>
<p>
<img alt="image-20250406152518223" src=".assets/image-20250406152518223.png"/>
</p>
<p>
 å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨
 <code class="code">
  mcp dev sse_web_search.py
 </code>
 çš„æ–¹å¼æ¥æµ‹è¯•ã€‚è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œ
 <code class="code">
  Transport Type
 </code>
 éœ€è¦æ”¹æˆ
 <code class="code">
  SSE
 </code>
 ï¼Œç„¶åŽä¸‹é¢å¡«å†™æˆ‘ä»¬çš„æœ¬åœ°æœåŠ¡åœ°å€ã€‚
</p>
<p>
<img alt="image-20250406153106098" src=".assets/image-20250406153106098.png"/>
</p>
<p>
 å½“ä¸€åˆ‡éƒ½æµ‹è¯•æ²¡æœ‰é—®é¢˜åŽï¼Œæˆ‘ä»¬å°±æ¥å°†ä»–é€šè¿‡ severless çš„æ–¹å¼æ¥éƒ¨ç½²åˆ°äº‘ç«¯ã€‚è¿™é‡Œæˆ‘ä»¬é€‰æ‹©çš„æ˜¯é˜¿é‡Œäº‘çš„å‡½æ•°è®¡ç®—æœåŠ¡ã€‚é¦–å…ˆæˆ‘ä»¬å…ˆè¿›å…¥åˆ°é˜¿é‡Œäº‘çš„
 <code class="code">
  å‡½æ•°è®¡ç®— FC 3.0
 </code>
 çš„
 <code class="code">
  å‡½æ•°
 </code>
 èœå•ï¼Œå¹¶ç‚¹å‡»
 <code class="code">
  åˆ›å»ºå‡½æ•°
 </code>
 æ¥åˆ›å»ºæˆ‘ä»¬çš„æœåŠ¡ã€‚åœ°å€æ˜¯ï¼šhttps://fcnext.console.aliyun.com/cn-hangzhou/functions
</p>
<p>
<img alt="image-20250406153655185" src=".assets/image-20250406153655185.png"/>
</p>
<p>
 æˆ‘ä»¬è¿™é‡Œé€‰æ‹©
 <code class="code">
  Webå‡½æ•°
 </code>
 ï¼Œè¿è¡ŒçŽ¯å¢ƒæˆ‘ä»¬é€‰æ‹©
 <code class="code">
  Python 10
 </code>
 ã€‚ä»£ç ä¸Šä¼ æ–¹å¼è¿™é‡Œå¯ä»¥æ ¹æ®å¤§å®¶éœ€æ±‚æ¥ï¼Œå› ä¸ºæˆ‘è¿™é‡Œå°±ä¸€ä¸ª python æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œå°±ç›´æŽ¥é€‰æ‹©
 <code class="code">
  ä½¿ç”¨ç¤ºä¾‹ä»£ç 
 </code>
 äº†ï¼Œè¿™æ ·æˆ‘åŽé¢ç›´æŽ¥æŠŠæˆ‘çš„ä»£ç è¦†ç›–è¿›åŽ»äº†å°±è¡Œäº†ã€‚å¯åŠ¨å‘½ä»¤å’Œç›‘å¬ç«¯å£æˆ‘è¿™é‡Œéƒ½ä¿ç•™ä¸ºé»˜è®¤(
 <strong>
  ç«¯å£éœ€è¦å’Œä»£ç ä¸­ä¸€è‡´
 </strong>
 )ã€‚
</p>
<p>
 çŽ¯å¢ƒå˜é‡å¤§å®¶å¯ä»¥å°†ä»£ç ä¸­ç”¨åˆ°çš„ apikey å¯ä»¥è®¾ç½®ä¸ºä¸€ä¸ªçŽ¯å¢ƒå˜é‡ï¼Œè¿™é‡Œæˆ‘å°±ä¸è®¾ç½®äº†ã€‚æœ€åŽè®¾ç½®å®Œæˆæˆªå›¾å¦‚ä¸‹ï¼š
</p>
<p>
<img alt="image-20250406154115438" src=".assets/image-20250406154115438.png"/>
</p>
<p>
 åœ¨é«˜çº§è®¾ç½®ä¸­ï¼Œä¸ºäº†æ–¹ä¾¿è°ƒè¯•ï¼Œæˆ‘å¯åŠ¨äº†æ—¥å¿—åŠŸèƒ½ã€‚
</p>
<p>
<img alt="image-20250406154228341" src=".assets/image-20250406154228341.png"/>
</p>
<p>
 è®¾ç½®å®ŒæˆåŽï¼Œç‚¹åˆ›å»ºå³å¯ã€‚ä»–å°±è·³è½¬åˆ°ä»£ç ç¼–è¾‘éƒ¨åˆ†ï¼Œç„¶åŽæˆ‘ä»¬æŠŠä¹‹å‰çš„ä»£ç å¤åˆ¶è¿›åŽ»å³å¯ã€‚
</p>
<p>
<img alt="image-20250406154441634" src=".assets/image-20250406154441634.png"/>
</p>
<p>
 å®ŒæˆåŽï¼Œæˆ‘ä»¬æ¥å®‰è£…ä¸‹ä¾èµ–ã€‚æˆ‘ä»¬ç‚¹å‡»å³ä¸Šè§’çš„
 <code class="code">
  ç¼–è¾‘å±‚
 </code>
 ã€‚è¿™é‡Œé»˜è®¤ä¼šæœ‰ä¸ªé»˜è®¤çš„ flask çš„å±‚ï¼Œå› ä¸ºå¼€å§‹çš„æ¨¡æ¿ç”¨çš„æ˜¯ flaskï¼Œè¿™é‡Œæˆ‘ä»¬å°±ä¸éœ€è¦äº†ã€‚æˆ‘ä»¬åˆ é™¤ä»–ï¼Œå†æ·»åŠ ä¸€ä¸ª mcp çš„å±‚ã€‚é€‰æ‹©
 <code class="code">
  æ·»åŠ å®˜æ–¹å…¬å…±å±‚
 </code>
 ï¼Œç„¶åŽæœç´¢
 <code class="code">
  mcp
 </code>
 å°±èƒ½çœ‹åˆ°äº†ä¸€ä¸ª python ç‰ˆçš„ MCP å±‚ï¼Œé‡Œé¢åŒ…å«äº† MCP æ‰€æœ‰ç”¨åˆ°çš„ä¾èµ–ã€‚
</p>
<p>
<img alt="image-20250406154753623" src=".assets/image-20250406154753623.png"/>
</p>
<p>
 å¦‚æžœä½ è¿˜æœ‰å…¶ä»–ç¬¬ä¸‰æ–¹çš„ï¼Œå¯ä»¥å…ˆæœç´¢ä¸‹çœ‹çœ‹å…¬å…±å±‚ä¸­æ˜¯å¦æœ‰ï¼Œæ²¡æœ‰å°±å¯ä»¥è‡ªè¡Œæž„å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„å±‚ã€‚ç‚¹å‡»è¿™é‡Œå°±å¯ä»¥ï¼Œåªéœ€è¦æä¾›ä¸€ä¸ª
 <code class="code">
  requirements
 </code>
 åˆ—è¡¨å°±å¯ä»¥äº†ï¼Œè¿™é‡Œå°±ä¸èµ˜è¿°äº†ã€‚
</p>
<p>
<img alt="image-20250406154935751" src=".assets/image-20250406154935751.png"/>
</p>
<p>
 å½“æˆ‘ä»¬éƒ½è®¾ç½®å®ŒæˆåŽï¼Œç‚¹å‡»å³ä¸‹è§’çš„éƒ¨ç½²å³å¯ã€‚
</p>
<p>
 ç„¶åŽæˆ‘ä»¬åˆå›žåˆ°äº†æˆ‘ä»¬ä»£ç ç¼–è¾‘çš„é¡µé¢ï¼Œæ­¤æ—¶ï¼Œæˆ‘ä»¬å†ç‚¹å‡»å·¦ä¸Šè§’çš„éƒ¨ç½²ä»£ç ã€‚ç¨ç­‰ä¸€ä¸¤ç§’å°±ä¼šæç¤ºä»£ç éƒ¨ç½²æˆåŠŸã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬çš„ MCP æœåŠ¡å°±è¢«éƒ¨ç½²åˆ°äº†äº‘ç«¯ã€‚
</p>
<p>
<img alt="image-20250406155135563" src=".assets/image-20250406155135563.png"/>
</p>
<blockquote>
<p>
  20250409 æ›´æ–°ï¼šä¸çŸ¥é“æ˜¯ä¸æ˜¯å®˜æ–¹çœ‹åˆ°äº†è¿™ç¯‡æ–‡ç« ï¼ŒçŽ°åœ¨è¿è¡Œæ—¶å¯ä»¥ç›´æŽ¥é€‰æ‹©
  <code class="code">
   MCP è¿è¡Œæ—¶
  </code>
  äº†ï¼Œå°±ä¸ç”¨å†åœ¨å±‚é‚£é‡Œæ‰‹åŠ¨æ·»åŠ 
  <code class="code">
   MCP å±‚
  </code>
  äº†ã€‚
 </p>
<p>
<img alt="image-20250409213302652" src=".assets/image-20250409213302652.png"/>
</p>
</blockquote>
<p>
 ç„¶åŽï¼Œæˆ‘ä»¬åˆ‡æ¢åˆ°
 <code class="code">
  é…ç½®
 </code>
 çš„
 <code class="code">
  è§¦å‘å™¨
 </code>
 ä¸­ï¼Œå°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ç”¨æ¥è®¿é—®çš„ URL åœ°å€äº†ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ç»‘å®šè‡ªå·±çš„åŸŸåã€‚
</p>
<p>
<img alt="image-20250406155353662" src=".assets/image-20250406155353662.png"/>
</p>
<p>
 ç„¶åŽï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨æˆ‘ä»¬ä¸Šé¢çš„å®¢æˆ·ç«¯ä»£ç è¿›è¡Œæµ‹è¯•äº†ã€‚
</p>
<pre class="pre"><code class="language-python code">import asyncio
from mcp.client.sse import sse_client
from mcp import ClientSession


async def main():
    async with sse_client('https://mcp-test-whhergsbso.cn-hangzhou.fcapp.run/sse') as streams:
        async with ClientSession(*streams) as session:
            await session.initialize()

            res = await session.call_tool('web_search', {'query': 'æ­å·žä»Šå¤©å¤©æ°”'})
            print(res)


if __name__ == '__main__':
    asyncio.run(main())
</code></pre>
<p>
 å¦‚æžœæˆ‘ä»¬å‘çŽ°åœ¨å®¢æˆ·ç«¯æœ‰æŠ¥é”™ä¹Ÿä¸ç”¨æ…Œï¼Œæˆ‘ä»¬å¯ä»¥ç›´æŽ¥åœ¨æ—¥å¿—ä¸­æ‰¾åˆ°å¯¹åº”å‡ºé”™çš„è¯·æ±‚ç‚¹å‡»
 <code class="code">
  è¯·æ±‚æ—¥å¿—
 </code>
 æŸ¥çœ‹æŠ¥é”™æ¥ä¿®å¤ã€‚
</p>
<p>
<img alt="image-20250406155803071" src=".assets/image-20250406155803071.png"/>
</p>
<p>
 åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬çš„ MCP æœåŠ¡å°±è¢«éƒ¨ç½²åˆ°äº†äº‘ç«¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ç›´æŽ¥æ¥ä½¿ç”¨å®ƒäº†ã€‚
</p>
<p>
 æ¯”å¦‚ï¼Œåœ¨
 <code class="code">
  Cherry-Studio
 </code>
 ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥è®¾ç½®ï¼š
</p>
<p>
<img alt="image-20250406160152782" src=".assets/image-20250406160152782.png"/>
</p>
<p>
 åœ¨
 <code class="code">
  Cline
 </code>
 ä¸­ï¼š
</p>
<p>
<img alt="image-20250406160709759" src=".assets/image-20250406160709759.png"/>
</p>
<p>
 åœ¨
 <code class="code">
  Cursor
 </code>
 ä¸­ï¼š
</p>
<p>
<img alt="image-20250406161055717" src=".assets/image-20250406161055717.png"/>
</p>
<pre class="pre"><code class="language-json code">{
  "mcpServers": {
    "web-search": {
      "url": "https://mcp-test-whhergsbso.cn-hangzhou.fcapp.run/sse"
    }
  }
}
</code></pre>
<p>
 è‡³æ­¤ï¼Œæ•´ä¸ª MCP å…¥é—¨æ•™ç¨‹å°±åˆ°è¿™é‡Œå•¦ï¼ŒåŽç»­æœ‰å…¶ä»–çš„å†è¿›è¡Œæ›´æ–°ã€‚ç›¸å…³ä»£ç ä¼šæ”¾åˆ° github ä»“åº“ä¸­ï¼šhttps://github.com/liaokongVFX/MCP-Chinese-Getting-Started-Guide
</p>
</div>
<!-- Share Section -->
<div class="share-section">
<h3>Share this Project</h3>
<div class="share-buttons">
<button class="share-button" data-url="https://llmlogs.com/mcp/liaokongVFX-MCP-Chinese-Getting-Started-Guide.html">Copy Link</button>
</div>
</div>
</article>
</main>
<!-- Standard Footer -->
<footer class="site-footer">
<div class="footer-content">
<div class="footer-links">
<a href="/">Home</a>
<a href="/guides">Guides</a>
<a href="/free-tools">Tools</a>
<a href="/blog">Blog</a>
<a href="https://github.com/mattmerrick/llmseoguide" rel="noopener" target="_blank">GitHub</a>
</div>
<div class="footer-bottom">
<p>Â© 2025 LLM Logs. All rights reserved.</p>
</div>
</div>
</footer>
<!-- Required Scripts -->
<script src="/assets/js/main.js"></script>
</body>
</html>
</div>
<!-- Share Section -->
<div class="share-section">
<h3>Share this Project</h3>
<div class="share-buttons">
<button class="share-button" data-url="https://llmlogs.com/mcp/liaokongVFX-MCP-Chinese-Getting-Started-Guide.html">Copy Link</button>
</div>
</div>
</article>
</main>
<!-- Standard Footer -->
<footer class="site-footer">
<div class="footer-content">
<div class="footer-links">
<a href="/">Home</a>
<a href="/guides">Guides</a>
<a href="/free-tools">Tools</a>
<a href="/blog">Blog</a>
<a href="https://github.com/mattmerrick/llmseoguide" rel="noopener" target="_blank">GitHub</a>
</div>
<div class="footer-bottom">
<p>Â© 2025 LLM Logs. All rights reserved.</p>
</div>
</div>
</footer>
<!-- Required Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="../assets/js/main.js"></script>
</body>
</html>
</div>
<!-- Share Section -->
<div class="share-section">
<h3>Share this Project</h3>
<div class="share-buttons">
<button class="share-button" data-url="https://llmlogs.com/mcp/liaokongVFX-MCP-Chinese-Getting-Started-Guide.html">Copy Link</button>
</div>
</div>
</article>
</div>
</div>
</main>
<footer class="bg-white py-5 mt-5">
<div class="container">
<div class="row justify-content-center text-center">
<div class="col-md-8">
<div class="d-flex flex-column flex-md-row justify-content-center gap-4 mb-4">
<a class="text-muted text-decoration-none" href="/">Home</a>
<a class="text-muted text-decoration-none" href="/guides">Guides</a>
<a class="text-muted text-decoration-none" href="/tool-reviews">Tool Reviews</a>
<a class="text-muted text-decoration-none" href="/blog">Blog</a>
<a class="text-muted text-decoration-none" href="https://github.com/mattmerrick/llmseoguide" rel="noopener" target="_blank">GitHub</a>
</div>
<p class="text-muted small mb-0">Â© 2025 LLM Logs. All rights reserved.</p>
</div>
</div>
</div>
</footer>
<!-- Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="../assets/js/main.js"></script>
</body>
</html>
                    </div>

                    <!-- Share Section -->
                    <div class="share-section">
                        <h3>Share this Project</h3>
                        <div class="share-buttons">
                            <button class="btn btn-outline-primary share-button" data-url="https://llmlogs.com/mcp/liaokongVFX-MCP-Chinese-Getting-Started-Guide.html">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link-45deg me-2" viewBox="0 0 16 16">
                                    <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"/>
                                    <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"/>
                                </svg>
                                Copy Link
                            </button>
                        </div>
                    </div>
                </article>
            </div>
        </div>
    </main>

    <button class="btn btn-primary back-to-top hidden" aria-label="Back to top">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z"/>
        </svg>
    </button>

    <footer class="bg-white py-5 mt-5">
        <div class="container">
            <div class="row justify-content-center text-center">
                <div class="col-md-8">
                    <div class="d-flex flex-column flex-md-row justify-content-center gap-4 mb-4">
                        <a href="/" class="text-muted text-decoration-none">Home</a>
                        <a href="/guides" class="text-muted text-decoration-none">Guides</a>
                        <a href="/tools" class="text-muted text-decoration-none">Tools</a>
                        <a href="/blog" class="text-muted text-decoration-none">Blog</a>
                        <a href="https://github.com/mattmerrick/llmseoguide" target="_blank" rel="noopener" class="text-muted text-decoration-none">GitHub</a>
                    </div>
                    <p class="text-muted small mb-0">&copy; 2025 LLM Logs. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/js/main.js"></script>
</body>
</html>
